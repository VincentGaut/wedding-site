/*! For license information please see main.e2e193e1.js.LICENSE.txt */
(()=>{var e={122:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;0!==i--;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),x=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var F,M=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case C:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Ie=null;function Ce(e){if(e=wi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function Te(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function xe(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function ke(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ae(e,t,n)}finally{Pe=!1,(null!==Se||null!==Ie)&&(ke(),xe())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){De=!1}function Le(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Fe=!1,Me=null,je=!1,Be=null,Ue={onError:function(e){Fe=!0,Me=e}};function Ve(e,t,n,r,i,s,o,a,l){Fe=!1,Me=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,St,It,Ct,Tt=!1,xt=[],At=null,kt=null,Pt=null,Rt=new Map,Nt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Ft(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==At&&jt(At)&&(At=null),null!==kt&&jt(kt)&&(kt=null),null!==Pt&&jt(Pt)&&(Pt=null),Rt.forEach(Bt),Nt.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<xt.length){Vt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Vt(At,e),null!==kt&&Vt(kt,e),null!==Pt&&Vt(Pt,e),Rt.forEach(t),Nt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var Gt=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=wt,s=Gt.transition;Gt.transition=null;try{wt=1,Wt(e,t,n,r)}finally{wt=i,Gt.transition=s}}function Kt(e,t,n,r){var i=wt,s=Gt.transition;Gt.transition=null;try{wt=4,Wt(e,t,n,r)}finally{wt=i,Gt.transition=s}}function Wt(e,t,n,r){if(qt){var i=Jt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Ft(At,e,t,n,r,i),!0;case"dragenter":return kt=Ft(kt,e,t,n,r,i),!0;case"mouseover":return Pt=Ft(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Ft(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nt.set(s,Ft(Nt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Jt(e,t,n,r))&&qr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=M({},un,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(M({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return In}var Tn=M({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=sn(Tn),An=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=sn(Rn),Dn=[9,13,27,32],On=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Fn=c&&"TextEvent"in window&&!Ln,Mn=c&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Qn(e){jr(e,0)}function Jn(e){if(W(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&Jn(Wn)){var t=[];Hn(t,Wn,e,_e(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Wn)}function sr(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Ir={};function Cr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Sr[e]=n[t];return e}c&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Tr=Cr("animationend"),xr=Cr("animationiteration"),Ar=Cr("animationstart"),kr=Cr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(xr,"onAnimationIteration"),Nr(Ar,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(kr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(Ve.apply(this,arguments),Fe){if(!Fe)throw Error(s(198));var c=Me;Fe=!1,Me=null,je||(je=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,u),s=l}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=s,i=_e(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case Tr:case xr:case Ar:l=vn;break;case kr:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ne(p,d))&&c.push(Hr(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==u?a:bi(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Wr(f))p++;for(f=0,m=d;m;m=Wr(m))f++;for(;0<p-f;)c=Wr(c),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Wr(c),d=Wr(d)}c=null}else c=null;null!==l&&Qr(o,a,l,c,!1),null!==u&&null!==h&&Qr(o,h,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(qn(a))if($n)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Vn(n))&&(w.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=Xt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ne(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Ne(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ne(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=Ne(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ei=[],Si=-1;function Ii(e){return{current:e}}function Ci(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function Ti(e,t){Si++,Ei[Si]=e.current,e.current=t}var xi={},Ai=Ii(xi),ki=Ii(!1),Pi=xi;function Ri(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(ki),Ci(Ai)}function Oi(e,t,n){if(Ai.current!==xi)throw Error(s(168));Ti(Ai,t),Ti(ki,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,G(e)||"Unknown",i));return M({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Pi=Ai.current,Ti(Ai,e),Ti(ki,ki.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ci(ki),Ci(Ai),Ti(Ai,e)):Ci(ki),Ti(ki,n)}var ji=null,Bi=!1,Ui=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Ze,zi),i}finally{wt=t,Ui=!1}}return null}var Gi=[],qi=0,Hi=null,Ki=0,Wi=[],Qi=0,Ji=null,Yi=1,$i="";function Xi(e,t){Gi[qi++]=Ki,Gi[qi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Wi[Qi++]=Yi,Wi[Qi++]=$i,Wi[Qi++]=Ji,Ji=e;var r=Yi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Yi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=Gi[--qi],Gi[qi]=null,Ki=Gi[--qi],Gi[qi]=null;for(;e===Ji;)Ji=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null,Yi=Wi[--Qi],Wi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case E:return(t=ju(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),is&&Xi(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return is&&Xi(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Xi(i,m),u}function g(i,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,u);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?c=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&Xi(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return is&&Xi(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Xi(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===N&&ys(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=gs(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((s=Lu(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Ou(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=ju(o,r.mode,l)).return=r,r=s}return a(r);case N:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(L(o))return g(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Mu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var bs=ws(!0),_s=ws(!1),Es=Ii(null),Ss=null,Is=null,Cs=null;function Ts(){Cs=Is=Ss=null}function xs(e){var t=Es.current;Ci(Es),e._currentValue=t}function As(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t){Ss=e,Cs=Is=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===Is){if(null===Ss)throw Error(s(308));Is=e,Ss.dependencies={lanes:0,firstContext:e}}else Is=Is.next=e;return t}var Rs=null;function Ns(e){null===Rs?Rs=[e]:Rs.push(e)}function Ds(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ns(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,Ns(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function Gs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Hs=Ii(qs),Ks=Ii(qs),Ws=Ii(qs);function Qs(e){if(e===qs)throw Error(s(174));return e}function Js(e,t){switch(Ti(Ws,t),Ti(Ks,e),Ti(Hs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Hs),Ti(Hs,t)}function Ys(){Ci(Hs),Ci(Ks),Ci(Ws)}function $s(e){Qs(Ws.current);var t=Qs(Hs.current),n=le(t,e.type);t!==n&&(Ti(Ks,e),Ti(Hs,n))}function Xs(e){Ks.current===e&&(Ci(Hs),Ci(Ks))}var Zs=Ii(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(co)}if(ro.current=Xo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function wo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((so&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,oo.lanes|=h,Fl|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Fl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Io(e,t){var n=oo,r=wo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Fo(xo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ro(9,To.bind(null,n,r,i,t),void 0,null),null===kl)throw Error(s(349));0!==(30&so)||Co(n,t,i)}return i}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&ko(e)}function xo(e,t,n){return n((function(){Ao(t)&&ko(e)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function ko(e){var t=Os(e,1);null!==t&&nu(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function No(){return wo().memoizedState}function Do(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=wo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,s,r))}oo.flags|=e,i.memoizedState=Ro(1|t,n,s,r)}function Lo(e,t){return Do(8390656,8,e,t)}function Fo(e,t){return Oo(2048,8,e,t)}function Mo(e,t){return Oo(4,2,e,t)}function jo(e,t){return Oo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Bo.bind(null,t,e),n)}function Vo(){}function zo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Fl|=n,e.baseState=!0),t)}function Ho(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{wt=n,io.transition=r}}function Ko(){return wo().memoizedState}function Wo(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e))Yo(t,n);else if(null!==(n=Ds(e,t,n,r))){nu(n,e,r,eu()),$o(n,t,r)}}function Qo(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Yo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ns(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ds(e,t,i,r))&&(nu(n,e,r,i=eu()),$o(n,t,r))}}function Jo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xo={readContext:Ps,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ps,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:Vo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Ho.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===kl)throw Error(s(349));0!==(30&so)||Co(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(xo.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=kl.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:zo,useContext:Ps,useEffect:Fo,useImperativeHandle:Uo,useInsertionEffect:Mo,useLayoutEffect:jo,useMemo:Go,useReducer:_o,useRef:No,useState:function(){return _o(bo)},useDebugValue:Vo,useDeferredValue:function(e){return qo(wo(),ao.memoizedState,e)},useTransition:function(){return[_o(bo)[0],wo().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:zo,useContext:Ps,useEffect:Fo,useImperativeHandle:Uo,useInsertionEffect:Mo,useLayoutEffect:jo,useMemo:Go,useReducer:Eo,useRef:No,useState:function(){return Eo(bo)},useDebugValue:Vo,useDeferredValue:function(e){var t=wo();return null===ao?t.memoizedState=e:qo(t,ao.memoizedState,e)},useTransition:function(){return[Eo(bo)[0],wo().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=js(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(nu(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=js(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(nu(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=js(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bs(e,i,r))&&(nu(t,e,r,n),Us(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=xi,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Ni(t)?Pi:Ai.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):xi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Ni(t)?Pi:Ai.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Hl=r),ha(0,t)},n}function pa(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,Bs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?_s(t,null,n,r):bs(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var s=t.ref;return ks(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||wa?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Nu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Du(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ta(e,t,n,r,i)}function Ia(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Dl,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Dl,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Dl,Nl),Nl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Dl,Nl),Nl|=r;return ba(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var s=Ni(n)?Pi:Ai.current;return s=Ri(t,s),ks(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||wa?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function xa(e,t,n,r,i){if(Ni(n)){var s=!0;Fi(t)}else s=!1;if(ks(t,i),null===t.stateNode)Ga(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ps(u):u=Ri(t,u=Ni(n)?Pi:Ai.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,o,r,u),Ls=!1;var d=t.memoizedState;o.state=d,zs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||ki.current||Ls?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Ls||sa(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ms(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Ri(t,l=Ni(n)?Pi:Ai.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Ls=!1,d=t.memoizedState,o.state=d,zs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||ki.current||Ls?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(u=Ls||sa(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,s,i)}function Aa(e,t,n,r,i,s){Ca(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),qa(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function ka(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Js(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ba(e,t,n,r),t.child}var Ra,Na,Da,Oa,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(Zs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fu(l,i,0,null),e=Lu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=La,e):ja(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fu({mode:"visible",children:r.children},i,0,null),(o=Lu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=La,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ca(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=kl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Os(e,i),nu(r,e,i,-1))}return mu(),Ba(e,t,a,r=ca(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Wi[Qi++]=Yi,Wi[Qi++]=$i,Wi[Qi++]=Ji,Yi=e.id,$i=e.overflow,Ji=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Du(r,a):(a=Lu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Du(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),As(e.return,t,n)}function Va(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,s);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ni(t.type)&&Di(),Ka(t),null;case 3:return r=t.stateNode,Ys(),Ci(ki),Ci(Ai),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Na(e,t),Ka(t),null;case 5:Xs(t);var i=Qs(Ws.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ka(t),null}if(e=Qs(Hs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Y(e,r),i=J(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Br("scroll",e):null!=c&&w(e,o,c,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Ws.current),Qs(Hs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ci(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Ys(),Na(e,t),null===e&&zr(t.stateNode.containerInfo),Ka(t),null;case 10:return xs(t.type._context),Ka(t),null;case 19:if(Ci(Zs),null===(o=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ha(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ha(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>zl&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ka(t),null}else 2*$e()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,Ti(Zs,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qa(e,t){switch(ts(t),t.tag){case 1:return Ni(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Ci(ki),Ci(Ai),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Ci(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(Zs),null;case 4:return Ys(),null;case 10:return xs(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Hs.current);var s,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Ya=!1,$a="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Iu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Iu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=cl,i=hl;cl=null,dl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Iu(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,dl(e,t,n),Ya=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));fl(o,a,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Iu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Iu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Iu(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Iu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),we(l,a);var c=we(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,c)}switch(l){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Iu(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Iu(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Iu(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=$e())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(c=Ya)||h,ml(t,e),Ya=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Xa=e,h=e.child;null!==h;){for(d=Xa=h;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Iu(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,Xa=p):_l(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){Iu(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Iu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Iu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xa=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ja;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Ja;var u=Ya;if(Ja=o,(Ya=l)&&!u)for(Xa=i;null!==Xa;)l=(o=Xa).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,Xa=l):El(i);for(;null!==s;)Xa=s,wl(s,t,n),s=s.sibling;Xa=i,Ja=a,Ya=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xa=s):bl(e)}}function bl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Gs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Gs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Ya||512&t.flags&&il(t)}catch(f){Iu(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function _l(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function El(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Iu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Iu(t,i,l)}}var s=t.return;try{il(t)}catch(l){Iu(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Iu(t,o,l)}}}catch(l){Iu(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Sl,Il=Math.ceil,Cl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Al=0,kl=null,Pl=null,Rl=0,Nl=0,Dl=Ii(0),Ol=0,Ll=null,Fl=0,Ml=0,jl=0,Bl=null,Ul=null,Vl=0,zl=1/0,Gl=null,ql=!1,Hl=null,Kl=null,Wl=!1,Ql=null,Jl=0,Yl=0,$l=null,Xl=-1,Zl=0;function eu(){return 0!==(6&Al)?$e():-1!==Xl?Xl:Xl=$e()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,$l=null,Error(s(185));vt(e,n,r),0!==(2&Al)&&e===kl||(e===kl&&(0===(2&Al)&&(Ml|=n),4===Ol&&au(e,Rl)),ru(e,r),1===n&&0===Al&&0===(1&t.mode)&&(zl=$e()+500,Bi&&zi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===kl?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(lu.bind(null,e)):Vi(lu.bind(null,e)),oi((function(){0===(6&Al)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=ku(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,Zl=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=dt(e,e===kl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Al;Al|=2;var o=pu();for(kl===e&&Rl===t||(Gl=null,zl=$e()+500,du(e,t));;)try{yu();break}catch(l){fu(e,l)}Ts(),Cl.current=o,Al=i,null!==Pl?t=0:(kl=null,Rl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Ll,du(e,0),au(e,r),ru(e,$e()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=pt(e))&&(r=o,t=su(e,o))),1===t))throw n=Ll,du(e,0),au(e,r),ru(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_u(e,Ul,Gl);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=Vl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_u.bind(null,e,Ul,Gl),t);break}_u(e,Ul,Gl);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(_u.bind(null,e,Ul,Gl),r);break}_u(e,Ul,Gl);break;default:throw Error(s(329))}}}return ru(e,$e()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Ul,Ul=n,null!==t&&ou(t)),e}function ou(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function au(e,t){for(t&=~jl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Al))throw Error(s(327));Eu();var t=dt(e,0);if(0===(1&t))return ru(e,$e()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Ll,du(e,0),au(e,t),ru(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Ul,Gl),ru(e,$e()),null}function uu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(zl=$e()+500,Bi&&zi())}}function cu(e){null!==Ql&&0===Ql.tag&&0===(6&Al)&&Eu();var t=Al;Al|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0===(6&(Al=t))&&zi()}}function hu(){Nl=Dl.current,Ci(Dl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Ys(),Ci(ki),Ci(Ai),no();break;case 5:Xs(r);break;case 4:Ys();break;case 13:case 19:Ci(Zs);break;case 10:xs(r.type._context);break;case 22:case 23:hu()}n=n.return}if(kl=e,Pl=e=Du(e.current,null),Rl=Nl=t,Ol=0,Ll=null,jl=Ml=Fl=0,Ul=Bl=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Rs=null}return e}function fu(e,t){for(;;){var n=Pl;try{if(Ts(),ro.current=Xo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,Tl.current=null,null===n||null===n.return){Ol=1,Ll=t,Pl=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ma(o,c,t),mu();break e}u=Error(s(426))}else if(is&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),ps(ua(u,l));break e}}o=u=ua(u,l),4!==Ol&&(Ol=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,fa(0,u,t));break e;case 1:l=u;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pu(){var e=Cl.current;return Cl.current=Xo,null===e?Xo:e}function mu(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===kl||0===(268435455&Fl)&&0===(268435455&Ml)||au(kl,Rl)}function gu(e,t){var n=Al;Al|=2;var r=pu();for(kl===e&&Rl===t||(Gl=null,du(e,t));;)try{vu();break}catch(i){fu(e,i)}if(Ts(),Al=n,Cl.current=r,null!==Pl)throw Error(s(261));return kl=null,Rl=0,Ol}function vu(){for(;null!==Pl;)wu(Pl)}function yu(){for(;null!==Pl&&!Je();)wu(Pl)}function wu(e){var t=Sl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?bu(e):Pl=t,Tl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wa(n,t,Nl)))return void(Pl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ol=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ol&&(Ol=5)}function _u(e,t,n){var r=wt,i=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{Eu()}while(null!==Ql);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===kl&&(Pl=kl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,ku(tt,(function(){return Eu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xl.transition,xl.transition=null;var a=wt;wt=1;var l=Al;Al|=4,Tl.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Iu(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Al=l,wt=a,xl.transition=o}else e.current=n;if(Wl&&(Wl=!1,Ql=e,Jl=i),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Jl)&&0!==e.tag&&Eu(),o=e.pendingLanes,0!==(1&o)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,zi()}(e,t,n,r)}finally{xl.transition=i,wt=r}return null}function Eu(){if(null!==Ql){var e=bt(Jl),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Jl=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,Xa=e.current;null!==Xa;){var o=Xa,a=o.child;if(0!==(16&Xa.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xa=c;null!==Xa;){var h=Xa;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Xa=d;else for(;null!==Xa;){var f=(h=Xa).sibling,p=h.return;if(sl(h),h===c){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(o=Xa).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xa=y;break e}Xa=o.return}}var w=e.current;for(Xa=w;null!==Xa;){var b=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Xa=b;else e:for(a=w;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Iu(l,l.return,E)}if(l===a){Xa=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Xa=_;break e}Xa=l.return}}if(Al=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Su(e,t,n){e=Bs(e,t=fa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Iu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Bs(t,e=pa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,kl===e&&(Rl&n)===n&&(4===Ol||3===Ol&&(130023424&Rl)===Rl&&500>$e()-Vl?du(e,0):jl|=n),ru(e,t)}function Tu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Os(e,t))&&(vt(e,t,n),ru(e,n))}function xu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tu(e,n)}function ku(e,t){return We(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Pu(e,t,n,r)}function Nu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Nu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Lu(n.children,i,o,t);case I:a=8,i|=8;break;case C:return(e=Ru(12,n,t,2|i)).elementType=C,e.lanes=o,e;case k:return(e=Ru(13,n,t,i)).elementType=k,e.lanes=o,e;case P:return(e=Ru(19,n,t,i)).elementType=P,e.lanes=o,e;case D:return Fu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case x:a=9;break e;case A:a=11;break e;case R:a=14;break e;case N:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ru(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function ju(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,s,o,a,l){return e=new Bu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ru(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(s),e}function Vu(e){if(!e)return xi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function zu(e,t,n,r,i,s,o,a,l){return(e=Uu(n,r,!0,e,0,s,0,a,l)).context=Vu(null),n=e.current,(s=js(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Bs(n,s,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function Gu(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bs(i,t,o))&&(nu(e,i,o,s),Us(e,i,o)),o}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:ka(t),fs();break;case 5:$s(t);break;case 1:Ni(t.type)&&Fi(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(Ti(Zs,1&Zs.current),null!==(e=qa(e,t,n))?e.sibling:null);Ti(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ia(e,t,n)}return qa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ga(e,t),e=t.pendingProps;var i=Ri(t,Ai.current);ks(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fs(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Aa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(ka(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ms(e,t),zs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ca(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Ma(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ti(Es,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!ki.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=js(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),As(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),As(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ks(t,n),r=r(i=Ps(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ea(e,t,r,i=na(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ga(e,t),t.tag=1,Ni(r)?(e=!0,Fi(t)):e=!1,ks(t,n),oa(t,r,i),la(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Ia(e,t,n)}throw Error(s(156,t.tag))};var Wu="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=qu(o);a.call(e)}}Gu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qu(o);s.call(e)}}var o=zu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qu(l);a.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),cu((function(){Gu(t,l,n,r)})),l}(n,t,e,i,r);return qu(o)}Ju.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gu(e,t,null,null)},Ju.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Gu(null,e,null,null)})),t[pi]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,$e()),0===(6&Al)&&(zl=$e()+500,zi()))}break;case 13:cu((function(){var t=Os(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Ku(e,1)}},Et=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nu(t,e,134217728,eu());Ku(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Os(e,t);if(null!==n)nu(n,e,t,eu());Ku(e,t)}},It=function(){return wt},Ct=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));W(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uu,ke=cu;var ec={usingClientEntryPoint:!1,Events:[wi,bi,_i,Te,xe,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(s(299));var n=!1,r="",i=Wu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!$u(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Wu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ju(t)},t.render=function(e,t,n){if(!$u(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(s(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$u(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},310:function(e,t,n){var r=n(756);!function(e,t){"use strict";function n(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var o=e.apply(t,r);function a(e){n(o,i,s,a,l,"next",e)}function l(e){n(o,i,s,a,l,"throw",e)}a(void 0)}))}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var l={init:"init"},u=function(e){var t=e.value;return void 0===t?"":t},c=function(){return t.createElement(t.Fragment,null,"\xa0")},h={Cell:u,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=t.style,r=t.className;return e=s({},e,{},o(t,["style","className"])),n&&(e.style=e.style?s({},e.style||{},{},n||{}):n),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var f=function(e,t){return void 0===t&&(t={}),function(n){return void 0===n&&(n={}),[].concat(e,[n]).reduce((function(e,r){return function e(t,n,r){return"function"==typeof n?e({},n(t,r)):Array.isArray(n)?d.apply(void 0,[t].concat(n)):d(t,n)}(e,r,s({},t,{userProps:n}))}),{})}},p=function(e,t,n,r){return void 0===n&&(n={}),e.reduce((function(e,t){return t(e,n)}),t)},m=function(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){e(t,n)}))};function g(e,t,n,r){e.findIndex((function(e){return e.pluginName===n})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function v(e,t){return"function"==typeof e?e(t):e}function y(e){var n=t.useRef();return n.current=e,t.useCallback((function(){return n.current}),[])}var w="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function b(e,n){var r=t.useRef(!1);w((function(){r.current&&e(),r.current=!0}),n)}function _(e,t,n){return void 0===n&&(n={}),function(r,i){void 0===i&&(i={});var o="string"==typeof r?t[r]:r;if(void 0===o)throw console.info(t),new Error("Renderer Error \u261d\ufe0f");return E(o,s({},e,{column:t},n,{},i))}}function E(e,n){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(r=e)||"function"==typeof r||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?t.createElement(e,n):e;var r}function S(e,t,n){return void 0===n&&(n=0),e.map((function(e){return C(e=s({},e,{parent:t,depth:n})),e.columns&&(e.columns=S(e.columns,e,n+1)),e}))}function I(e){return R(e,"columns")}function C(e){var t=e.id,n=e.accessor,r=e.Header;if("string"==typeof n){t=t||n;var i=n.split(".");n=function(e){return function(e,t,n){if(!t)return e;var r,i="function"==typeof t?t:JSON.stringify(t),s=A.get(i)||function(){var e=function(e){return function e(t,n){if(void 0===n&&(n=[]),Array.isArray(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(M,".").replace(j,"").split(".")}(t);return A.set(i,e),e}();try{r=s.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==r?r:n}(e,i)}}if(!t&&"string"==typeof r&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function T(e,t){if(!t)throw new Error;return Object.assign(e,s({Header:c,Footer:c},h,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function x(e,t,n){void 0===n&&(n=function(){return{}});for(var r=[],i=e,o=0,a=function(){return o++},l=function(){var e={headers:[]},o=[],l=i.some((function(e){return e.parent}));i.forEach((function(r){var i,u=[].concat(o).reverse()[0];l&&(i=r.parent?s({},r.parent,{originalId:r.parent.id,id:r.parent.id+"_"+a(),headers:[r]},n(r)):T(s({originalId:r.id+"_placeholder",id:r.id+"_placeholder_"+a(),placeholderOf:r,headers:[r]},n(r)),t),u&&u.originalId===i.originalId?u.headers.push(r):o.push(i)),e.headers.push(r)})),r.push(e),i=o};i.length;)l();return r.reverse()}var A=new Map;function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(void 0!==t[r])return t[r]}function P(e){if("function"==typeof e)return e}function R(e,t){var n=[];return function e(r){r.forEach((function(r){r[t]?e(r[t]):n.push(r)}))}(e),n}function N(e,t){var n=t.manualExpandedKey,r=t.expanded,i=t.expandSubRows,s=void 0===i||i,o=[];return e.forEach((function(e){return function e(t,i){void 0===i&&(i=!0),t.isExpanded=t.original&&t.original[n]||r[t.id],t.canExpand=t.subRows&&!!t.subRows.length,i&&o.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,s)}))}(e)})),o}function D(e,t,n){return P(e)||t[e]||n[e]||n.text}function O(e,t,n){return e?e(t,n):void 0===t}function L(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var F=null,M=/\[/g,j=/\]/g,B=function(e){return s({role:"table"},e)},U=function(e){return s({role:"rowgroup"},e)},V=function(e,t){var n=t.column;return s({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},z=function(e,t){var n=t.column;return s({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},G=function(e,t){return s({key:"headerGroup_"+t.index,role:"row"},e)},q=function(e,t){return s({key:"footerGroup_"+t.index},e)},H=function(e,t){return s({key:"row_"+t.row.id,role:"row"},e)},K=function(e,t){var n=t.cell;return s({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function W(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[B],getTableBodyProps:[U],getHeaderGroupProps:[G],getFooterGroupProps:[q],getHeaderProps:[V],getFooterProps:[z],getRowProps:[H],getCellProps:[K],useFinalInstance:[]}}l.resetHiddenColumns="resetHiddenColumns",l.toggleHideColumn="toggleHideColumn",l.setHiddenColumns="setHiddenColumns",l.toggleHideAllColumns="toggleHideAllColumns";var Q=function(e){e.getToggleHiddenProps=[J],e.getToggleHideAllColumnsProps=[Y],e.stateReducers.push($),e.useInstanceBeforeDimensions.push(X),e.headerGroupsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.hiddenColumns])})),e.useInstance.push(Z)};Q.pluginName="useColumnVisibility";var J=function(e,t){var n=t.column;return[e,{onChange:function(e){n.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},Y=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function $(e,t,n,r){if(t.type===l.init)return s({hiddenColumns:[]},e);if(t.type===l.resetHiddenColumns)return s({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===l.toggleHideColumn){var i=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return s({},e,{hiddenColumns:i})}return t.type===l.setHiddenColumns?s({},e,{hiddenColumns:v(t.value,e.hiddenColumns)}):t.type===l.toggleHideAllColumns?s({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?r.allColumns.map((function(e){return e.id})):[]}):void 0}function X(e){var n=e.headers,r=e.state.hiddenColumns;t.useRef(!1).current;var i=0;n.forEach((function(e){return i+=function e(t,n){t.isVisible=n&&!r.includes(t.id);var i=0;return t.headers&&t.headers.length?t.headers.forEach((function(n){return i+=e(n,t.isVisible)})):i=t.isVisible?1:0,t.totalVisibleHeaderCount=i,i}(e,!0)}))}function Z(e){var n=e.columns,r=e.flatHeaders,i=e.dispatch,s=e.allColumns,o=e.getHooks,a=e.state.hiddenColumns,u=e.autoResetHiddenColumns,c=void 0===u||u,h=y(e),d=s.length===a.length,p=t.useCallback((function(e,t){return i({type:l.toggleHideColumn,columnId:e,value:t})}),[i]),m=t.useCallback((function(e){return i({type:l.setHiddenColumns,value:e})}),[i]),g=t.useCallback((function(e){return i({type:l.toggleHideAllColumns,value:e})}),[i]),v=f(o().getToggleHideAllColumnsProps,{instance:h()});r.forEach((function(e){e.toggleHidden=function(t){i({type:l.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=f(o().getToggleHiddenProps,{instance:h(),column:e})}));var w=y(c);b((function(){w()&&i({type:l.resetHiddenColumns})}),[i,n]),Object.assign(e,{allColumnsHidden:d,toggleHideColumn:p,setHiddenColumns:m,toggleHideAllColumns:g,getToggleHideAllColumnsProps:v})}var ee={},te={},ne=function(e,t,n){return e},re=function(e,t){return e.subRows||[]},ie=function(e,t,n){return""+(n?[n.id,t].join("."):t)},se=function(e){return e};function oe(e){var t=e.initialState,n=void 0===t?ee:t,r=e.defaultColumn,i=void 0===r?te:r,a=e.getSubRows,l=void 0===a?re:a,u=e.getRowId,c=void 0===u?ie:u,h=e.stateReducer,d=void 0===h?ne:h,f=e.useControlledState,p=void 0===f?se:f;return s({},o(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:i,getSubRows:l,getRowId:c,stateReducer:d,useControlledState:p})}function ae(e,t){void 0===t&&(t=0);var n=0,r=0,i=0,s=0;return e.forEach((function(e){var o=e.headers;if(e.totalLeft=t,o&&o.length){var a=ae(o,t),l=a[0],u=a[1],c=a[2],h=a[3];e.totalMinWidth=l,e.totalWidth=u,e.totalMaxWidth=c,e.totalFlexWidth=h}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,n+=e.totalMinWidth,r+=e.totalWidth,i+=e.totalMaxWidth,s+=e.totalFlexWidth)})),[n,r,i,s]}function le(e){var t=e.data,n=e.rows,r=e.flatRows,i=e.rowsById,s=e.column,o=e.getRowId,a=e.getSubRows,l=e.accessValueHooks,u=e.getInstance;t.forEach((function(e,c){return function e(n,c,h,d,f){void 0===h&&(h=0);var m=n,g=o(n,c,d),v=i[g];if(v)v.subRows&&v.originalSubRows.forEach((function(t,n){return e(t,n,h+1,v)}));else if((v={id:g,original:m,index:c,depth:h,cells:[{}]}).cells.map=L,v.cells.filter=L,v.cells.forEach=L,v.cells[0].getCellProps=L,v.values={},f.push(v),r.push(v),i[g]=v,v.originalSubRows=a(n,c),v.originalSubRows){var y=[];v.originalSubRows.forEach((function(t,n){return e(t,n,h+1,v,y)})),v.subRows=y}s.accessor&&(v.values[s.id]=s.accessor(n,c,v,f,t)),v.values[s.id]=p(l,v.values[s.id],{row:v,column:s,instance:u()})}(e,c,0,void 0,n)}))}l.resetExpanded="resetExpanded",l.toggleRowExpanded="toggleRowExpanded",l.toggleAllRowsExpanded="toggleAllRowsExpanded";var ue=function(e){e.getToggleAllRowsExpandedProps=[ce],e.getToggleRowExpandedProps=[he],e.stateReducers.push(de),e.useInstance.push(fe),e.prepareRow.push(pe)};ue.pluginName="useExpanded";var ce=function(e,t){var n=t.instance;return[e,{onClick:function(e){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},he=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function de(e,t,n,r){if(t.type===l.init)return s({expanded:{}},e);if(t.type===l.resetExpanded)return s({},e,{expanded:r.initialState.expanded||{}});if(t.type===l.toggleAllRowsExpanded){var i=t.value,u=r.rowsById,c=Object.keys(u).length===Object.keys(e.expanded).length;if(void 0!==i?i:!c){var h={};return Object.keys(u).forEach((function(e){h[e]=!0})),s({},e,{expanded:h})}return s({},e,{expanded:{}})}if(t.type===l.toggleRowExpanded){var d,f=t.id,p=t.value,m=e.expanded[f],g=void 0!==p?p:!m;if(!m&&g)return s({},e,{expanded:s({},e.expanded,(d={},d[f]=!0,d))});if(m&&!g){var v=e.expanded;return v[f],s({},e,{expanded:o(v,[f].map(a))})}return e}}function fe(e){var n=e.data,r=e.rows,i=e.rowsById,s=e.manualExpandedKey,o=void 0===s?"expanded":s,a=e.paginateExpandedRows,u=void 0===a||a,c=e.expandSubRows,h=void 0===c||c,d=e.autoResetExpanded,p=void 0===d||d,m=e.getHooks,v=e.plugins,w=e.state.expanded,_=e.dispatch;g(v,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var E=y(p),S=Boolean(Object.keys(i).length&&Object.keys(w).length);S&&Object.keys(i).some((function(e){return!w[e]}))&&(S=!1),b((function(){E()&&_({type:l.resetExpanded})}),[_,n]);var I=t.useCallback((function(e,t){_({type:l.toggleRowExpanded,id:e,value:t})}),[_]),C=t.useCallback((function(e){return _({type:l.toggleAllRowsExpanded,value:e})}),[_]),T=t.useMemo((function(){return u?N(r,{manualExpandedKey:o,expanded:w,expandSubRows:h}):r}),[u,r,o,w,h]),x=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var n=e.split(".");t=Math.max(t,n.length)})),t}(w)}),[w]),A=y(e),k=f(m().getToggleAllRowsExpandedProps,{instance:A()});Object.assign(e,{preExpandedRows:r,expandedRows:T,rows:T,expandedDepth:x,isAllRowsExpanded:S,toggleRowExpanded:I,toggleAllRowsExpanded:C,getToggleAllRowsExpandedProps:k})}function pe(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(t){return r.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=f(n().getToggleRowExpandedProps,{instance:r,row:e})}var me=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return String(r).toLowerCase().includes(String(n).toLowerCase())}))}))};me.autoRemove=function(e){return!e};var ge=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r).toLowerCase()===String(n).toLowerCase()}))}))};ge.autoRemove=function(e){return!e};var ve=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r)===String(n)}))}))};ve.autoRemove=function(e){return!e};var ye=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(n)}))}))};ye.autoRemove=function(e){return!e||!e.length};var we=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.every((function(e){return r.includes(e)}))}))}))};we.autoRemove=function(e){return!e||!e.length};var be=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.some((function(e){return r.includes(e)}))}))}))};be.autoRemove=function(e){return!e||!e.length};var _e=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return n.includes(r)}))}))};_e.autoRemove=function(e){return!e||!e.length};var Ee=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]===n}))}))};Ee.autoRemove=function(e){return void 0===e};var Se=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]==n}))}))};Se.autoRemove=function(e){return null==e};var Ie=function(e,t,n){var r=n||[],i=r[0],s=r[1];if((i="number"==typeof i?i:-1/0)>(s="number"==typeof s?s:1/0)){var o=i;i=s,s=o}return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n>=i&&n<=s}))}))};Ie.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var Ce=Object.freeze({__proto__:null,text:me,exactText:ge,exactTextCase:ve,includes:ye,includesAll:we,includesSome:be,includesValue:_e,exact:Ee,equals:Se,between:Ie});l.resetFilters="resetFilters",l.setFilter="setFilter",l.setAllFilters="setAllFilters";var Te=function(e){e.stateReducers.push(xe),e.useInstance.push(Ae)};function xe(e,t,n,r){if(t.type===l.init)return s({filters:[]},e);if(t.type===l.resetFilters)return s({},e,{filters:r.initialState.filters||[]});if(t.type===l.setFilter){var i=t.columnId,o=t.filterValue,a=r.allColumns,u=r.filterTypes,c=a.find((function(e){return e.id===i}));if(!c)throw new Error("React-Table: Could not find a column with id: "+i);var h=D(c.filter,u||{},Ce),d=e.filters.find((function(e){return e.id===i})),f=v(o,d&&d.value);return O(h.autoRemove,f,c)?s({},e,{filters:e.filters.filter((function(e){return e.id!==i}))}):s({},e,d?{filters:e.filters.map((function(e){return e.id===i?{id:i,value:f}:e}))}:{filters:[].concat(e.filters,[{id:i,value:f}])})}if(t.type===l.setAllFilters){var p=t.filters,m=r.allColumns,g=r.filterTypes;return s({},e,{filters:v(p,e.filters).filter((function(e){var t=m.find((function(t){return t.id===e.id}));return!O(D(t.filter,g||{},Ce).autoRemove,e.value,t)}))})}}function Ae(e){var n=e.data,r=e.rows,i=e.flatRows,s=e.rowsById,o=e.allColumns,a=e.filterTypes,u=e.manualFilters,c=e.defaultCanFilter,h=void 0!==c&&c,d=e.disableFilters,f=e.state.filters,p=e.dispatch,m=e.autoResetFilters,g=void 0===m||m,v=t.useCallback((function(e,t){p({type:l.setFilter,columnId:e,filterValue:t})}),[p]),w=t.useCallback((function(e){p({type:l.setAllFilters,filters:e})}),[p]);o.forEach((function(e){var t=e.id,n=e.accessor,r=e.defaultCanFilter,i=e.disableFilters;e.canFilter=n?k(!0!==i&&void 0,!0!==d&&void 0,!0):k(r,h,!1),e.setFilter=function(t){return v(e.id,t)};var s=f.find((function(e){return e.id===t}));e.filterValue=s&&s.value}));var _=t.useMemo((function(){if(u||!f.length)return[r,i,s];var e=[],t={};return[function n(r,i){void 0===i&&(i=0);var s=r;return(s=f.reduce((function(e,t){var n=t.id,r=t.value,s=o.find((function(e){return e.id===n}));if(!s)return e;0===i&&(s.preFilteredRows=e);var l=D(s.filter,a||{},Ce);return l?(s.filteredRows=l(e,[n],r),s.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+s.id+"."),e)}),r)).forEach((function(r){e.push(r),t[r.id]=r,r.subRows&&(r.subRows=r.subRows&&r.subRows.length>0?n(r.subRows,i+1):r.subRows)})),s}(r),e,t]}),[u,f,r,i,s,o,a]),E=_[0],S=_[1],I=_[2];t.useMemo((function(){o.filter((function(e){return!f.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=E,e.filteredRows=E}))}),[E,f,o]);var C=y(g);b((function(){C()&&p({type:l.resetFilters})}),[p,u?null:n]),Object.assign(e,{preFilteredRows:r,preFilteredFlatRows:i,preFilteredRowsById:s,filteredRows:E,filteredFlatRows:S,filteredRowsById:I,rows:E,flatRows:S,rowsById:I,setFilter:v,setAllFilters:w})}Te.pluginName="useFilters",l.resetGlobalFilter="resetGlobalFilter",l.setGlobalFilter="setGlobalFilter";var ke=function(e){e.stateReducers.push(Pe),e.useInstance.push(Re)};function Pe(e,t,n,r){if(t.type===l.resetGlobalFilter)return s({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===l.setGlobalFilter){var i=t.filterValue,a=r.userFilterTypes,u=D(r.globalFilter,a||{},Ce),c=v(i,e.globalFilter);return O(u.autoRemove,c)?(e.globalFilter,o(e,["globalFilter"])):s({},e,{globalFilter:c})}}function Re(e){var n=e.data,r=e.rows,i=e.flatRows,s=e.rowsById,o=e.allColumns,a=e.filterTypes,u=e.globalFilter,c=e.manualGlobalFilter,h=e.state.globalFilter,d=e.dispatch,f=e.autoResetGlobalFilter,p=void 0===f||f,m=e.disableGlobalFilter,g=t.useCallback((function(e){d({type:l.setGlobalFilter,filterValue:e})}),[d]),v=t.useMemo((function(){if(c||void 0===h)return[r,i,s];var e=[],t={},n=D(u,a||{},Ce);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),r;o.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=k(!0!==t&&void 0,!0!==m&&void 0,!0)}));var l=o.filter((function(e){return!0===e.canFilter}));return[function r(i){return(i=n(i,l.map((function(e){return e.id})),h)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows=n.subRows&&n.subRows.length?r(n.subRows):n.subRows})),i}(r),e,t]}),[c,h,u,a,o,r,i,s,m]),w=v[0],_=v[1],E=v[2],S=y(p);b((function(){S()&&d({type:l.resetGlobalFilter})}),[d,c?null:n]),Object.assign(e,{preGlobalFilteredRows:r,preGlobalFilteredFlatRows:i,preGlobalFilteredRowsById:s,globalFilteredRows:w,globalFilteredFlatRows:_,globalFilteredRowsById:E,rows:w,flatRows:_,rowsById:E,setGlobalFilter:g,disableGlobalFilter:m})}function Ne(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}ke.pluginName="useGlobalFilter";var De=Object.freeze({__proto__:null,sum:Ne,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),n=Math.max(n,e))})),t+".."+n},average:function(e){return Ne(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),Oe=[],Le={};l.resetGroupBy="resetGroupBy",l.setGroupBy="setGroupBy",l.toggleGroupBy="toggleGroupBy";var Fe=function(e){e.getGroupByToggleProps=[Me],e.stateReducers.push(je),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.groupBy])})),e.visibleColumns.push(Be),e.useInstance.push(Ve),e.prepareRow.push(ze)};Fe.pluginName="useGroupBy";var Me=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(e){e.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function je(e,t,n,r){if(t.type===l.init)return s({groupBy:[]},e);if(t.type===l.resetGroupBy)return s({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===l.setGroupBy)return s({},e,{groupBy:t.value});if(t.type===l.toggleGroupBy){var i=t.columnId,o=t.value,a=void 0!==o?o:!e.groupBy.includes(i);return s({},e,a?{groupBy:[].concat(e.groupBy,[i])}:{groupBy:e.groupBy.filter((function(e){return e!==i}))})}}function Be(e,t){var n=t.instance.state.groupBy,r=n.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),i=e.filter((function(e){return!n.includes(e.id)}));return(e=[].concat(r,i)).forEach((function(e){e.isGrouped=n.includes(e.id),e.groupedIndex=n.indexOf(e.id)})),e}var Ue={};function Ve(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,u=e.flatHeaders,c=e.groupByFn,h=void 0===c?Ge:c,d=e.manualGroupBy,p=e.aggregations,m=void 0===p?Ue:p,v=e.plugins,w=e.state.groupBy,_=e.dispatch,E=e.autoResetGroupBy,S=void 0===E||E,I=e.disableGroupBy,C=e.defaultCanGroupBy,T=e.getHooks;g(v,["useColumnOrder","useFilters"],"useGroupBy");var x=y(e);a.forEach((function(t){var n=t.accessor,r=t.defaultGroupBy,i=t.disableGroupBy;t.canGroupBy=n?k(t.canGroupBy,!0!==i&&void 0,!0!==I&&void 0,!0):k(t.canGroupBy,r,C,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var A=t.useCallback((function(e,t){_({type:l.toggleGroupBy,columnId:e,value:t})}),[_]),P=t.useCallback((function(e){_({type:l.setGroupBy,value:e})}),[_]);u.forEach((function(e){e.getGroupByToggleProps=f(T().getGroupByToggleProps,{instance:x(),header:e})}));var N=t.useMemo((function(){if(d||!w.length)return[r,i,o,Oe,Le,i,o];var e=w.filter((function(e){return a.find((function(t){return t.id===e}))})),t=[],n={},l=[],u={},c=[],f={},p=function r(i,o,d){if(void 0===o&&(o=0),o===e.length)return i.map((function(e){return s({},e,{depth:o})}));var p=e[o],g=h(i,p);return Object.entries(g).map((function(i,s){var h=i[0],g=i[1],v=p+":"+h,y=r(g,o+1,v=d?d+">"+v:v),w=o?R(g,"leafRows"):g,b=function(t,n,r){var i={};return a.forEach((function(s){if(e.includes(s.id))i[s.id]=n[0]?n[0].values[s.id]:null;else{var o="function"==typeof s.aggregate?s.aggregate:m[s.aggregate]||De[s.aggregate];if(o){var a=n.map((function(e){return e.values[s.id]})),l=t.map((function(e){var t=e.values[s.id];if(!r&&s.aggregateValue){var n="function"==typeof s.aggregateValue?s.aggregateValue:m[s.aggregateValue]||De[s.aggregateValue];if(!n)throw console.info({column:s}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=n(t,e,s)}return t}));i[s.id]=o(l,a)}else{if(s.aggregate)throw console.info({column:s}),new Error("React Table: Invalid column.aggregate option for column listed above");i[s.id]=null}}})),i}(w,g,o),_={id:v,isGrouped:!0,groupByID:p,groupByVal:h,values:b,subRows:y,leafRows:w,depth:o,index:s};return y.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(l.push(e),u[e.id]=e):(c.push(e),f[e.id]=e)})),_}))}(r);return p.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(l.push(e),u[e.id]=e):(c.push(e),f[e.id]=e)})),[p,t,n,l,u,c,f]}),[d,w,r,i,o,a,m,h]),D=N[0],O=N[1],L=N[2],F=N[3],M=N[4],j=N[5],B=N[6],U=y(S);b((function(){U()&&_({type:l.resetGroupBy})}),[_,d?null:n]),Object.assign(e,{preGroupedRows:r,preGroupedFlatRow:i,preGroupedRowsById:o,groupedRows:D,groupedFlatRows:O,groupedRowsById:L,onlyGroupedFlatRows:F,onlyGroupedRowsById:M,nonGroupedFlatRows:j,nonGroupedRowsById:B,rows:D,flatRows:O,rowsById:L,toggleGroupBy:A,setGroupBy:P})}function ze(e){e.allCells.forEach((function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(n=e.subRows)?void 0:n.length)}))}function Ge(e,t){return e.reduce((function(e,n,r){var i=""+n.values[t];return e[i]=Array.isArray(e[i])?e[i]:[],e[i].push(n),e}),{})}var qe=/([0-9]+)/gm;function He(e,t){return e===t?0:e>t?1:-1}function Ke(e,t,n){return[e.values[n],t.values[n]]}function We(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var Qe=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=Ke(e,t,n),i=r[0],s=r[1];for(i=We(i),s=We(s),i=i.split(qe).filter(Boolean),s=s.split(qe).filter(Boolean);i.length&&s.length;){var o=i.shift(),a=s.shift(),l=parseInt(o,10),u=parseInt(a,10),c=[l,u].sort();if(isNaN(c[0])){if(o>a)return 1;if(a>o)return-1}else{if(isNaN(c[1]))return isNaN(l)?-1:1;if(l>u)return 1;if(u>l)return-1}}return i.length-s.length},datetime:function(e,t,n){var r=Ke(e,t,n),i=r[0],s=r[1];return He(i=i.getTime(),s=s.getTime())},basic:function(e,t,n){var r=Ke(e,t,n);return He(r[0],r[1])},string:function(e,t,n){var r=Ke(e,t,n),i=r[0],s=r[1];for(i=i.split("").filter(Boolean),s=s.split("").filter(Boolean);i.length&&s.length;){var o=i.shift(),a=s.shift(),l=o.toLowerCase(),u=a.toLowerCase();if(l>u)return 1;if(u>l)return-1;if(o>a)return 1;if(a>o)return-1}return i.length-s.length},number:function(e,t,n){var r=Ke(e,t,n),i=r[0],s=r[1],o=/[^0-9.]/gi;return He(i=Number(String(i).replace(o,"")),s=Number(String(s).replace(o,"")))}});l.resetSortBy="resetSortBy",l.setSortBy="setSortBy",l.toggleSortBy="toggleSortBy",l.clearSortBy="clearSortBy",h.sortType="alphanumeric",h.sortDescFirst=!1;var Je=function(e){e.getSortByToggleProps=[Ye],e.stateReducers.push($e),e.useInstance.push(Xe)};Je.pluginName="useSortBy";var Ye=function(e,t){var n=t.instance,r=t.column,i=n.isMultiSortEvent,s=void 0===i?function(e){return e.shiftKey}:i;return[e,{onClick:r.canSort?function(e){e.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&s(e))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function $e(e,t,n,r){if(t.type===l.init)return s({sortBy:[]},e);if(t.type===l.resetSortBy)return s({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===l.clearSortBy)return s({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===l.setSortBy)return s({},e,{sortBy:t.sortBy});if(t.type===l.toggleSortBy){var i,o=t.columnId,a=t.desc,u=t.multi,c=r.allColumns,h=r.disableMultiSort,d=r.disableSortRemove,f=r.disableMultiRemove,p=r.maxMultiSortColCount,m=void 0===p?Number.MAX_SAFE_INTEGER:p,g=e.sortBy,v=c.find((function(e){return e.id===o})).sortDescFirst,y=g.find((function(e){return e.id===o})),w=g.findIndex((function(e){return e.id===o})),b=null!=a,_=[];return"toggle"!==(i=!h&&u?y?"toggle":"add":w!==g.length-1||1!==g.length?"replace":y?"toggle":"replace")||d||b||u&&f||!(y&&y.desc&&!v||!y.desc&&v)||(i="remove"),"replace"===i?_=[{id:o,desc:b?a:v}]:"add"===i?(_=[].concat(g,[{id:o,desc:b?a:v}])).splice(0,_.length-m):"toggle"===i?_=g.map((function(e){return e.id===o?s({},e,{desc:b?a:!y.desc}):e})):"remove"===i&&(_=g.filter((function(e){return e.id!==o}))),s({},e,{sortBy:_})}}function Xe(e){var n=e.data,r=e.rows,i=e.flatRows,s=e.allColumns,o=e.orderByFn,a=void 0===o?Ze:o,u=e.sortTypes,c=e.manualSortBy,h=e.defaultCanSort,d=e.disableSortBy,p=e.flatHeaders,m=e.state.sortBy,v=e.dispatch,w=e.plugins,_=e.getHooks,E=e.autoResetSortBy,S=void 0===E||E;g(w,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var I=t.useCallback((function(e){v({type:l.setSortBy,sortBy:e})}),[v]),C=t.useCallback((function(e,t,n){v({type:l.toggleSortBy,columnId:e,desc:t,multi:n})}),[v]),T=y(e);p.forEach((function(e){var t=e.accessor,n=e.canSort,r=e.disableSortBy,i=e.id,s=t?k(!0!==r&&void 0,!0!==d&&void 0,!0):k(h,n,!1);e.canSort=s,e.canSort&&(e.toggleSortBy=function(t,n){return C(e.id,t,n)},e.clearSortBy=function(){v({type:l.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=f(_().getSortByToggleProps,{instance:T(),column:e});var o=m.find((function(e){return e.id===i}));e.isSorted=!!o,e.sortedIndex=m.findIndex((function(e){return e.id===i})),e.isSortedDesc=e.isSorted?o.desc:void 0}));var x=t.useMemo((function(){if(c||!m.length)return[r,i];var e=[],t=m.filter((function(e){return s.find((function(t){return t.id===e.id}))}));return[function n(r){var i=a(r,t.map((function(e){var t=s.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var n=t.sortType,r=P(n)||(u||{})[n]||Qe[n];if(!r)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+e.id+"'.");return function(t,n){return r(t,n,e.id,e.desc)}})),t.map((function(e){var t=s.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return i.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=n(t.subRows))})),i}(r),e]}),[c,m,r,i,s,a,u]),A=x[0],R=x[1],N=y(S);b((function(){N()&&v({type:l.resetSortBy})}),[c?null:n]),Object.assign(e,{preSortedRows:r,preSortedFlatRows:i,sortedRows:A,sortedFlatRows:R,rows:A,flatRows:R,setSortBy:I,toggleSortBy:C})}function Ze(e,t,n){return[].concat(e).sort((function(e,r){for(var i=0;i<t.length;i+=1){var s=t[i],o=!1===n[i]||"desc"===n[i],a=s(e,r);if(0!==a)return o?-a:a}return n[0]?e.index-r.index:r.index-e.index}))}l.resetPage="resetPage",l.gotoPage="gotoPage",l.setPageSize="setPageSize";var et=function(e){e.stateReducers.push(tt),e.useInstance.push(nt)};function tt(e,t,n,r){if(t.type===l.init)return s({pageSize:10,pageIndex:0},e);if(t.type===l.resetPage)return s({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===l.gotoPage){var i=r.pageCount,o=r.page,a=v(t.pageIndex,e.pageIndex),u=!1;return a>e.pageIndex?u=-1===i?o.length>=e.pageSize:a<i:a<e.pageIndex&&(u=a>-1),u?s({},e,{pageIndex:a}):e}if(t.type===l.setPageSize){var c=t.pageSize,h=e.pageSize*e.pageIndex;return s({},e,{pageIndex:Math.floor(h/c),pageSize:c})}}function nt(e){var n=e.rows,r=e.autoResetPage,i=void 0===r||r,s=e.manualExpandedKey,o=void 0===s?"expanded":s,a=e.plugins,u=e.pageCount,c=e.paginateExpandedRows,h=void 0===c||c,d=e.expandSubRows,f=void 0===d||d,p=e.state,m=p.pageSize,v=p.pageIndex,w=p.expanded,_=p.globalFilter,E=p.filters,S=p.groupBy,I=p.sortBy,C=e.dispatch,T=e.data,x=e.manualPagination;g(a,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var A=y(i);b((function(){A()&&C({type:l.resetPage})}),[C,x?null:T,_,E,S,I]);var k=x?u:Math.ceil(n.length/m),P=t.useMemo((function(){return k>0?[].concat(new Array(k)).fill(null).map((function(e,t){return t})):[]}),[k]),R=t.useMemo((function(){var e;if(x)e=n;else{var t=m*v,r=t+m;e=n.slice(t,r)}return h?e:N(e,{manualExpandedKey:o,expanded:w,expandSubRows:f})}),[f,w,o,x,v,m,h,n]),D=v>0,O=-1===k?R.length>=m:v<k-1,L=t.useCallback((function(e){C({type:l.gotoPage,pageIndex:e})}),[C]),F=t.useCallback((function(){return L((function(e){return e-1}))}),[L]),M=t.useCallback((function(){return L((function(e){return e+1}))}),[L]),j=t.useCallback((function(e){C({type:l.setPageSize,pageSize:e})}),[C]);Object.assign(e,{pageOptions:P,pageCount:k,page:R,canPreviousPage:D,canNextPage:O,gotoPage:L,previousPage:F,nextPage:M,setPageSize:j})}et.pluginName="usePagination",l.resetPivot="resetPivot",l.togglePivot="togglePivot";var rt=function(e){e.getPivotToggleProps=[st],e.stateReducers.push(ot),e.useInstanceAfterData.push(at),e.allColumns.push(lt),e.accessValue.push(ut),e.materializedColumns.push(ct),e.materializedColumnsDeps.push(ht),e.visibleColumns.push(dt),e.visibleColumnsDeps.push(ft),e.useInstance.push(pt),e.prepareRow.push(mt)};rt.pluginName="usePivotColumns";var it=[],st=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(e){e.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function ot(e,t,n,r){if(t.type===l.init)return s({pivotColumns:it},e);if(t.type===l.resetPivot)return s({},e,{pivotColumns:r.initialState.pivotColumns||it});if(t.type===l.togglePivot){var i=t.columnId,o=t.value,a=void 0!==o?o:!e.pivotColumns.includes(i);return s({},e,a?{pivotColumns:[].concat(e.pivotColumns,[i])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==i}))})}}function at(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function lt(e,t){var n=t.instance;return e.forEach((function(e){e.isPivotSource=n.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function ut(e,t){var n=t.column;return n.uniqueValues&&void 0!==e&&n.uniqueValues.add(e),e}function ct(e,t){var n=t.instance,r=n.allColumns,i=n.state;if(!i.pivotColumns.length||!i.groupBy||!i.groupBy.length)return e;var o=i.pivotColumns.map((function(e){return r.find((function(t){return t.id===e}))})).filter(Boolean),a=r.filter((function(e){return!e.isPivotSource&&!i.groupBy.includes(e.id)&&!i.pivotColumns.includes(e.id)})),l=I(function e(t,n,r){void 0===t&&(t=0),void 0===r&&(r=[]);var i=o[t];return i?Array.from(i.uniqueValues).sort().map((function(o){var a=s({},i,{Header:i.PivotHeader||"string"==typeof i.header?i.Header+": "+o:o,isPivotGroup:!0,parent:n,depth:t,id:n?n.id+"."+i.id+"."+o:i.id+"."+o,pivotValue:o});return a.columns=e(t+1,a,[].concat(r,[function(e){return e.values[i.id]===o}])),a})):a.map((function(e){return s({},e,{canPivot:!1,isPivoted:!0,parent:n,depth:t,id:""+(n?n.id+"."+e.id:e.id),accessor:function(t,n,i){if(r.every((function(e){return e(i)})))return i.values[e.id]}})}))}());return[].concat(e,l)}function ht(e,t){var n=t.instance.state,r=n.pivotColumns,i=n.groupBy;return[].concat(e,[r,i])}function dt(e,t){var n=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function ft(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function pt(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,i=e.getHooks,s=e.plugins,o=e.dispatch,a=e.autoResetPivot,u=void 0===a||a,c=e.manaulPivot,h=e.disablePivot,d=e.defaultCanPivot;g(s,["useGroupBy"],"usePivotColumns");var p=y(e);n.forEach((function(t){var n=t.accessor,r=t.defaultPivot,i=t.disablePivot;t.canPivot=n?k(t.canPivot,!0!==i&&void 0,!0!==h&&void 0,!0):k(t.canPivot,r,d,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),r.forEach((function(e){e.getPivotToggleProps=f(i().getPivotToggleProps,{instance:p(),header:e})}));var m=y(u);b((function(){m()&&o({type:l.resetPivot})}),[o,c?null:t]),Object.assign(e,{togglePivot:function(e,t){o({type:l.togglePivot,columnId:e,value:t})}})}function mt(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}l.resetSelectedRows="resetSelectedRows",l.toggleAllRowsSelected="toggleAllRowsSelected",l.toggleRowSelected="toggleRowSelected",l.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var gt=function(e){e.getToggleRowSelectedProps=[vt],e.getToggleAllRowsSelectedProps=[yt],e.getToggleAllPageRowsSelectedProps=[wt],e.stateReducers.push(bt),e.useInstance.push(_t),e.prepareRow.push(Et)};gt.pluginName="useRowSelect";var vt=function(e,t){var n=t.instance,r=t.row,i=n.manualRowSelectedKey,s=void 0===i?"isSelected":i;return[e,{onChange:function(e){r.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[s])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},yt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},wt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]};function bt(e,t,n,r){if(t.type===l.init)return s({selectedRowIds:{}},e);if(t.type===l.resetSelectedRows)return s({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===l.toggleAllRowsSelected){var i=t.value,o=r.isAllRowsSelected,a=r.rowsById,u=r.nonGroupedRowsById,c=void 0===u?a:u,h=void 0!==i?i:!o,d=Object.assign({},e.selectedRowIds);return h?Object.keys(c).forEach((function(e){d[e]=!0})):Object.keys(c).forEach((function(e){delete d[e]})),s({},e,{selectedRowIds:d})}if(t.type===l.toggleRowSelected){var f=t.id,p=t.value,m=r.rowsById,g=r.selectSubRows,v=void 0===g||g,y=r.getSubRows,w=e.selectedRowIds[f],b=void 0!==p?p:!w;if(w===b)return e;var _=s({},e.selectedRowIds);return function e(t){var n=m[t];if(n&&(n.isGrouped||(b?_[t]=!0:delete _[t]),v&&y(n)))return y(n).forEach((function(t){return e(t.id)}))}(f),s({},e,{selectedRowIds:_})}if(t.type===l.toggleAllPageRowsSelected){var E=t.value,S=r.page,I=r.rowsById,C=r.selectSubRows,T=void 0===C||C,x=r.isAllPageRowsSelected,A=r.getSubRows,k=void 0!==E?E:!x,P=s({},e.selectedRowIds);return S.forEach((function(e){return function e(t){var n=I[t];if(n.isGrouped||(k?P[t]=!0:delete P[t]),T&&A(n))return A(n).forEach((function(t){return e(t.id)}))}(e.id)})),s({},e,{selectedRowIds:P})}return e}function _t(e){var n=e.data,r=e.rows,i=e.getHooks,s=e.plugins,o=e.rowsById,a=e.nonGroupedRowsById,u=void 0===a?o:a,c=e.autoResetSelectedRows,h=void 0===c||c,d=e.state.selectedRowIds,p=e.selectSubRows,m=void 0===p||p,v=e.dispatch,w=e.page,_=e.getSubRows;g(s,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var E=t.useMemo((function(){var e=[];return r.forEach((function(t){var n=m?function e(t,n,r){if(n[t.id])return!0;var i=r(t);if(i&&i.length){var s=!0,o=!1;return i.forEach((function(t){o&&!s||(e(t,n,r)?o=!0:s=!1)})),!!s||!!o&&null}return!1}(t,d,_):!!d[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[r,m,d,_]),S=Boolean(Object.keys(u).length&&Object.keys(d).length),I=S;S&&Object.keys(u).some((function(e){return!d[e]}))&&(S=!1),S||w&&w.length&&w.some((function(e){var t=e.id;return!d[t]}))&&(I=!1);var C=y(h);b((function(){C()&&v({type:l.resetSelectedRows})}),[v,n]);var T=t.useCallback((function(e){return v({type:l.toggleAllRowsSelected,value:e})}),[v]),x=t.useCallback((function(e){return v({type:l.toggleAllPageRowsSelected,value:e})}),[v]),A=t.useCallback((function(e,t){return v({type:l.toggleRowSelected,id:e,value:t})}),[v]),k=y(e),P=f(i().getToggleAllRowsSelectedProps,{instance:k()}),R=f(i().getToggleAllPageRowsSelectedProps,{instance:k()});Object.assign(e,{selectedFlatRows:E,isAllRowsSelected:S,isAllPageRowsSelected:I,toggleRowSelected:A,toggleAllRowsSelected:T,getToggleAllRowsSelectedProps:P,getToggleAllPageRowsSelectedProps:R,toggleAllPageRowsSelected:x})}function Et(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=f(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var St=function(e){return{}},It=function(e){return{}};l.setRowState="setRowState",l.setCellState="setCellState",l.resetRowState="resetRowState";var Ct=function(e){e.stateReducers.push(Tt),e.useInstance.push(xt),e.prepareRow.push(At)};function Tt(e,t,n,r){var i=r.initialRowStateAccessor,o=void 0===i?St:i,a=r.initialCellStateAccessor,u=void 0===a?It:a,c=r.rowsById;if(t.type===l.init)return s({rowState:{}},e);if(t.type===l.resetRowState)return s({},e,{rowState:r.initialState.rowState||{}});if(t.type===l.setRowState){var h,d=t.rowId,f=t.value,p=void 0!==e.rowState[d]?e.rowState[d]:o(c[d]);return s({},e,{rowState:s({},e.rowState,(h={},h[d]=v(f,p),h))})}if(t.type===l.setCellState){var m,g,y,w,b,_=t.rowId,E=t.columnId,S=t.value,I=void 0!==e.rowState[_]?e.rowState[_]:o(c[_]),C=void 0!==(null==I||null==(m=I.cellState)?void 0:m[E])?I.cellState[E]:u(null==(g=c[_])||null==(y=g.cells)?void 0:y.find((function(e){return e.column.id===E})));return s({},e,{rowState:s({},e.rowState,(b={},b[_]=s({},I,{cellState:s({},I.cellState||{},(w={},w[E]=v(S,C),w))}),b))})}}function xt(e){var n=e.autoResetRowState,r=void 0===n||n,i=e.data,s=e.dispatch,o=t.useCallback((function(e,t){return s({type:l.setRowState,rowId:e,value:t})}),[s]),a=t.useCallback((function(e,t,n){return s({type:l.setCellState,rowId:e,columnId:t,value:n})}),[s]),u=y(r);b((function(){u()&&s({type:l.resetRowState})}),[i]),Object.assign(e,{setRowState:o,setCellState:a})}function At(e,t){var n=t.instance,r=n.initialRowStateAccessor,i=void 0===r?St:r,s=n.initialCellStateAccessor,o=void 0===s?It:s,a=n.state.rowState;e&&(e.state=void 0!==a[e.id]?a[e.id]:i(e),e.setState=function(t){return n.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:o(t),t.setState=function(r){return n.setCellState(e.id,t.column.id,r)}})))}Ct.pluginName="useRowState",l.resetColumnOrder="resetColumnOrder",l.setColumnOrder="setColumnOrder";var kt=function(e){e.stateReducers.push(Pt),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.columnOrder])})),e.visibleColumns.push(Rt),e.useInstance.push(Nt)};function Pt(e,t,n,r){return t.type===l.init?s({columnOrder:[]},e):t.type===l.resetColumnOrder?s({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===l.setColumnOrder?s({},e,{columnOrder:v(t.columnOrder,e.columnOrder)}):void 0}function Rt(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),i=[].concat(e),s=[],o=function(){var e=r.shift(),t=i.findIndex((function(t){return t.id===e}));t>-1&&s.push(i.splice(t,1)[0])};i.length&&r.length;)o();return[].concat(s,i)}function Nt(e){var n=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return n({type:l.setColumnOrder,columnOrder:e})}),[n])}kt.pluginName="useColumnOrder",h.canResize=!0,l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize";var Dt=function(e){e.getResizerProps=[Ot],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(Lt),e.useInstance.push(Mt),e.useInstanceBeforeDimensions.push(Ft)},Ot=function(e,t){var n=t.instance,r=t.header,i=n.dispatch,s=function(e,t){var n=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;n=!0}var r,s,o=function(e){var t=[];return function e(n){n.columns&&n.columns.length&&n.columns.map(e),t.push(n)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),a=n?Math.round(e.touches[0].clientX):e.clientX,u=function(){window.cancelAnimationFrame(r),r=null,i({type:l.columnDoneResizing})},c=function(){window.cancelAnimationFrame(r),r=null,i({type:l.columnResizing,clientX:s})},h=function(e){s=e,r||(r=window.requestAnimationFrame(c))},d={mouse:{moveEvent:"mousemove",moveHandler:function(e){return h(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",d.mouse.moveHandler),document.removeEventListener("mouseup",d.mouse.upHandler),u()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),h(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(d.touch.moveEvent,d.touch.moveHandler),document.removeEventListener(d.touch.upEvent,d.touch.moveHandler),u()}}},f=n?d.touch:d.mouse,p=!!function(){if("boolean"==typeof F)return F;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return F=e}()&&{passive:!1};document.addEventListener(f.moveEvent,f.moveHandler,p),document.addEventListener(f.upEvent,f.upHandler,p),i({type:l.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:o,clientX:a})};return[e,{onMouseDown:function(e){return e.persist()||s(e,r)},onTouchStart:function(e){return e.persist()||s(e,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Lt(e,t){if(t.type===l.init)return s({columnResizing:{columnWidths:{}}},e);if(t.type===l.resetResize)return s({},e,{columnResizing:{columnWidths:{}}});if(t.type===l.columnStartResizing){var n=t.clientX,r=t.columnId,i=t.columnWidth,o=t.headerIdWidths;return s({},e,{columnResizing:s({},e.columnResizing,{startX:n,headerIdWidths:o,columnWidth:i,isResizingColumn:r})})}if(t.type===l.columnResizing){var a=t.clientX,u=e.columnResizing,c=u.startX,h=u.columnWidth,d=u.headerIdWidths,f=(a-c)/h,p={};return(void 0===d?[]:d).forEach((function(e){var t=e[0],n=e[1];p[t]=Math.max(n+n*f,0)})),s({},e,{columnResizing:s({},e.columnResizing,{columnWidths:s({},e.columnResizing.columnWidths,{},p)})})}return t.type===l.columnDoneResizing?s({},e,{columnResizing:s({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Dt.pluginName="useResizeColumns";var Ft=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,i=e.state.columnResizing,s=y(e);t.forEach((function(e){var t=k(!0!==e.disableResizing&&void 0,!0!==n&&void 0,!0);e.canResize=t,e.width=i.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=i.isResizingColumn===e.id,t&&(e.getResizerProps=f(r().getResizerProps,{instance:s(),header:e}))}))};function Mt(e){var n=e.plugins,r=e.dispatch,i=e.autoResetResize,s=void 0===i||i,o=e.columns;g(n,["useAbsoluteLayout"],"useResizeColumns");var a=y(s);b((function(){a()&&r({type:l.resetResize})}),[o]);var u=t.useCallback((function(){return r({type:l.resetResize})}),[r]);Object.assign(e,{resetResizing:u})}var jt={position:"absolute",top:0},Bt=function(e){e.getTableBodyProps.push(Ut),e.getRowProps.push(Ut),e.getHeaderGroupProps.push(Ut),e.getFooterGroupProps.push(Ut),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:s({},jt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:s({},jt,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:s({},jt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};Bt.pluginName="useAbsoluteLayout";var Ut=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Vt={display:"inline-block",boxSizing:"border-box"},zt=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Gt=function(e){e.getRowProps.push(zt),e.getHeaderGroupProps.push(zt),e.getFooterGroupProps.push(zt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:s({},Vt,{width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:s({},Vt,{width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:s({},Vt,{width:n.totalWidth+"px"})}]}))};function qt(e){e.getTableProps.push(Ht),e.getRowProps.push(Kt),e.getHeaderGroupProps.push(Kt),e.getFooterGroupProps.push(Kt),e.getHeaderProps.push(Wt),e.getCellProps.push(Qt),e.getFooterProps.push(Jt)}Gt.pluginName="useBlockLayout",qt.pluginName="useFlexLayout";var Ht=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Kt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Wt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},Qt=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Jt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Yt(e){e.stateReducers.push(en),e.getTableProps.push($t),e.getHeaderProps.push(Xt),e.getRowProps.push(Zt)}l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize",Yt.pluginName="useGridLayout";var $t=function(e,t){var n=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map((function(e){var t;return n.state.gridLayout.columnWidths[e.id]?n.state.gridLayout.columnWidths[e.id]+"px":(null==(t=n.state.columnResizing)?void 0:t.isResizingColumn)?n.state.gridLayout.startWidths[e.id]+"px":"number"==typeof e.width?e.width+"px":e.width})).join(" ")}}]},Xt=function(e,t){var n=t.column;return[e,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},Zt=function(e,t){var n=t.row;return n.isExpanded?[e,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[e,{}]};function en(e,t,n,r){if(t.type===l.init)return s({gridLayout:{columnWidths:{}}},e);if(t.type===l.resetResize)return s({},e,{gridLayout:{columnWidths:{}}});if(t.type===l.columnStartResizing){var i=t.columnId,o=t.headerIdWidths,a=tn(i);if(void 0!==a){var u=r.visibleColumns.reduce((function(e,t){var n;return s({},e,((n={})[t.id]=tn(t.id),n))}),{}),c=r.visibleColumns.reduce((function(e,t){var n;return s({},e,((n={})[t.id]=t.minWidth,n))}),{}),h=r.visibleColumns.reduce((function(e,t){var n;return s({},e,((n={})[t.id]=t.maxWidth,n))}),{}),d=o.map((function(e){var t=e[0];return[t,tn(t)]}));return s({},e,{gridLayout:s({},e.gridLayout,{startWidths:u,minWidths:c,maxWidths:h,headerIdGridWidths:d,columnWidth:a})})}return e}if(t.type===l.columnResizing){var f=t.clientX,p=e.columnResizing.startX,m=e.gridLayout,g=m.columnWidth,v=m.minWidths,y=m.maxWidths,w=m.headerIdGridWidths,b=(f-p)/g,_={};return(void 0===w?[]:w).forEach((function(e){var t=e[0],n=e[1];_[t]=Math.min(Math.max(v[t],n+n*b),y[t])})),s({},e,{gridLayout:s({},e.gridLayout,{columnWidths:s({},e.gridLayout.columnWidths,{},_)})})}return t.type===l.columnDoneResizing?s({},e,{gridLayout:s({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function tn(e){var t,n=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==n)return n}e._UNSTABLE_usePivotColumns=rt,e.actions=l,e.defaultColumn=h,e.defaultGroupByFn=Ge,e.defaultOrderByFn=Ze,e.defaultRenderer=u,e.emptyRenderer=c,e.ensurePluginOrder=g,e.flexRender=E,e.functionalUpdate=v,e.loopHooks=m,e.makePropGetter=f,e.makeRenderer=_,e.reduceHooks=p,e.safeUseLayoutEffect=w,e.useAbsoluteLayout=Bt,e.useAsyncDebounce=function(e,n){void 0===n&&(n=0);var s=t.useRef({}),o=y(e),a=y(n);return t.useCallback(function(){var e=i(r.mark((function e(){var t,n,l,u=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=u.length,n=new Array(t),l=0;l<t;l++)n[l]=u[l];return s.current.promise||(s.current.promise=new Promise((function(e,t){s.current.resolve=e,s.current.reject=t}))),s.current.timeout&&clearTimeout(s.current.timeout),s.current.timeout=setTimeout(i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete s.current.timeout,e.prev=1,e.t0=s.current,e.next=5,o().apply(void 0,n);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),s.current.reject(e.t2);case 12:return e.prev=12,delete s.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),a()),e.abrupt("return",s.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[o,a])},e.useBlockLayout=Gt,e.useColumnOrder=kt,e.useExpanded=ue,e.useFilters=Te,e.useFlexLayout=qt,e.useGetLatest=y,e.useGlobalFilter=ke,e.useGridLayout=Yt,e.useGroupBy=Fe,e.useMountedLayoutEffect=b,e.usePagination=et,e.useResizeColumns=Dt,e.useRowSelect=gt,e.useRowState=Ct,e.useSortBy=Je,e.useTable=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e=oe(e),r=[Q].concat(r);var o=y(t.useRef({}).current);Object.assign(o(),s({},e,{plugins:r,hooks:W()})),r.filter(Boolean).forEach((function(e){e(o().hooks)}));var a=y(o().hooks);o().getHooks=a,delete o().hooks,Object.assign(o(),p(a().useOptions,oe(e)));var u=o(),c=u.data,h=u.columns,d=u.initialState,g=u.defaultColumn,v=u.getSubRows,w=u.getRowId,b=u.stateReducer,E=u.useControlledState,A=y(b),k=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action \ud83d\udc46");return[].concat(a().stateReducers,Array.isArray(A())?A():[A()]).reduce((function(n,r){return r(n,t,e,o())||n}),e)}),[a,A,o]),P=t.useReducer(k,void 0,(function(){return k(d,{type:l.init})})),R=P[0],N=P[1],D=p([].concat(a().useControlledState,[E]),R,{instance:o()});Object.assign(o(),{state:D,dispatch:N});var O=t.useMemo((function(){return S(p(a().columns,h,{instance:o()}))}),[a,o,h].concat(p(a().columnsDeps,[],{instance:o()})));o().columns=O;var L=t.useMemo((function(){return p(a().allColumns,I(O),{instance:o()}).map(C)}),[O,a,o].concat(p(a().allColumnsDeps,[],{instance:o()})));o().allColumns=L;var F=t.useMemo((function(){for(var e=[],t=[],n={},r=[].concat(L);r.length;){var i=r.shift();le({data:c,rows:e,flatRows:t,rowsById:n,column:i,getRowId:w,getSubRows:v,accessValueHooks:a().accessValue,getInstance:o})}return[e,t,n]}),[L,c,w,v,a,o]),M=F[0],j=F[1],B=F[2];Object.assign(o(),{rows:M,initialRows:[].concat(M),flatRows:j,rowsById:B}),m(a().useInstanceAfterData,o());var U=t.useMemo((function(){return p(a().visibleColumns,L,{instance:o()}).map((function(e){return T(e,g)}))}),[a,L,o,g].concat(p(a().visibleColumnsDeps,[],{instance:o()})));L=t.useMemo((function(){var e=[].concat(U);return L.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[L,U]),o().allColumns=L;var V=t.useMemo((function(){return p(a().headerGroups,x(U,g),o())}),[a,U,g,o].concat(p(a().headerGroupsDeps,[],{instance:o()})));o().headerGroups=V;var z=t.useMemo((function(){return V.length?V[0].headers:[]}),[V]);o().headers=z,o().flatHeaders=V.reduce((function(e,t){return[].concat(e,t.headers)}),[]),m(a().useInstanceBeforeDimensions,o());var G=U.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");U=t.useMemo((function(){return U.filter((function(e){return e.isVisible}))}),[U,G]),o().visibleColumns=U;var q=ae(z),H=q[0],K=q[1],J=q[2];return o().totalColumnsMinWidth=H,o().totalColumnsWidth=K,o().totalColumnsMaxWidth=J,m(a().useInstance,o()),[].concat(o().flatHeaders,o().allColumns).forEach((function(e){e.render=_(o(),e),e.getHeaderProps=f(a().getHeaderProps,{instance:o(),column:e}),e.getFooterProps=f(a().getFooterProps,{instance:o(),column:e})})),o().headerGroups=t.useMemo((function(){return V.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=f(a().getHeaderGroupProps,{instance:o(),headerGroup:e,index:t}),e.getFooterGroupProps=f(a().getFooterGroupProps,{instance:o(),headerGroup:e,index:t}),!0)}))}),[V,o,a]),o().footerGroups=[].concat(o().headerGroups).reverse(),o().prepareRow=t.useCallback((function(e){e.getRowProps=f(a().getRowProps,{instance:o(),row:e}),e.allCells=L.map((function(t){var n=e.values[t.id],r={column:t,row:e,value:n};return r.getCellProps=f(a().getCellProps,{instance:o(),cell:r}),r.render=_(o(),t,{row:e,cell:r,value:n}),r})),e.cells=U.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),m(a().prepareRow,e,{instance:o()})}),[a,o,L,U]),o().getTableProps=f(a().getTableProps,{instance:o()}),o().getTableBodyProps=f(a().getTableBodyProps,{instance:o()}),m(a().useFinalInstance,o()),o()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(43))},713:(e,t,n)=>{n(310)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!I.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+A(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),k(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var u=0;u<e.length;u++){var c=s+A(a=e[u],u);l+=k(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=k(a=a.value,t,i,c=s+A(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},D={transition:null},O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!I.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,D(E);else{var t=r(c);null!==t&&O(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var s=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!k());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&O(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,I=!1,C=null,T=-1,x=5,A=-1;function k(){return!(t.unstable_now()-A<x)}function P(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?S():(I=!1,C=null)}}else I=!1}if("function"===typeof w)S=function(){w(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=P,S=function(){N.postMessage(null)}}else S=function(){v(P,0)};function D(e){C=e,I||(I=!0,S())}function O(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(y(T),T=-1):g=!0,O(_,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,D(E))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var u=s[l];if(!a(u))return!1;var c=e[u],h=t[u];if(!1===(i=n?n.call(r,c,h,u):void 0)||void 0===i&&c!==h)return!1}return!0}},633:(e,t,n)=>{var r=n(738).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,s=Object.create(i.prototype),o=new D(r||[]);return a(s,"_invoke",{value:k(e,n,o)}),s}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",g="suspendedYield",v="executing",y="completed",w={};function b(){}function _(){}function E(){}var S={};d(S,u,(function(){return this}));var I=Object.getPrototypeOf,C=I&&I(I(O([])));C&&C!==s&&o.call(C,u)&&(S=C);var T=E.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,s,a,l){var u=p(e[i],e,s);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==r(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(u.arg)}var i;a(this,"_invoke",{value:function(e,r){function s(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(s,s):s()}})}function k(e,n,r){var i=m;return function(s,o){if(i===v)throw Error("Generator is already running");if(i===y){if("throw"===s)throw o;return{value:t,done:!0}}for(r.method=s,r.arg=o;;){var a=r.delegate;if(a){var l=P(a,r);if(l){if(l===w)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=p(e,n,r);if("normal"===u.type){if(i=r.done?y:g,u.arg===w)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),w;var s=p(i,e.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,w;var o=s.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,w):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,w)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}throw new TypeError(r(e)+" is not iterable")}return _.prototype=E,a(T,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:_,configurable:!0}),_.displayName=d(E,h,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,d(e,h,"GeneratorFunction")),e.prototype=Object.create(T),e},n.awrap=function(e){return{__await:e}},x(A.prototype),d(A.prototype,c,(function(){return this})),n.AsyncIterator=A,n.async=function(e,t,r,i,s){void 0===s&&(s=Promise);var o=new A(f(e,t,r,i),s);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(T),d(T,h,"Generator"),d(T,u,(function(){return this})),d(T,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=O,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=o.call(s,"catchLoc"),u=o.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),w}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,n)=>{var r=n(633)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".d6f3f4a8.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="wedding-site:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/wedding-site/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkwedding_site=self.webpackChunkwedding_site||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Ki,SDK_VERSION:()=>To,_DEFAULT_ENTRY_NAME:()=>uo,_addComponent:()=>mo,_addOrOverwriteComponent:()=>go,_apps:()=>ho,_clearComponents:()=>Eo,_components:()=>po,_getProvider:()=>yo,_isFirebaseApp:()=>bo,_isFirebaseServerApp:()=>_o,_registerComponent:()=>vo,_removeServiceInstance:()=>wo,_serverApps:()=>fo,deleteApp:()=>Ro,getApp:()=>ko,getApps:()=>Po,initializeApp:()=>xo,initializeServerApp:()=>Ao,onLog:()=>Do,registerVersion:()=>No,setLogLevel:()=>Oo});var t,r=n(43),i=n.t(r,2),s=n(391),o=n(950),a=n.t(o,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const u="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,h=t.Pop,m=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){h=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:h,location:b.location,delta:n})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(l({},a.state,{idx:g}),""));let b={get action(){return h},get location(){return e(s,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),m=e,()=>{s.removeEventListener(u,y),m=null}},createHref:e=>n(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=f(b.location,e,n);r&&r(i,e),g=v()+1;let l=d(i,g),u=b.createHref(i);try{a.pushState(l,"",u)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(u)}o&&m&&m({action:h,location:b.location,delta:1})},replace:function(e,n){h=t.Replace;let i=f(b.location,e,n);r&&r(i,e),g=v();let s=d(i,g),l=b.createHref(i);a.replaceState(s,"",l),o&&m&&m({action:h,location:b.location,delta:0})},go:e=>a.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){void 0===n&&(n="/");let r=N(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=R(r);s=k(i[o],e)}return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=M([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:A(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=b(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,E=3,S=2,I=1,C=10,T=-2,x=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=T),t&&(r+=S),n.filter((e=>!x(e))).reduce(((e,t)=>e+(_.test(t)?E:""===t?I:C)),r)}function k(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!u)return null;Object.assign(r,u.params);let c=e.route;s.push({params:r,pathname:M([i,u.pathname]),pathnameBase:j(M([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=O(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),c(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:U(i)}}(i,s),h=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],G=(new Set(z),["get",...z]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const H=r.createContext(null);const K=r.createContext(null);const W=r.createContext(null);const Q=r.createContext(null);const J=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=r.createContext(null);function $(){return null!=r.useContext(Q)}function X(){return $()||c(!1),r.useContext(Q).location}function Z(e){r.useContext(W).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(J);return e?function(){let{router:e}=ce(le.UseNavigateStable),t=de(ue.UseNavigateStable),n=r.useRef(!1);return Z((()=>{n.current=!0})),r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t])}():function(){$()||c(!1);let e=r.useContext(H),{basename:t,future:n,navigator:i}=r.useContext(W),{matches:s}=r.useContext(J),{pathname:o}=X(),a=JSON.stringify(L(s,n.v7_relativeSplatPath)),l=r.useRef(!1);return Z((()=>{l.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let s=F(n,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,a,o,e])}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(W),{matches:s}=r.useContext(J),{pathname:o}=X(),a=JSON.stringify(L(s,i.v7_relativeSplatPath));return r.useMemo((()=>F(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function ne(e,n,i,s){$()||c(!1);let{navigator:o}=r.useContext(W),{matches:a}=r.useContext(J),l=a[a.length-1],u=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=X();if(n){var p;let e="string"===typeof n?m(n):n;"/"===h||(null==(p=e.pathname)?void 0:p.startsWith(h))||c(!1),d=e}else d=f;let g=d.pathname||"/",v=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=y(e,{pathname:v});let b=ae(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,s);return n&&b?r.createElement(Q.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},b):b}function re(){let e=function(){var e;let t=r.useContext(Y),n=he(ue.UseRouteError),i=de(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const ie=r.createElement(re,null);class se extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(J.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(J.Provider,{value:t},i)}function ae(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,c=!1,d=null,f=null;var p;n&&(o=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||ie,u&&(h<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):h===s&&(c=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:c?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(oe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function ce(e){let t=r.useContext(H);return t||c(!1),t}function he(e){let t=r.useContext(K);return t||c(!1),t}function de(e){let t=function(e){let t=r.useContext(J);return t||c(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const fe={};i.startTransition;function pe(e){c(!1)}function me(e){let{basename:n="/",children:i=null,location:s,navigationType:o=t.Pop,navigator:a,static:l=!1,future:u}=e;$()&&c(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:a,static:l,future:q({v7_relativeSplatPath:!1},u)})),[h,u,a,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=s,w=r.useMemo((()=>{let e=N(f,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:o}}),[h,f,p,g,v,y,o]);return null==w?null:r.createElement(W.Provider,{value:d},r.createElement(Q.Provider,{children:i,value:w}))}function ge(e){let{children:t,location:n}=e;return ne(ve(t),n)}new Promise((()=>{}));r.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ve(e.props.children,s));e.type!==pe&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,s)),n.push(o)})),n}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_e=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];try{window.__reactRouterVersion="6"}catch(vS){}const Ee=r.createContext({isTransitioning:!1});new Map;const Se=i.startTransition;a.flushSync,i.useId;function Ie(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,a)));let l=o.current,[u,c]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&Se?Se((()=>c(e))):c(e)}),[c,h]);return r.useLayoutEffect((()=>l.listen(d)),[l,d]),r.createElement(me,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:i})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:u,to:h,preventScrollReset:d,unstable_viewTransition:f}=e,m=we(e,be),{basename:g}=r.useContext(W),v=!1;if("string"===typeof h&&Te.test(h)&&(n=h,Ce))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=N(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(vS){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;$()||c(!1);let{basename:i,navigator:s}=r.useContext(W),{hash:o,pathname:a,search:l}=te(e,{relative:n}),u=a;return"/"!==i&&(u="/"===a?i:M([i,a])),s.createHref({pathname:u,search:l,hash:o})}(h,{relative:s}),w=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,u=ee(),c=X(),h=te(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:p(c)===p(h);u(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[c,u,h,i,s,n,e,o,a,l])}(h,{replace:a,state:l,target:u,preventScrollReset:d,relative:s,unstable_viewTransition:f});return r.createElement("a",ye({},m,{href:n||y,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:t,target:u}))}));const Ae=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:h}=e,d=we(e,_e),f=te(l,{relative:d.relative}),p=X(),m=r.useContext(K),{navigator:g,basename:v}=r.useContext(W),y=null!=m&&function(e,t){void 0===t&&(t={});let n=r.useContext(Ee);null==n&&c(!1);let{basename:i}=Re(ke.useViewTransitionState),s=te(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=N(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=N(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=P(s.pathname,a)||null!=P(s.pathname,o)}(f)&&!0===u,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(b=b.toLowerCase(),_=_?_.toLowerCase():null,w=w.toLowerCase()),_&&v&&(_=N(_,v)||_);const E="/"!==w&&w.endsWith("/")?w.length-1:w.length;let S,I=b===w||!o&&b.startsWith(w)&&"/"===b.charAt(E),C=null!=_&&(_===w||!o&&_.startsWith(w)&&"/"===_.charAt(w.length)),T={isActive:I,isPending:C,isTransitioning:y},x=I?n:void 0;S="function"===typeof s?s(T):[s,I?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof a?a(T):a;return r.createElement(xe,ye({},d,{"aria-current":x,className:S,ref:t,style:A,to:l,unstable_viewTransition:u}),"function"===typeof h?h(T):h)}));var ke,Pe;function Re(e){let t=r.useContext(H);return t||c(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ke||(ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));var Ne=n(579);const De=()=>{const[e,t]=(0,r.useState)(!1),n=ee();return(0,Ne.jsx)("div",{className:"navbar-div",children:(0,Ne.jsx)("div",{className:"navbar-wrapper",children:(0,Ne.jsx)("div",{className:"navbar-ligne2",children:(0,Ne.jsxs)("nav",{className:"navbar",children:[(0,Ne.jsx)("div",{className:"empty element"}),(0,Ne.jsx)("div",{className:"navbar-logo",onClick:()=>{n("/")},style:{cursor:"pointer"}}),(0,Ne.jsxs)("div",{className:"navbar-toggle",onClick:()=>{t(!e)},children:[(0,Ne.jsx)("div",{}),(0,Ne.jsx)("div",{}),(0,Ne.jsx)("div",{})]}),(0,Ne.jsxs)("ul",{className:"navbar-links ".concat(e?"active":""),children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/Bienvenue",onClick:()=>t(!1),children:"Bienvenue"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/Presence",onClick:()=>t(!1),children:"Confirme ta presence"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/infos",onClick:()=>t(!1),children:"Informations"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/galerie",onClick:()=>t(!1),children:"Galerie"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/organisation",onClick:()=>t(!1),children:"Organisation"})})]})]})})})})},Oe=()=>(0,Ne.jsxs)("footer",{children:[(0,Ne.jsxs)("div",{className:"footer-text",children:[(0,Ne.jsx)("p",{children:" EMELINE & VINCENT"}),(0,Ne.jsx)("div",{className:"logo-footer1"})]}),(0,Ne.jsx)("div",{className:"footer-text2",children:(0,Ne.jsxs)("div",{className:"logo-footer2",children:[(0,Ne.jsx)("div",{className:"phone-logo"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("p",{className:"ligne-footer",children:" 06 38 23 18 72 / "})," ",(0,Ne.jsx)("p",{children:" 06 16 28 08 22"})]})]})}),(0,Ne.jsxs)("div",{className:"footer-text3",children:[(0,Ne.jsx)("div",{className:"logo-footer3"}),(0,Ne.jsx)("p",{children:" Welcome to our wedding ! "})]})]});var Le=n(122);function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const je={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"};class Be{static async load(e,t){var n;const r=e.libraries?e.libraries.split(","):[],i=this.serializeParams(e);this.listeners.push(t),null!=(n=window.google)&&null!=(n=n.maps)&&n.importLibrary?(this.serializedApiParams||(this.loadingStatus=je.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=i,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==i&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const s=["maps",...r];await Promise.all(s.map((e=>google.maps.importLibrary(e))))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary)return void console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");let t=null;const n=()=>t||(t=new Promise(((t,n)=>{var r;const i=document.createElement("script"),s=new URLSearchParams;for(const[o,a]of Object.entries(e)){const e=o.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase()));s.set(e,a)}s.set("loading","async"),s.set("callback","__googleMapsCallback__"),i.async=!0,i.src="https://maps.googleapis.com/maps/api/js?"+s.toString(),i.nonce=(null==(r=document.querySelector("script[nonce]"))?void 0:r.nonce)||"",i.onerror=()=>{this.loadingStatus=je.FAILED,this.notifyLoadingStatusListeners(),n(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=je.LOADED,this.notifyLoadingStatusListeners(),t()},window.gm_authFailure=()=>{this.loadingStatus=je.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=je.LOADING,this.notifyLoadingStatusListeners(),document.head.append(i)})),t);google.maps.importLibrary=e=>n().then((()=>google.maps.importLibrary(e)))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}Be.loadingStatus=je.NOT_LOADED,Be.serializedApiParams=void 0,Be.listeners=[];const Ue=r.createContext(null);function Ve(e,t,n){const r={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(Ge.includes(e)){const e=r,n=t.getCenter(),i=t.getZoom(),s=t.getHeading()||0,o=t.getTilt()||0,a=t.getBounds();return n&&a&&Number.isFinite(i)||console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),e.detail={center:(null==n?void 0:n.toJSON())||{lat:0,lng:0},zoom:i||0,heading:s,tilt:o,bounds:(null==a?void 0:a.toJSON())||{north:90,east:180,south:-90,west:-180}},e}if(qe.includes(e)){var i;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const e=r;return e.domEvent=n.domEvent,e.stoppable=!0,e.stop=()=>n.stop(),e.detail={latLng:(null==(i=n.latLng)?void 0:i.toJSON())||null,placeId:n.placeId},e}return r}const ze={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},Ge=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],qe=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],He=Object.keys(ze);function Ke(e,t){const n=(0,r.useRef)(void 0);n.current&&Le(t,n.current)||(n.current=t),(0,r.useEffect)(e,n.current)}const We=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function Qe(){var e;return(null==(e=(0,r.useContext)(Ue))?void 0:e.status)||je.NOT_LOADED}function Je(e){return function(e){return!(!e||"object"!==typeof e)&&"lat"in e&&"lng"in e&&Number.isFinite(e.lat)&&Number.isFinite(e.lng)}(e)?e:e.toJSON()}const Ye=()=>r.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"}},r.createElement("h2",null,"Error: AuthFailure"),r.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",r.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."));function $e(){return Qe()===je.LOADED}function Xe(e){const t=function(){const[,e]=(0,r.useReducer)((e=>e+1),0);return e}(),n=(0,r.useRef)({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return(0,r.useEffect)((()=>{if(!e)return;const r=google.maps.event.addListener(e,"bounds_changed",(()=>{!function(e,t){const n=e.getCenter(),r=e.getZoom(),i=e.getHeading()||0,s=e.getTilt()||0,o=e.getBounds();n&&o&&Number.isFinite(r)||console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(t.current,{center:(null==n?void 0:n.toJSON())||{lat:0,lng:0},zoom:r||0,heading:i,tilt:s})}(e,n),t()}));return()=>r.remove()}),[e,t]),n}const Ze=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"];class et{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,t){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(t)}}function tt(e,t){const n=$e(),[i,s]=(0,r.useState)(null),[o,a]=function(){const[e,t]=(0,r.useState)(null);return[e,(0,r.useCallback)((e=>t(e)),[t])]}(),l=Xe(i),{id:u,defaultBounds:c,defaultCenter:h,defaultZoom:d,defaultHeading:f,defaultTilt:p,reuseMaps:m}=e,g=Me(e,Ze),v=void 0!==e.zoom||void 0!==e.defaultZoom,y=void 0!==e.center||void 0!==e.defaultCenter;c||v&&y||console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!g.center&&h&&(g.center=h),!g.zoom&&Number.isFinite(d)&&(g.zoom=d),!g.heading&&Number.isFinite(f)&&(g.heading=f),!g.tilt&&Number.isFinite(p)&&(g.tilt=p);for(const r of Object.keys(g))void 0===g[r]&&delete g[r];const w=(0,r.useRef)();return(0,r.useEffect)((()=>{if(!o||!n)return;const{addMapInstance:r,removeMapInstance:i}=t,a=e.mapId,h=a||"default";let d,f;if(m&&et.has(h)?(f=et.pop(h),d=f.getDiv(),o.appendChild(d),f.setOptions(g),setTimeout((()=>f.setCenter(f.getCenter())),0)):(d=document.createElement("div"),d.style.height="100%",o.appendChild(d),f=new google.maps.Map(d,g)),s(f),r(f,u),c?f.fitBounds(c):v&&y||f.fitBounds({east:180,west:-180,south:-90,north:90}),w.current){const{mapId:e,cameraState:t}=w.current;e!==a&&f.setOptions(t)}return()=>{w.current={mapId:a,cameraState:l.current},d.remove(),m?et.push(h,f):google.maps.event.clearInstanceListeners(f),s(null),i(u)}}),[o,n,u,e.mapId]),[i,a,l]}et.entries={};const nt=r.createContext(null);(e=>{const{children:t,id:n,className:i,style:s}=e,o=(0,r.useContext)(Ue),a=Qe();if(!o)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[l,u,c]=tt(e,o);!function(e,t,n){const i=n.center?Je(n.center):null;let s=null,o=null;i&&Number.isFinite(i.lat)&&Number.isFinite(i.lng)&&(s=i.lat,o=i.lng);const a=Number.isFinite(n.zoom)?n.zoom:null,l=Number.isFinite(n.heading)?n.heading:null,u=Number.isFinite(n.tilt)?n.tilt:null;(0,r.useLayoutEffect)((()=>{if(!e)return;const n={};let r=!1;null===s||null===o||t.current.center.lat===s&&t.current.center.lng===o||(n.center={lat:s,lng:o},r=!0),null!==a&&t.current.zoom!==a&&(n.zoom=a,r=!0),null!==l&&t.current.heading!==l&&(n.heading=l,r=!0),null!==u&&t.current.tilt!==u&&(n.tilt=u,r=!0),r&&e.moveCamera(n)}))}(l,c,e),function(e,t){for(const n of He){const i=t[n],s=ze[n];(0,r.useEffect)((()=>{if(!e)return;if(!i)return;const t=google.maps.event.addListener(e,s,(t=>{i(Ve(s,e,t))}));return()=>t.remove()}),[e,s,i])}}(l,e),function(e,t){const n={},r=Object.keys(t);for(const i of r)We.has(i)&&(n[i]=t[i]);Ke((()=>{e&&e.setOptions(n)}),[n])}(l,e);const h=function(e,t){const{viewport:n,viewState:i}=t,s=!!n;return(0,r.useLayoutEffect)((()=>{if(!e||!i)return;const{latitude:t,longitude:n,bearing:r,pitch:s,zoom:o}=i;e.moveCamera({center:{lat:t,lng:n},heading:r,tilt:s,zoom:o+1})}),[e,i]),s}(l,e),d=!!e.controlled;(0,r.useEffect)((()=>{if(l)return h&&l.setOptions({disableDefaultUI:!0}),(h||d)&&l.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{l.setOptions({gestureHandling:e.gestureHandling,keyboardShortcuts:e.keyboardShortcuts})}}),[l,h,d,e.gestureHandling,e.keyboardShortcuts]);const f=e.center?Je(e.center):null;let p=null,m=null;f&&Number.isFinite(f.lat)&&Number.isFinite(f.lng)&&(p=f.lat,m=f.lng);const g=(0,r.useMemo)((()=>{var t,n,r,i,s;return{center:{lat:null!=(t=p)?t:0,lng:null!=(n=m)?n:0},zoom:null!=(r=e.zoom)?r:0,heading:null!=(i=e.heading)?i:0,tilt:null!=(s=e.tilt)?s:0}}),[p,m,e.zoom,e.heading,e.tilt]);(0,r.useLayoutEffect)((()=>{if(!l||!d)return;l.moveCamera(g);const e=l.addListener("bounds_changed",(()=>{l.moveCamera(g)}));return()=>e.remove()}),[l,d,g]);const v=(0,r.useMemo)((()=>Fe({width:"100%",height:"100%",position:"relative",zIndex:h?-1:0},s)),[s,h]),y=(0,r.useMemo)((()=>({map:l})),[l]);return a===je.AUTH_FAILURE?r.createElement("div",{style:Fe({position:"relative"},i?{}:v),className:i},r.createElement(Ye,null)):r.createElement("div",Fe({ref:u,"data-testid":"map",style:i?void 0:v,className:i},n?{id:n}:{}),l?r.createElement(nt.Provider,{value:y},t):null)}).deckGLViewProps=!0;const rt=new Set;function it(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=JSON.stringify(t);rt.has(r)||(rt.add(r),console.error(...t))}const st=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=(0,r.useContext)(Ue),{map:n}=(0,r.useContext)(nt)||{};if(null===t)return it("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:i}=t;return null!==e?i[e]||null:n||(i.default||null)};function ot(e){const t=$e(),n=(0,r.useContext)(Ue);return(0,r.useEffect)((()=>{t&&n&&n.importLibrary(e)}),[t,n,e]),(null==n?void 0:n.loadedLibraries[e])||null}function at(e,t,n){if(null!=t&&"object"!==typeof t)throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const r=e.style;if(null!=n){for(const e in n)if(n.hasOwnProperty(e)&&(null==t||!t.hasOwnProperty(e))){0===e.indexOf("--")?r.setProperty(e,""):"float"===e?r.cssFloat="":r[e]=""}if(null!=t)for(const e in t){const i=t[e];t.hasOwnProperty(e)&&n[e]!==i&&lt(r,e,i)}}else{if(null==t)return;for(const e in t)t.hasOwnProperty(e)&&lt(r,e,t[e])}}function lt(e,t,n){const r=0===t.indexOf("--");var i;null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||(i=t,ut.has(i))?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}const ut=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function ct(e,t,n){(0,r.useEffect)((()=>{if(!e||!t||!n)return;const r=google.maps.event.addListener(e,t,n);return()=>null==r?void 0:r.remove()}),[e,t,n])}function ht(e,t,n){(0,r.useEffect)((()=>{e&&(e[t]=n)}),[e,t,n])}const dt=r.createContext(null);(0,r.forwardRef)(((e,t)=>{const{children:n}=e,[i,s]=function(e){const[t,n]=(0,r.useState)(null),[i,s]=(0,r.useState)(null),o=(0,r.useRef)(null),a=st(),l=ot("marker"),{children:u,className:c,style:h,onClick:d,onDrag:f,onDragStart:p,onDragEnd:m,collisionBehavior:g,clickable:v,draggable:y,position:w,title:b,zIndex:_}=e,E=r.Children.count(u);return(0,r.useEffect)((()=>{if(!a||!l)return;const e=new l.AdvancedMarkerElement;e.map=a,n(e);let t=null;return E>0&&(t=document.createElement("div"),e.content=t,s(t)),()=>{var r;e.map=null,null==(r=t)||r.remove(),n(null),s(null)}}),[a,l,E]),(0,r.useEffect)((()=>{t&&t.content&&(t.content.className=c||"")}),[t,c]),ht(i,"className",null!=c?c:""),(0,r.useEffect)((()=>{i&&(at(i,h||null,o.current),o.current=h||null)}),[i,c,h]),ht(t,"position",w),ht(t,"title",null!=b?b:""),ht(t,"zIndex",_),ht(t,"collisionBehavior",g),(0,r.useEffect)((()=>{t&&(t.gmpDraggable=void 0!==y?y:!!(f||p||m))}),[t,y,f,m,p]),(0,r.useEffect)((()=>{t&&(t.gmpClickable=void 0!==v?v:!!d)}),[t,v,d]),ct(t,"click",d),ct(t,"drag",f),ct(t,"dragstart",p),ct(t,"dragend",m),[t,i]}(e),a=(0,r.useMemo)((()=>i?{marker:i}:null),[i]);return(0,r.useImperativeHandle)(t,(()=>i),[i]),s?r.createElement(dt.Provider,{value:a},(0,o.createPortal)(n,s)):null}));const ft=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];(0,r.forwardRef)(((e,t)=>{const n=function(e){const[t,n]=(0,r.useState)(null),i=st(),{onClick:s,onDrag:o,onDragStart:a,onDragEnd:l,onMouseOver:u,onMouseOut:c}=e,h=Me(e,ft),{position:d,draggable:f}=h;return(0,r.useEffect)((()=>{if(!i)return void(void 0===i&&console.error("<Marker> has to be inside a Map component."));const e=new google.maps.Marker(h);return e.setMap(i),n(e),()=>{e.setMap(null),n(null)}}),[i]),(0,r.useEffect)((()=>{if(!t)return;const e=t,n=google.maps.event;return s&&n.addListener(e,"click",s),o&&n.addListener(e,"drag",o),a&&n.addListener(e,"dragstart",a),l&&n.addListener(e,"dragend",l),u&&n.addListener(e,"mouseover",u),c&&n.addListener(e,"mouseout",c),t.setDraggable(Boolean(f)),()=>{n.clearInstanceListeners(e)}}),[t,f,s,o,a,l,u,c]),(0,r.useEffect)((()=>{t&&h&&t.setOptions(h)}),[t,h]),(0,r.useEffect)((()=>{!f&&d&&t&&t.setPosition(d)}),[f,d,t]),t}(e);return(0,r.useImperativeHandle)(t,(()=>n),[n]),r.createElement(r.Fragment,null)}));function pt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var mt=function(){return mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mt.apply(this,arguments)};function gt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function vt(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var yt=n(324),wt=n.n(yt),bt="-ms-",_t="-moz-",Et="-webkit-",St="comm",It="rule",Ct="decl",Tt="@import",xt="@keyframes",At="@layer",kt=Math.abs,Pt=String.fromCharCode,Rt=Object.assign;function Nt(e){return e.trim()}function Dt(e,t){return(e=t.exec(e))?e[0]:e}function Ot(e,t,n){return e.replace(t,n)}function Lt(e,t,n){return e.indexOf(t,n)}function Ft(e,t){return 0|e.charCodeAt(t)}function Mt(e,t,n){return e.slice(t,n)}function jt(e){return e.length}function Bt(e){return e.length}function Ut(e,t){return t.push(e),e}function Vt(e,t){return e.filter((function(e){return!Dt(e,t)}))}var zt=1,Gt=1,qt=0,Ht=0,Kt=0,Wt="";function Qt(e,t,n,r,i,s,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:zt,column:Gt,length:o,return:"",siblings:a}}function Jt(e,t){return Rt(Qt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Yt(e){for(;e.root;)e=Jt(e.root,{children:[e]});Ut(e,e.siblings)}function $t(){return Kt=Ht>0?Ft(Wt,--Ht):0,Gt--,10===Kt&&(Gt=1,zt--),Kt}function Xt(){return Kt=Ht<qt?Ft(Wt,Ht++):0,Gt++,10===Kt&&(Gt=1,zt++),Kt}function Zt(){return Ft(Wt,Ht)}function en(){return Ht}function tn(e,t){return Mt(Wt,e,t)}function nn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rn(e){return zt=Gt=1,qt=jt(Wt=e),Ht=0,[]}function sn(e){return Wt="",e}function on(e){return Nt(tn(Ht-1,un(91===e?e+2:40===e?e+1:e)))}function an(e){for(;(Kt=Zt())&&Kt<33;)Xt();return nn(e)>2||nn(Kt)>3?"":" "}function ln(e,t){for(;--t&&Xt()&&!(Kt<48||Kt>102||Kt>57&&Kt<65||Kt>70&&Kt<97););return tn(e,en()+(t<6&&32==Zt()&&32==Xt()))}function un(e){for(;Xt();)switch(Kt){case e:return Ht;case 34:case 39:34!==e&&39!==e&&un(Kt);break;case 40:41===e&&un(e);break;case 92:Xt()}return Ht}function cn(e,t){for(;Xt()&&e+Kt!==57&&(e+Kt!==84||47!==Zt()););return"/*"+tn(t,Ht-1)+"*"+Pt(47===e?e:Xt())}function hn(e){for(;!nn(Zt());)Xt();return tn(e,Ht)}function dn(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function fn(e,t,n,r){switch(e.type){case At:if(e.children.length)break;case Tt:case Ct:return e.return=e.return||e.value;case St:return"";case xt:return e.return=e.value+"{"+dn(e.children,r)+"}";case It:if(!jt(e.value=e.props.join(",")))return""}return jt(n=dn(e.children,r))?e.return=e.value+"{"+n+"}":""}function pn(e,t,n){switch(function(e,t){return 45^Ft(e,0)?(((t<<2^Ft(e,0))<<2^Ft(e,1))<<2^Ft(e,2))<<2^Ft(e,3):0}(e,t)){case 5103:return Et+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Et+e+e;case 4789:return _t+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Et+e+_t+e+bt+e+e;case 5936:switch(Ft(e,t+11)){case 114:return Et+e+bt+Ot(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Et+e+bt+Ot(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Et+e+bt+Ot(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Et+e+bt+e+e;case 6165:return Et+e+bt+"flex-"+e+e;case 5187:return Et+e+Ot(e,/(\w+).+(:[^]+)/,Et+"box-$1$2"+bt+"flex-$1$2")+e;case 5443:return Et+e+bt+"flex-item-"+Ot(e,/flex-|-self/g,"")+(Dt(e,/flex-|baseline/)?"":bt+"grid-row-"+Ot(e,/flex-|-self/g,""))+e;case 4675:return Et+e+bt+"flex-line-pack"+Ot(e,/align-content|flex-|-self/g,"")+e;case 5548:return Et+e+bt+Ot(e,"shrink","negative")+e;case 5292:return Et+e+bt+Ot(e,"basis","preferred-size")+e;case 6060:return Et+"box-"+Ot(e,"-grow","")+Et+e+bt+Ot(e,"grow","positive")+e;case 4554:return Et+Ot(e,/([^-])(transform)/g,"$1"+Et+"$2")+e;case 6187:return Ot(Ot(Ot(e,/(zoom-|grab)/,Et+"$1"),/(image-set)/,Et+"$1"),e,"")+e;case 5495:case 3959:return Ot(e,/(image-set\([^]*)/,Et+"$1$`$1");case 4968:return Ot(Ot(e,/(.+:)(flex-)?(.*)/,Et+"box-pack:$3"+bt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Et+e+e;case 4200:if(!Dt(e,/flex-|baseline/))return bt+"grid-column-align"+Mt(e,t)+e;break;case 2592:case 3360:return bt+Ot(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Dt(e.props,/grid-\w+-end/)}))?~Lt(e+(n=n[t].value),"span",0)?e:bt+Ot(e,"-start","")+e+bt+"grid-row-span:"+(~Lt(n,"span",0)?Dt(n,/\d+/):+Dt(n,/\d+/)-+Dt(e,/\d+/))+";":bt+Ot(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Dt(e.props,/grid-\w+-start/)}))?e:bt+Ot(Ot(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Ot(e,/(.+)-inline(.+)/,Et+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jt(e)-1-t>6)switch(Ft(e,t+1)){case 109:if(45!==Ft(e,t+4))break;case 102:return Ot(e,/(.+:)(.+)-([^]+)/,"$1"+Et+"$2-$3$1"+_t+(108==Ft(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Lt(e,"stretch",0)?pn(Ot(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Ot(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,s,o,a){return bt+n+":"+r+a+(i?bt+n+"-span:"+(s?o:+o-+r)+a:"")+e}));case 4949:if(121===Ft(e,t+6))return Ot(e,":",":"+Et)+e;break;case 6444:switch(Ft(e,45===Ft(e,14)?18:11)){case 120:return Ot(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Et+(45===Ft(e,14)?"inline-":"")+"box$3$1"+Et+"$2$3$1"+bt+"$2box$3")+e;case 100:return Ot(e,":",":"+bt)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ot(e,"scroll-","scroll-snap-")+e}return e}function mn(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ct:return void(e.return=pn(e.value,e.length,n));case xt:return dn([Jt(e,{value:Ot(e.value,"@","@"+Et)})],r);case It:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(Dt(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Yt(Jt(e,{props:[Ot(t,/:(read-\w+)/,":"+_t+"$1")]})),Yt(Jt(e,{props:[t]})),Rt(e,{props:Vt(n,r)});break;case"::placeholder":Yt(Jt(e,{props:[Ot(t,/:(plac\w+)/,":"+Et+"input-$1")]})),Yt(Jt(e,{props:[Ot(t,/:(plac\w+)/,":"+_t+"$1")]})),Yt(Jt(e,{props:[Ot(t,/:(plac\w+)/,bt+"input-$1")]})),Yt(Jt(e,{props:[t]})),Rt(e,{props:Vt(n,r)})}return""}))}}function gn(e){return sn(vn("",null,null,null,[""],e=rn(e),0,[0],e))}function vn(e,t,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,m=1,g=1,v=1,y=0,w="",b=i,_=s,E=r,S=w;g;)switch(p=y,y=Xt()){case 40:if(108!=p&&58==Ft(S,h-1)){-1!=Lt(S+=Ot(on(y),"&","&\f"),"&\f",kt(u?a[u-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=on(y);break;case 9:case 10:case 13:case 32:S+=an(p);break;case 92:S+=ln(en()-1,7);continue;case 47:switch(Zt()){case 42:case 47:Ut(wn(cn(Xt(),en()),t,n,l),l);break;default:S+="/"}break;case 123*m:a[u++]=jt(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+c:-1==v&&(S=Ot(S,/\f/g,"")),f>0&&jt(S)-h&&Ut(f>32?bn(S+";",r,n,h-1,l):bn(Ot(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(Ut(E=yn(S,t,n,u,c,i,a,w,b=[],_=[],h,s),s),123===y)if(0===c)vn(S,t,E,E,b,s,h,a,_);else switch(99===d&&110===Ft(S,3)?100:d){case 100:case 108:case 109:case 115:vn(e,E,E,r&&Ut(yn(e,E,E,0,0,i,a,w,i,b=[],h,_),_),i,_,h,a,r?b:_);break;default:vn(S,E,E,E,[""],_,0,a,_)}}u=c=f=0,m=v=1,w=S="",h=o;break;case 58:h=1+jt(S),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==$t())continue;switch(S+=Pt(y),y*m){case 38:v=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(jt(S)-1)*v,v=1;break;case 64:45===Zt()&&(S+=on(Xt())),d=Zt(),c=h=jt(w=S+=hn(en())),y++;break;case 45:45===p&&2==jt(S)&&(m=0)}}return s}function yn(e,t,n,r,i,s,o,a,l,u,c,h){for(var d=i-1,f=0===i?s:[""],p=Bt(f),m=0,g=0,v=0;m<r;++m)for(var y=0,w=Mt(e,d+1,d=kt(g=o[m])),b=e;y<p;++y)(b=Nt(g>0?f[y]+" "+w:Ot(w,/&\f/g,f[y])))&&(l[v++]=b);return Qt(e,t,n,0===i?It:a,l,u,c,h)}function wn(e,t,n,r){return Qt(e,t,n,St,Pt(Kt),Mt(e,2,-2),0,r)}function bn(e,t,n,r,i){return Qt(e,t,n,Ct,Mt(e,0,r),Mt(e,r+1,-1),r,i)}var _n={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},En="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}&&({NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}.SC_ATTR)||"data-styled",Sn="active",In="data-styled-version",Cn="6.1.11",Tn="/*!sc*/\n",xn="undefined"!=typeof window&&"HTMLElement"in window,An=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}.SC_DISABLE_SPEEDY)),kn=(new Set,Object.freeze([])),Pn=Object.freeze({});function Rn(e,t,n){return void 0===n&&(n=Pn),e.theme!==n.theme&&e.theme||t||n.theme}var Nn=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Dn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,On=/(^-|-$)/g;function Ln(e){return e.replace(Dn,"-").replace(On,"")}var Fn=/(a)(d)/gi,Mn=52,jn=function(e){return String.fromCharCode(e+(e>25?39:97))};function Bn(e){var t,n="";for(t=Math.abs(e);t>Mn;t=t/Mn|0)n=jn(t%Mn)+n;return(jn(t%Mn)+n).replace(Fn,"$1-$2")}var Un,Vn=5381,zn=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Gn=function(e){return zn(Vn,e)};function qn(e){return Bn(Gn(e)>>>0)}function Hn(e){return e.displayName||e.name||"Component"}function Kn(e){return"string"==typeof e&&!0}var Wn="function"==typeof Symbol&&Symbol.for,Qn=Wn?Symbol.for("react.memo"):60115,Jn=Wn?Symbol.for("react.forward_ref"):60112,Yn={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Xn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Zn=((Un={})[Jn]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Un[Qn]=Xn,Un);function er(e){return("type"in(t=e)&&t.type.$$typeof)===Qn?Xn:"$$typeof"in e?Zn[e.$$typeof]:Yn;var t}var tr=Object.defineProperty,nr=Object.getOwnPropertyNames,rr=Object.getOwnPropertySymbols,ir=Object.getOwnPropertyDescriptor,sr=Object.getPrototypeOf,or=Object.prototype;function ar(e,t,n){if("string"!=typeof t){if(or){var r=sr(t);r&&r!==or&&ar(e,r,n)}var i=nr(t);rr&&(i=i.concat(rr(t)));for(var s=er(e),o=er(t),a=0;a<i.length;++a){var l=i[a];if(!(l in $n||n&&n[l]||o&&l in o||s&&l in s)){var u=ir(t,l);try{tr(e,l,u)}catch(e){}}}}return e}function lr(e){return"function"==typeof e}function ur(e){return"object"==typeof e&&"styledComponentId"in e}function cr(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function hr(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function dr(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function fr(e,t,n){if(void 0===n&&(n=!1),!n&&!dr(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=fr(e[r],t[r]);else if(dr(t))for(var r in t)e[r]=fr(e[r],t[r]);return e}function pr(e,t){Object.defineProperty(e,"toString",{value:t})}function mr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var gr=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw mr(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=r;s<i;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),a=(s=0,t.length);s<a;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,s=r;s<i;s++)t+="".concat(this.tag.getRule(s)).concat(Tn);return t},e}(),vr=new Map,yr=new Map,wr=1,br=function(e){if(vr.has(e))return vr.get(e);for(;yr.has(wr);)wr++;var t=wr++;return vr.set(e,t),yr.set(t,e),t},_r=function(e,t){wr=t+1,vr.set(e,t),yr.set(t,e)},Er="style[".concat(En,"][").concat(In,'="').concat(Cn,'"]'),Sr=new RegExp("^".concat(En,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ir=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},Cr=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Tn),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(Sr);if(l){var u=0|parseInt(l[1],10),c=l[2];0!==u&&(_r(c,u),Ir(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function Tr(){return n.nc}var xr=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(En,"]")));return t[t.length-1]}(n),s=void 0!==i?i.nextSibling:null;r.setAttribute(En,Sn),r.setAttribute(In,Cn);var o=Tr();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Ar=function(){function e(e){this.element=xr(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw mr(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),kr=function(){function e(e){this.element=xr(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Pr=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Rr=xn,Nr={isServer:!xn,useCSSOMInjection:!An},Dr=function(){function e(e,t,n){void 0===e&&(e=Pn),void 0===t&&(t={});var r=this;this.options=mt(mt({},Nr),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&xn&&Rr&&(Rr=!1,function(e){for(var t=document.querySelectorAll(Er),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(En)!==Sn&&(Cr(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),pr(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return yr.get(e)}(n);if(void 0===i)return"continue";var s=e.names.get(i),o=t.getGroup(n);if(void 0===s||0===o.length)return"continue";var a="".concat(En,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==s&&s.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(o).concat(a,'{content:"').concat(l,'"}').concat(Tn)},s=0;s<n;s++)i(s);return r}(r)}))}return e.registerId=function(e){return br(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(mt(mt({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Pr(n):t?new Ar(n):new kr(n)}(this.options),new gr(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(br(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(br(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(br(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Or=/&/g,Lr=/^\s*\/\/.*$/gm;function Fr(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Fr(e.children,t)),e}))}function Mr(e){var t,n,r,i=void 0===e?Pn:e,s=i.options,o=void 0===s?Pn:s,a=i.plugins,l=void 0===a?kn:a,u=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},c=l.slice();c.push((function(e){e.type===It&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Or,n).replace(r,u))})),o.prefix&&c.push(mn),c.push(fn);var h=function(e,i,s,a){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a="&"),t=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(Lr,""),u=gn(s||i?"".concat(s," ").concat(i," { ").concat(l," }"):l);o.namespace&&(u=Fr(u,o.namespace));var h,d=[];return dn(u,function(e){var t=Bt(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}(c.concat((h=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&h(e)})))),d};return h.hash=l.length?l.reduce((function(e,t){return t.name||mr(15),zn(e,t.name)}),Vn).toString():"",h}var jr=new Dr,Br=Mr(),Ur=r.createContext({shouldForwardProp:void 0,styleSheet:jr,stylis:Br}),Vr=(Ur.Consumer,r.createContext(void 0));function zr(){return(0,r.useContext)(Ur)}function Gr(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],s=zr().styleSheet,o=(0,r.useMemo)((function(){var t=s;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,s]),a=(0,r.useMemo)((function(){return Mr({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,r.useEffect)((function(){wt()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var l=(0,r.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:a}}),[e.shouldForwardProp,o,a]);return r.createElement(Ur.Provider,{value:l},r.createElement(Vr.Provider,{value:a},e.children))}var qr=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Br);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,pr(this,(function(){throw mr(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Br),this.name+e.hash},e}(),Hr=function(e){return e>="A"&&e<="Z"};function Kr(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Hr(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Wr=function(e){return null==e||!1===e||""===e},Qr=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!Wr(s)&&(Array.isArray(s)&&s.isCss||lr(s)?r.push("".concat(Kr(i),":"),s,";"):dr(s)?r.push.apply(r,vt(vt(["".concat(i," {")],Qr(s),!1),["}"],!1)):r.push("".concat(Kr(i),": ").concat((t=i,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in _n||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Jr(e,t,n,r){return Wr(e)?[]:ur(e)?[".".concat(e.styledComponentId)]:lr(e)?!lr(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Jr(e(t),t,n,r):e instanceof qr?n?(e.inject(n,r),[e.getName(r)]):[e]:dr(e)?Qr(e):Array.isArray(e)?Array.prototype.concat.apply(kn,e.map((function(e){return Jr(e,t,n,r)}))):[e.toString()];var i}function Yr(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(lr(n)&&!ur(n))return!1}return!0}var $r=Gn(Cn),Xr=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Yr(e),this.componentId=t,this.baseHash=zn($r,t),this.baseStyle=n,Dr.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=cr(r,this.staticRulesId);else{var i=hr(Jr(this.rules,e,t,n)),s=Bn(zn(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,s)){var o=n(i,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,o)}r=cr(r,s),this.staticRulesId=s}else{for(var a=zn(this.baseHash,n.hash),l="",u=0;u<this.rules.length;u++){var c=this.rules[u];if("string"==typeof c)l+=c;else if(c){var h=hr(Jr(c,e,t,n));a=zn(a,h+u),l+=h}}if(l){var d=Bn(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=cr(r,d)}}return r},e}(),Zr=r.createContext(void 0);Zr.Consumer;var ei={};new Set;function ti(e,t,n){var i=ur(e),s=e,o=!Kn(e),a=t.attrs,l=void 0===a?kn:a,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Ln(e);ei[n]=(ei[n]||0)+1;var r="".concat(n,"-").concat(qn(Cn+n+ei[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):u,h=t.displayName,d=void 0===h?function(e){return Kn(e)?"styled.".concat(e):"Styled(".concat(Hn(e),")")}(e):h,f=t.displayName&&t.componentId?"".concat(Ln(t.displayName),"-").concat(t.componentId):t.componentId||c,p=i&&s.attrs?s.attrs.concat(l).filter(Boolean):l,m=t.shouldForwardProp;if(i&&s.shouldForwardProp){var g=s.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;m=function(e,t){return g(e,t)&&v(e,t)}}else m=g}var y=new Xr(n,f,i?s.componentStyle:void 0);function w(e,t){return function(e,t,n){var i=e.attrs,s=e.componentStyle,o=e.defaultProps,a=e.foldedComponentIds,l=e.styledComponentId,u=e.target,c=r.useContext(Zr),h=zr(),d=e.shouldForwardProp||h.shouldForwardProp,f=Rn(t,c,o)||Pn,p=function(e,t,n){for(var r,i=mt(mt({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var o=lr(r=e[s])?r(i):r;for(var a in o)i[a]="className"===a?cr(i[a],o[a]):"style"===a?mt(mt({},i[a]),o[a]):o[a]}return t.className&&(i.className=cr(i.className,t.className)),i}(i,t,f),m=p.as||u,g={};for(var v in p)void 0===p[v]||"$"===v[0]||"as"===v||"theme"===v&&p.theme===f||("forwardedAs"===v?g.as=p.forwardedAs:d&&!d(v,m)||(g[v]=p[v]));var y=function(e,t){var n=zr();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(s,p),w=cr(a,l);return y&&(w+=" "+y),p.className&&(w+=" "+p.className),g[Kn(m)&&!Nn.has(m)?"class":"className"]=w,g.ref=n,(0,r.createElement)(m,g)}(b,e,t)}w.displayName=d;var b=r.forwardRef(w);return b.attrs=p,b.componentStyle=y,b.displayName=d,b.shouldForwardProp=m,b.foldedComponentIds=i?cr(s.foldedComponentIds,s.styledComponentId):"",b.styledComponentId=f,b.target=i?s.target:e,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)fr(e,i[r],!0);return e}({},s.defaultProps,e):e}}),pr(b,(function(){return".".concat(b.styledComponentId)})),o&&ar(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function ni(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var ri=function(e){return Object.assign(e,{isCss:!0})};function ii(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(lr(e)||dr(e))return ri(Jr(ni(kn,vt([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Jr(r):ri(Jr(ni(r,t)))}function si(e,t,n){if(void 0===n&&(n=Pn),!t)throw mr(1,t);var r=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,ii.apply(void 0,vt([r],i,!1)))};return r.attrs=function(r){return si(e,t,mt(mt({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return si(e,t,mt(mt({},n),r))},r}var oi=function(e){return si(ti,e)},ai=oi;Nn.forEach((function(e){ai[e]=oi(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Yr(e),Dr.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(hr(Jr(this.rules,t,n,r)),""),s=this.componentId+e;n.insertRules(s,s,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&Dr.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();var li,ui,ci,hi;(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=Tr(),r=hr([n&&'nonce="'.concat(n,'"'),"".concat(En,'="true"'),"".concat(In,'="').concat(Cn,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw mr(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw mr(2);var n=((t={})[En]="",t[In]=Cn,t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=Tr();return i&&(n.nonce=i),[r.createElement("style",mt({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Dr({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw mr(2);return r.createElement(Gr,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw mr(3)}})(),"__sc-".concat(En,"__");const di=ai.div(li||(li=pt(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-family: Arial, sans-serif;\n  color: #000;\n"]))),fi=ai.div(ui||(ui=pt(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 10px;\n"]))),pi=ai.span(ci||(ci=pt(["\n  font-size: 3rem;\n"]))),mi=ai.span(hi||(hi=pt(["\n  font-size: 0.8rem;\n"]))),gi=()=>{const e=new Date("2025-05-03"),[t,n]=(0,r.useState)(i());function i(){const t=+e-+new Date;let n={};return t>0&&(n={days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)}),n}return(0,r.useEffect)((()=>{const e=setTimeout((()=>{n(i())}),1e3);return()=>clearTimeout(e)})),(0,Ne.jsxs)(di,{children:[(0,Ne.jsxs)(fi,{children:[(0,Ne.jsx)(pi,{children:t.days||"0"}),(0,Ne.jsx)(mi,{children:"Days"})]}),(0,Ne.jsxs)(fi,{children:[(0,Ne.jsx)(pi,{children:t.hours||"0"}),(0,Ne.jsx)(mi,{children:"Hours"})]}),(0,Ne.jsxs)(fi,{children:[(0,Ne.jsx)(pi,{children:t.minutes||"0"}),(0,Ne.jsx)(mi,{children:"Minutes"})]}),(0,Ne.jsxs)(fi,{children:[(0,Ne.jsx)(pi,{children:t.seconds||"0"}),(0,Ne.jsx)(mi,{children:"Seconds"})]})]})},vi=[{time:"11h30-12h",title:"Rdv \xe0 la mairie de Marcq en Baroeul",icon:"\ud83c\udfdb\ufe0f"},{time:"12h-15h",title:"Le repas du midi est libre, nous nous retrouverons \xe0 15h \xe0 Artres",icon:"\ud83c\udf7d\ufe0f"},{time:"15h30-17h",title:"C\xe9r\xe9monie la\xefque !",icon:"\ud83d\udc8d"},{time:"17h",title:"Vin d'honneur",icon:"\ud83c\udf77"},{time:"20h00",title:"Bon app\xe9tit !",icon:"\ud83c\udf7d\ufe0f"}],yi=e=>{let{time:t,title:n,icon:r}=e;return(0,Ne.jsxs)("div",{style:wi.event,children:[(0,Ne.jsx)("div",{style:wi.icon,children:r}),(0,Ne.jsxs)("div",{style:wi.details,children:[(0,Ne.jsx)("span",{style:wi.time,children:t}),(0,Ne.jsx)("h4",{style:wi.title,children:n})]})]})},wi={heading:{textAlign:"center",marginBottom:"20px",fontSize:"2rem"},timeline:{position:"relative",padding:"20px 0",borderLeft:"2px solid #C19A6B"},event:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"20px",position:"relative"},icon:{fontSize:"2rem",marginRight:"15px",flexShrink:"0"},details:{marginLeft:"20px",textAlign:"left"},time:{fontWeight:"bold",fontSize:"1.2rem",color:"#555"},title:{fontSize:"1.4rem",margin:"0",color:"#333"}},bi=()=>(0,Ne.jsxs)("div",{className:"programme-container",children:[(0,Ne.jsxs)("div",{className:"timelineContainer",style:wi.timelineContainer,children:[(0,Ne.jsx)("h2",{style:wi.heading,children:"Programme"}),(0,Ne.jsx)("div",{style:wi.timeline,children:vi.map(((e,t)=>(0,Ne.jsx)(yi,{time:e.time,title:e.title,icon:e.icon},t)))})]}),(0,Ne.jsx)("div",{className:"div-chat"})]}),_i=()=>(0,Ne.jsxs)("div",{className:"homepage-wrapper",children:[(0,Ne.jsxs)("div",{className:"header_pres",children:[(0,Ne.jsx)("div",{className:"presentation",children:(0,Ne.jsx)("h1",{className:"header_title",children:"Emeline & Vincent"})}),(0,Ne.jsxs)("div",{className:"homepage",children:[(0,Ne.jsx)("div",{className:"wrapper-text",children:(0,Ne.jsxs)("div",{className:"text-container",children:[(0,Ne.jsx)("p",{className:"text-bienvenue",children:" Nous nous marions ! "}),(0,Ne.jsx)("p",{className:"text-date",children:" le 3 Mai 2025"})]})}),(0,Ne.jsx)("div",{className:"save-the-date",children:(0,Ne.jsx)("h2",{children:" Save The Date !"})}),(0,Ne.jsx)("div",{className:"countdown-div",children:(0,Ne.jsx)(gi,{})}),(0,Ne.jsx)("div",{className:"progamme-container",children:(0,Ne.jsx)(bi,{})}),(0,Ne.jsx)("div",{className:"lieux-wrapper",children:(0,Ne.jsxs)("div",{className:"lieux-text-container",children:[(0,Ne.jsx)("h3",{children:" Le Lieu"}),(0,Ne.jsx)("p",{className:"text-lieu",children:" La gentilhommi\xe8re \xe0 Artres, Nord "}),(0,Ne.jsx)("p",{className:"adresse",children:" 2 Rue de l'\xc9glise, 59269 Artres"})]})})]})]}),(0,Ne.jsx)("div",{className:"homepage-deco"})]}),Ei={_origin:"https://api.emailjs.com"},Si=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Ii{constructor(e){this.status=e.status,this.text=e.responseText}}const Ci=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",(e=>{let{target:t}=e;const n=new Ii(t);200===n.status||"OK"===n.text?r(n):i(n)})),s.addEventListener("error",(e=>{let{target:t}=e;i(new Ii(t))})),s.open("POST",Ei._origin+e,!0),Object.keys(n).forEach((e=>{s.setRequestHeader(e,n[e])})),s.send(t)}))},Ti=(e,t,n,r)=>{const i=r||Ei._userID,s=(e=>{let t;if(t="string"===typeof e?document.querySelector(e):e,!t||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t})(n);Si(i,e,t);const o=new FormData(s);return o.append("lib_version","3.2.0"),o.append("service_id",e),o.append("template_id",t),o.append("user_id",i),Ci("/api/v1.0/email/send-form",o)},xi=()=>{const[e,t]=(0,r.useState)({name:"",email:"",message:""}),[n,i]=(0,r.useState)(!1),s=n=>{const{name:r,value:i}=n.target;t({...e,[r]:i})};return(0,Ne.jsxs)("div",{className:"information-wrapper",children:[(0,Ne.jsx)("div",{className:"information-container",children:(0,Ne.jsxs)("div",{className:"information-text",children:[(0,Ne.jsx)("h2",{children:" Se rendre \xe0 la Gentilhommiere : "}),(0,Ne.jsxs)("ul",{className:"list-info",children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("b",{children:"En voiture :"})," se rendre \xe0 l'adresse 2 Rue de l'\xc9glise, 59269 Artres "]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("b",{children:"En train : "})," Le domaine de la Gentilhommiere se trouve \xe0 cot\xe9 de Valenciennes, qui est accessible en train depuis Lille et Paris."]})]}),(0,Ne.jsx)("h2",{children:" Se loger : "}),(0,Ne.jsx)("p",{children:" De nombreux hotels sont disponibles \xe0 Valenciennes mais aussi \xe0 Artres. Des chambres d'h\xf4tes sont \xe9galement disponibles."}),(0,Ne.jsxs)("ul",{className:"liste-gite",children:[(0,Ne.jsx)("li",{children:"Le gite de la pommeraie \xe0 3km"}),(0,Ne.jsx)("li",{children:"Le gite les pairies \xe0 4km"}),(0,Ne.jsx)("li",{children:"Le gite au champ du coq \xe0 4km"})]}),(0,Ne.jsx)("p",{children:" De nombreux autres logements sont aussi disponibles sur airbnb"})]})}),(0,Ne.jsxs)("section",{id:"contact",children:[(0,Ne.jsx)("p",{children:" Pour toutes questions n'h\xe9sitez pas \xe0 nous contacter par t\xe9l\xe9phone ou par le formulaire!"}),(0,Ne.jsxs)("form",{className:"contact-form",onSubmit:e=>{e.preventDefault(),Ti("service_pvtildg","template_r43wxss",e.target,"KLJjF-GwwxrCwghFo").then((e=>{console.log(e.text),i(!0)}),(e=>{console.log(e.text),i(!1)})),e.target.reset()},children:[(0,Ne.jsx)("h2",{children:"Formulaire de contact"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("label",{className:"input-form-contact",children:"Name"}),(0,Ne.jsx)("input",{type:"text",name:"name",value:e.name,onChange:s,required:!0}),(0,Ne.jsx)("label",{children:"Email"}),(0,Ne.jsx)("input",{type:"email",name:"email",value:e.email,onChange:s,required:!0}),(0,Ne.jsx)("label",{children:"Message"}),(0,Ne.jsx)("textarea",{name:"message",value:e.message,onChange:s,required:!0}),(0,Ne.jsx)("button",{className:"button-contact",type:"submit",children:"Send"})]})]})]}),n&&(0,Ne.jsx)("h2",{children:" Message bien envoy\xe9"}),(0,Ne.jsx)("div",{className:"contact-deco"})]})},Ai=()=>(0,Ne.jsx)("section",{id:"gallery",children:(0,Ne.jsx)("div",{className:"cat",children:(0,Ne.jsx)("div",{className:"text-wrap",children:(0,Ne.jsx)("h1",{children:" Pas encore disponible ! Wait and see"})})})}),ki=()=>(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)("section",{id:"schedule",children:[(0,Ne.jsx)("h2",{children:"Schedule"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Ceremony:"})," 3:00 PM at St. John\u2019s Church"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Reception:"})," 5:00 PM at The Grand Hall"]})]})]}),(0,Ne.jsx)("div",{children:(0,Ne.jsx)(gi,{})})]}),Pi=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ri={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Pi(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Ni;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ni extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Di=function(e){return function(e){const t=Pi(e);return Ri.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Oi=function(e){try{return Ri.decodeString(e,!0)}catch(vS){console.error("base64Decode failed: ",vS)}return null};function Li(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Li(e[n],t[n]));return e}const Fi=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Mi=()=>{try{return Fi()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL_JS_PUBLIC_KEY:"KLJjF-GwwxrCwghFo",REACT_APP_EMAIL_JS_SERVICE_ID:"service_pvtildg",REACT_APP_EMAIL_JS_TEMPLATE_ID:"template_r43wxss",REACT_APP_FIREBASE_APP_ID:"1:1002338442648:web:9f4c71cbaba4b4948adfed",REACT_APP_FIREBASE_BUCKET:"guestdb-1d6cf.appspot.com",REACT_APP_FIREBASE_DOMAIN:"guestdb-1d6cf.firebaseapp.com",REACT_APP_FIREBASE_ID:"vincent1.gautier@gmail.com",REACT_APP_FIREBASE_KEY:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",REACT_APP_FIREBASE_MEASURMENT_ID:"G-JYPREP289P",REACT_APP_FIREBASE_PASS:"4F1I0fTJArPjtJ",REACT_APP_FIREBASE_PROJECT_ID:"guestdb-1d6cf",REACT_APP_FIREBASE_SENDER_ID:"1002338442648",REACT_APP_MAPS_API:"AIzaSyAH3RISzbC4eHkzIVe0g7I8aoHIkquLO8A",REACT_APP_PASS_ORGA:"1234"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(vS){return}const t=e&&Oi(e[1]);return t&&JSON.parse(t)})()}catch(vS){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(vS))}},ji=e=>{var t,n;return null===(n=null===(t=Mi())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Bi=()=>{var e;return null===(e=Mi())||void 0===e?void 0:e.config},Ui=e=>{var t;return null===(t=Mi())||void 0===t?void 0:t["_".concat(e)]};class Vi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function zi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gi(){return"object"===typeof self&&self.self===self}function qi(){return!function(){var e;const t=null===(e=Mi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(vS){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hi(){try{return"object"===typeof indexedDB}catch(vS){return!1}}class Ki extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wi.prototype.create)}}class Wi{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Qi,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ki(n,s,t)}}const Qi=/\{\$([^}]+)}/g;function Ji(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yi(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if($i(n)&&$i(s)){if(!Yi(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $i(e){return null!==e&&"object"===typeof e}function Xi(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Zi(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function es(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ts(e,t){const n=new ns(e,t);return n.subscribe.bind(n)}class ns{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=rs),void 0===r.error&&(r.error=rs),void 0===r.complete&&(r.complete=rs);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(vS){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(vS){"undefined"!==typeof console&&console.error&&console.error(vS)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function rs(){}function is(e){return e&&e._delegate?e._delegate:e}class ss{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const os="[DEFAULT]";class as{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Vi;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(vS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(vS){if(r)return null;throw vS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch(vS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(vS){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ls(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function ls(e){return e===os?void 0:e}class us{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new as(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const cs=[];var hs;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(hs||(hs={}));const ds={debug:hs.DEBUG,verbose:hs.VERBOSE,info:hs.INFO,warn:hs.WARN,error:hs.ERROR,silent:hs.SILENT},fs=hs.INFO,ps={[hs.DEBUG]:"log",[hs.VERBOSE]:"log",[hs.INFO]:"info",[hs.WARN]:"warn",[hs.ERROR]:"error"},ms=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ps[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class gs{constructor(e){this.name=e,this._logLevel=fs,this._logHandler=ms,this._userLogHandler=null,cs.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hs))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ds[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hs.DEBUG,...t),this._logHandler(this,hs.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hs.VERBOSE,...t),this._logHandler(this,hs.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hs.INFO,...t),this._logHandler(this,hs.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hs.WARN,...t),this._logHandler(this,hs.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hs.ERROR,...t),this._logHandler(this,hs.ERROR,...t)}}const vs=(e,t)=>t.some((t=>e instanceof t));let ys,ws;const bs=new WeakMap,_s=new WeakMap,Es=new WeakMap,Ss=new WeakMap,Is=new WeakMap;let Cs={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Es.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ts(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ws||(ws=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ks(this),n),As(bs.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return As(e.apply(ks(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(ks(this),t,...r);return Es.set(s,t.sort?t.sort():[t]),As(s)}}function xs(e){return"function"===typeof e?Ts(e):(e instanceof IDBTransaction&&function(e){if(_s.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));_s.set(e,t)}(e),vs(e,ys||(ys=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Cs):e)}function As(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(As(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&bs.set(t,e)})).catch((()=>{})),Is.set(t,e),t}(e);if(Ss.has(e))return Ss.get(e);const t=xs(e);return t!==e&&(Ss.set(e,t),Is.set(t,e)),t}const ks=e=>Is.get(e);const Ps=["get","getKey","getAll","getAllKeys","count"],Rs=["put","add","delete","clear"],Ns=new Map;function Ds(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ns.get(t))return Ns.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Rs.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ps.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Ns.set(t,s),s}Cs=(e=>({...e,get:(t,n,r)=>Ds(t,n)||e.get(t,n,r),has:(t,n)=>!!Ds(t,n)||e.has(t,n)}))(Cs);class Os{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ls="@firebase/app",Fs="0.10.5",Ms=new gs("@firebase/app"),js="@firebase/app-compat",Bs="@firebase/analytics-compat",Us="@firebase/analytics",Vs="@firebase/app-check-compat",zs="@firebase/app-check",Gs="@firebase/auth",qs="@firebase/auth-compat",Hs="@firebase/database",Ks="@firebase/database-compat",Ws="@firebase/functions",Qs="@firebase/functions-compat",Js="@firebase/installations",Ys="@firebase/installations-compat",$s="@firebase/messaging",Xs="@firebase/messaging-compat",Zs="@firebase/performance",eo="@firebase/performance-compat",to="@firebase/remote-config",no="@firebase/remote-config-compat",ro="@firebase/storage",io="@firebase/storage-compat",so="@firebase/firestore",oo="@firebase/vertexai-preview",ao="@firebase/firestore-compat",lo="firebase",uo="[DEFAULT]",co={[Ls]:"fire-core",[js]:"fire-core-compat",[Us]:"fire-analytics",[Bs]:"fire-analytics-compat",[zs]:"fire-app-check",[Vs]:"fire-app-check-compat",[Gs]:"fire-auth",[qs]:"fire-auth-compat",[Hs]:"fire-rtdb",[Ks]:"fire-rtdb-compat",[Ws]:"fire-fn",[Qs]:"fire-fn-compat",[Js]:"fire-iid",[Ys]:"fire-iid-compat",[$s]:"fire-fcm",[Xs]:"fire-fcm-compat",[Zs]:"fire-perf",[eo]:"fire-perf-compat",[to]:"fire-rc",[no]:"fire-rc-compat",[ro]:"fire-gcs",[io]:"fire-gcs-compat",[so]:"fire-fst",[ao]:"fire-fst-compat",[oo]:"fire-vertex","fire-js":"fire-js",[lo]:"fire-js-all"},ho=new Map,fo=new Map,po=new Map;function mo(e,t){try{e.container.addComponent(t)}catch(vS){Ms.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),vS)}}function go(e,t){e.container.addOrOverwriteComponent(t)}function vo(e){const t=e.name;if(po.has(t))return Ms.debug("There were multiple attempts to register component ".concat(t,".")),!1;po.set(t,e);for(const n of ho.values())mo(n,e);for(const n of fo.values())mo(n,e);return!0}function yo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uo;yo(e,t).clearInstance(n)}function bo(e){return void 0!==e.options}function _o(e){return void 0!==e.settings}function Eo(){po.clear()}const So=new Wi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Io{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ss("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}class Co extends Io{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,No(Ls,Fs,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ro(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw So.create("server-app-deleted")}}const To="10.12.2";function xo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:uo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw So.create("bad-app-name",{appName:String(i)});if(n||(n=Bi()),!n)throw So.create("no-options");const s=ho.get(i);if(s){if(Yi(n,s.options)&&Yi(r,s.config))return s;throw So.create("duplicate-app",{appName:i})}const o=new us(i);for(const l of po.values())o.addComponent(l);const a=new Io(n,r,o);return ho.set(i,a),a}function Ao(e,t){if(Gi())throw So.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=bo(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw So.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(r),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const o=fo.get(i);if(o)return o.incRefCount(t.releaseOnDeref),o;const a=new us(i);for(const u of po.values())a.addComponent(u);const l=new Co(n,t,i,a);return fo.set(i,l),l}function ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo;const t=ho.get(e);if(!t&&e===uo&&Bi())return xo();if(!t)throw So.create("no-app",{appName:e});return t}function Po(){return Array.from(ho.values())}async function Ro(e){let t=!1;const n=e.name;if(ho.has(n))t=!0,ho.delete(n);else if(fo.has(n)){e.decRefCount()<=0&&(fo.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function No(e,t,n){var r;let i=null!==(r=co[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ms.warn(e.join(" "))}vo(new ss("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Do(e,t){if(null!==e&&"function"!==typeof e)throw So.create("invalid-log-argument");!function(e,t){for(const n of cs){let r=null;t&&t.level&&(r=ds[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:hs[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Oo(e){var t;t=e,cs.forEach((e=>{e.setLogLevel(t)}))}const Lo="firebase-heartbeat-database",Fo=1,Mo="firebase-heartbeat-store";let jo=null;function Bo(){return jo||(jo=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=As(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(As(o.result),e.oldVersion,e.newVersion,As(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Lo,Fo,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Mo)}catch(vS){console.warn(vS)}}}).catch((e=>{throw So.create("idb-open",{originalErrorMessage:e.message})}))),jo}async function Uo(e,t){try{const n=(await Bo()).transaction(Mo,"readwrite"),r=n.objectStore(Mo);await r.put(t,Vo(e)),await n.done}catch(vS){if(vS instanceof Ki)Ms.warn(vS.message);else{const t=So.create("idb-set",{originalErrorMessage:null===vS||void 0===vS?void 0:vS.message});Ms.warn(t.message)}}}function Vo(e){return"".concat(e.name,"!").concat(e.options.appId)}class zo{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qo(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Go();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Go(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ho(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ho(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Di(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Go(){return(new Date).toISOString().substring(0,10)}class qo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Hi()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Bo()).transaction(Mo),n=await t.objectStore(Mo).get(Vo(e));return await t.done,n}catch(vS){if(vS instanceof Ki)Ms.warn(vS.message);else{const t=So.create("idb-get",{originalErrorMessage:null===vS||void 0===vS?void 0:vS.message});Ms.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Uo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Uo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ho(e){return Di(JSON.stringify({version:2,heartbeats:e})).length}var Ko;Ko="",vo(new ss("platform-logger",(e=>new Os(e)),"PRIVATE")),vo(new ss("heartbeat",(e=>new zo(e)),"PRIVATE")),No(Ls,Fs,Ko),No(Ls,Fs,"esm2017"),No("fire-js","");class Wo{constructor(e,t){this._delegate=e,this.firebase=t,mo(e,new ss("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ro(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uo;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uo;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){mo(this._delegate,e)}_addOrOverwriteComponent(e){go(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Qo=new Wi("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Jo=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=xo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ji(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:No,setLogLevel:Oo,onLog:Do,apps:null,SDK_VERSION:To,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(vo(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Qo.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Li(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ji(n,e=e||uo))throw Qo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Wo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Li(n,e)},createSubscribe:ts,ErrorFactory:Wi,deepExtend:Li}),n}(),Yo=new gs("@firebase/app-compat");if(Gi()&&void 0!==self.firebase){Yo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Yo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $o=Jo;!function(e){No("@firebase/app-compat","0.2.35",e)}();$o.registerVersion("firebase","10.12.2","app-compat");var Xo,Zo,ea="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ta={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);h(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Zo=ta.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},Xo=ta.Integer=r}).apply("undefined"!==typeof ea?ea:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var na,ra,ia,sa,oa,aa,la,ua,ca,ha="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},da={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ha&&ha];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function I(){var e=k;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,A=!1,k=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);x=()=>{e.then(R)}};var R=()=>{for(var e;e=I();){try{e.h.call(e.g)}catch(n){S(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}A=!1};function N(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(En){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:F[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}h(L,D);var F={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),j=0;function B(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function G(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=G(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new B(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new V(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function J(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)J(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=G(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=G(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function $(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){N.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;_(t=new D(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&z(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,N),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){J(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){N.call(this),this.h=e,this.g={}}h(le,N);var ue=[];function ce(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){D.call(this,"d")}function we(){D.call(this,"c")}h(ye,D),h(we,D);var be={},_e=null;function Ee(){return _e=_e||new ne}function Se(e){D.call(this,be.La,e)}function Ie(e){const t=Ee();re(t,new Se(t))}function Ce(e,t){D.call(this,be.STAT_EVENT,e),this.stat=t}function Te(e){const t=Ee();re(t,new Ce(t,e))}function xe(e,t){D.call(this,be.Ma,e),this.size=t}function Ae(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function ke(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(Sn){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",h(Se,D),be.STAT_EVENT="statevent",h(Ce,D),be.Ma="timingevent",h(xe,D),ke.prototype.xa=function(){this.g=!1},ke.prototype.info=function(){};var Re,Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}h(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Re=new Oe;var Me={},je={};function Be(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),Ge(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Fe,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var o=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ie(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function Ge(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ae(u(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Yt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ae(u(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(He(a),Ge(a)),r.g=o}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=u[0]&&"close"!=u[0]||cn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?cn(n,7):Jt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Ie()}catch(c){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const d=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||Ie(),He(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Kt(this.g);e="";var s=r.length,o=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Te(12),We(this),Ke(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=ze(this,a),e==je){4==d&&(this.s=4,Te(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Qe(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,Te(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),Ke(this)}else Pe(this.i,this.l,a,null),Qe(this,a);4==d&&We(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Ge(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),We(this),Ke(this)}}}catch(An){}},Le.prototype.cancel=function(){this.J=!0,We(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ie(),Te(17)),We(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Je=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new _t(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function ht(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){Et(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return Et(e),t=Tt(e,t),e.g.has(t)}function Ct(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(En){}}function At(){this.g=new fe}function kt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(vS){throw t.push(r+"type="+encodeURIComponent("_badmap")),vS}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Rt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Nt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ft(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){Et(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)It(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,It(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(Pt,pe),Pt.prototype.g=function(){return new Rt(this.l,this.j)},Pt.prototype.i=(mt={},function(){return mt}),h(Rt,ne),(e=Rt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Ot(this),3==this.readyState&&Nt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ne);var jt=/^https?$/i,Bt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Gt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!jt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Ht(e)?e.g.statusText:""}catch(Sn){a=""}e.l=a+" ["+e.Z()+"]",Vt(e)}}finally{Gt(e)}}}function Gt(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(vS){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new At,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Jt(e){if($t(e),3==e.G){var t=e.U++,n=ot(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ge(t)}hn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function $t(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;x||P(),A||(x(),A=!0),k.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),en(e,r),e.m&&e.o&&Ft(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Be(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{kt(a,e,"req"+n+"_")}catch(An){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;x||P(),A||(x(),A=!0),k.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ae(u(e.Fa,e),un(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Ft(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new xe(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ae(u(e.Ga,e,t),un(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new ke;if(i.Image){const r=new Image;r.onload=c(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(xt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout((()=>{n.abort(),xt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)})).catch((()=>{clearTimeout(r),xt(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),$t(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Pt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?me(this.o):me(Re),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(En){return void Ut(this,En)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Bt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(En){Ut(this,En)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Gt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let s=this.o;if(this.S&&(s?(s=w(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ct(n=ot(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Lt(s)))+"&"+t:this.m&&Ft(n,this.m,s)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,Be(i,n,null)):Be(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ae(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Jt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Je(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,gn.aa.N.call(this)},h(vn,ye),h(yn,we),h(wn,pn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new vn(e))},wn.prototype.sa=function(e){re(this.g,new yn)},wn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ca=da.createWebChannelTransport=function(){return new mn},ua=da.getStatEventTarget=function(){return Ee()},la=da.Event=be,aa=da.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,oa=da.ErrorCode=Ne,De.COMPLETE="complete",sa=da.EventType=De,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ia=da.WebChannel=ge,ra=da.FetchXmlHttpFactory=Pt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,na=da.XhrIo=Mt}).apply("undefined"!==typeof ha?ha:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const fa="@firebase/firestore";class pa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pa.UNAUTHENTICATED=new pa(null),pa.GOOGLE_CREDENTIALS=new pa("google-credentials-uid"),pa.FIRST_PARTY=new pa("first-party-uid"),pa.MOCK_USER=new pa("mock-user");let ma="10.12.1";const ga=new gs("@firebase/firestore");function va(){return ga.logLevel}function ya(e){if(ga.logLevel<=hs.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_a);ga.debug("Firestore (".concat(ma,"): ").concat(e),...i)}}function wa(e){if(ga.logLevel<=hs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_a);ga.error("Firestore (".concat(ma,"): ").concat(e),...i)}}function ba(e){if(ga.logLevel<=hs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_a);ga.warn("Firestore (".concat(ma,"): ").concat(e),...i)}}function _a(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ma,") INTERNAL ASSERTION FAILED: ")+e;throw wa(t),new Error(t)}function Sa(e,t){e||Ea()}function Ia(e,t){return e}const Ca={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ta extends Ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class xa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Aa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ka{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(pa.UNAUTHENTICATED)))}shutdown(){}}class Pa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ra{constructor(e){this.t=e,this.currentUser=pa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new xa;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xa,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{ya("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ya("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xa)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ya("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Sa("string"==typeof t.accessToken),new Aa(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Sa(null===e||"string"==typeof e),new pa(e)}}class Na{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=pa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Da{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Na(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(pa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Oa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class La{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&ya("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ya("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ya("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ya("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Sa("string"==typeof e.token),this.R=e.token,new Oa(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fa(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ma{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Fa(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ja(e,t){return e<t?-1:e>t?1:0}function Ba(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Ua(e){return e+"\0"}class Va{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ta(Ca.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ta(Ca.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ta(Ca.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ta(Ca.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Va.fromMillis(Date.now())}static fromDate(e){return Va.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Va(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ja(this.nanoseconds,e.nanoseconds):ja(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class za{constructor(e){this.timestamp=e}static fromTimestamp(e){return new za(e)}static min(){return new za(new Va(0,0))}static max(){return new za(new Va(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ga{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ea(),void 0===n?n=e.length-t:n>e.length-t&&Ea(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ga.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ga?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qa extends Ga{construct(e,t,n){return new qa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ta(Ca.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new qa(e)}static emptyPath(){return new qa([])}}const Ha=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ka extends Ga{construct(e,t,n){return new Ka(e,t,n)}static isValidIdentifier(e){return Ha.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ka.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ka(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ta(Ca.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ta(Ca.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ta(Ca.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Ta(Ca.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ka(t)}static emptyPath(){return new Ka([])}}class Wa{constructor(e){this.path=e}static fromPath(e){return new Wa(qa.fromString(e))}static fromName(e){return new Wa(qa.fromString(e).popFirst(5))}static empty(){return new Wa(qa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wa(new qa(e.slice()))}}class Qa{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Ja(e){return e.fields.find((e=>2===e.kind))}function Ya(e){return e.fields.filter((e=>2!==e.kind))}Qa.UNKNOWN_ID=-1;class $a{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xa{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xa(0,tl.min())}}function Za(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=za.fromTimestamp(1e9===r?new Va(n+1,0):new Va(n,r));return new tl(i,Wa.empty(),t)}function el(e){return new tl(e.readTime,e.key,-1)}class tl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new tl(za.min(),Wa.empty(),-1)}static max(){return new tl(za.max(),Wa.empty(),-1)}}function nl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Wa.comparator(e.documentKey,t.documentKey),0!==n?n:ja(e.largestBatchId,t.largestBatchId))}const rl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class il{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function sl(e){if(e.code!==Ca.FAILED_PRECONDITION||e.message!==rl)throw e;ya("LocalStore","Unexpectedly lost primary lease")}class ol{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ea(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ol(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ol?t:ol.resolve(t)}catch(e){return ol.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ol.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ol.reject(t)}static resolve(e){return new ol(((t,n)=>{t(e)}))}static reject(e){return new ol(((t,n)=>{n(e)}))}static waitFor(e){return new ol(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=ol.resolve(!1);for(const n of e)t=t.next((e=>e?ol.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ol(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new ol(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class al{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new xa,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new hl(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=gl(t.target.error);this.V.reject(new hl(e,n))}}static open(e,t,n,r){try{return new al(t,e.transaction(r,n))}catch(e){throw new hl(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ya("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fl(t)}}class ll{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===ll.S(zi())&&wa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ya("SimpleDb","Removing database:",e),pl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Hi())return!1;if(ll.C())return!0;const e=zi(),t=ll.S(e),n=0<t&&t<10,r=ul(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(ya("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new hl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Ta(Ca.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Ta(Ca.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new hl(e,r))},r.onupgradeneeded=e=>{ya("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{ya("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.M(e);const t=al.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),ol.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(ya("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ul(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class cl{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return pl(this.B.delete())}}class hl extends Ta{constructor(e,t){super(Ca.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function dl(e){return"IndexedDbTransactionError"===e.name}class fl{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ya("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ya("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),pl(n)}add(e){return ya("SimpleDb","ADD",this.store.name,e,e),pl(this.store.add(e))}get(e){return pl(this.store.get(e)).next((t=>(void 0===t&&(t=null),ya("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return ya("SimpleDb","DELETE",this.store.name,e),pl(this.store.delete(e))}count(){return ya("SimpleDb","COUNT",this.store.name),pl(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new ol(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ol(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){ya("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new ol(((n,r)=>{t.onerror=e=>{const t=gl(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new ol(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new cl(i),o=t(i.primaryKey,i.value,s);if(o instanceof ol){const e=o.catch((e=>(s.done(),ol.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>ol.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function pl(e){return new ol(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=gl(e.target.error);n(t)}}))}let ml=!1;function gl(e){const t=ll.S(zi());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ta("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ml||(ml=!0,setTimeout((()=>{throw e}),0)),e}}return e}class vl{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){ya("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{ya("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){dl(e)?ya("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await sl(e)}await this.X(6e4)}))}}class yl{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return ol.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return ya("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(ya("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=el(t);nl(r,n)>0&&(n=r)})),new tl(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class wl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function bl(e){return null==e}function _l(e){return 0===e&&1/e==-1/0}function El(e){return"number"==typeof e&&Number.isInteger(e)&&!_l(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Sl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Cl(t)),t=Il(e.get(n),t);return Cl(t)}function Il(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Cl(e){return e+"\x01\x01"}function Tl(e){const t=e.length;if(Sa(t>=2),2===t)return Sa("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),qa.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Ea(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Ea()}s=t+2}return new qa(r)}wl.oe=-1;const xl=["userId","batchId"];function Al(e,t){return[e,Sl(t)]}function kl(e,t,n){return[e,Sl(t),n]}const Pl={},Rl=["prefixPath","collectionGroup","readTime","documentId"],Nl=["prefixPath","collectionGroup","documentId"],Dl=["collectionGroup","readTime","prefixPath","documentId"],Ol=["canonicalId","targetId"],Ll=["targetId","path"],Fl=["path","targetId"],Ml=["collectionId","parent"],jl=["indexId","uid"],Bl=["uid","sequenceNumber"],Ul=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Vl=["indexId","uid","orderedDocumentKey"],zl=["userId","collectionPath","documentId"],Gl=["userId","collectionPath","largestBatchId"],ql=["userId","collectionGroup","largestBatchId"],Hl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kl=[...Hl,"documentOverlays"],Wl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ql=Wl,Jl=[...Ql,"indexConfiguration","indexState","indexEntries"],Yl=Jl;class $l extends il{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Xl(e,t){const n=Ia(e);return ll.F(n._e,t)}function Zl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function eu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class nu{constructor(e,t){this.comparator=e,this.root=t||iu.EMPTY}insert(e,t){return new nu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,iu.BLACK,null,null))}remove(e){return new nu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,iu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ru(this.root,e,this.comparator,!0)}}class ru{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class iu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:iu.RED,this.left=null!=r?r:iu.EMPTY,this.right=null!=i?i:iu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new iu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return iu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return iu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,iu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,iu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ea();if(this.right.isRed())throw Ea();const e=this.left.check();if(e!==this.right.check())throw Ea();return e+(this.isRed()?0:1)}}iu.EMPTY=null,iu.RED=!0,iu.BLACK=!1,iu.EMPTY=new class{constructor(){this.size=0}get key(){throw Ea()}get value(){throw Ea()}get color(){throw Ea()}get left(){throw Ea()}get right(){throw Ea()}copy(e,t,n,r,i){return this}insert(e,t,n){return new iu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class su{constructor(e){this.comparator=e,this.data=new nu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ou(this.data.getIterator())}getIteratorFrom(e){return new ou(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof su))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new su(this.comparator);return t.data=e,t}}class ou{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function au(e){return e.hasNext()?e.getNext():void 0}class lu{constructor(e){this.fields=e,e.sort(Ka.comparator)}static empty(){return new lu([])}unionWith(e){let t=new su(Ka.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new lu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class uu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new uu("Invalid base64 string: "+e):e}}(e);return new cu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new cu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ja(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cu.EMPTY_BYTE_STRING=new cu("");const hu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function du(e){if(Sa(!!e),"string"==typeof e){let t=0;const n=hu.exec(e);if(Sa(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:fu(e.seconds),nanos:fu(e.nanos)}}function fu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function pu(e){return"string"==typeof e?cu.fromBase64String(e):cu.fromUint8Array(e)}function mu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gu(e){const t=e.mapValue.fields.__previous_value__;return mu(t)?gu(t):t}function vu(e){const t=du(e.mapValue.fields.__local_write_time__.timestampValue);return new Va(t.seconds,t.nanos)}class yu{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class wu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}const bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_u={nullValue:"NULL_VALUE"};function Eu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mu(e)?4:Fu(e)?9007199254740991:10:Ea()}function Su(e,t){if(e===t)return!0;const n=Eu(e);if(n!==Eu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vu(e).isEqual(vu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=du(e.timestampValue),r=du(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return pu(e.bytesValue).isEqual(pu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fu(e.geoPointValue.latitude)===fu(t.geoPointValue.latitude)&&fu(e.geoPointValue.longitude)===fu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fu(e.integerValue)===fu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=fu(e.doubleValue),r=fu(t.doubleValue);return n===r?_l(n)===_l(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ba(e.arrayValue.values||[],t.arrayValue.values||[],Su);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zl(n)!==Zl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Su(n[i],r[i])))return!1;return!0}(e,t);default:return Ea()}}function Iu(e,t){return void 0!==(e.values||[]).find((e=>Su(e,t)))}function Cu(e,t){if(e===t)return 0;const n=Eu(e),r=Eu(t);if(n!==r)return ja(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ja(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=fu(e.integerValue||e.doubleValue),r=fu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tu(e.timestampValue,t.timestampValue);case 4:return Tu(vu(e),vu(t));case 5:return ja(e.stringValue,t.stringValue);case 6:return function(e,t){const n=pu(e),r=pu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ja(n[i],r[i]);if(0!==e)return e}return ja(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ja(fu(e.latitude),fu(t.latitude));return 0!==n?n:ja(fu(e.longitude),fu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Cu(n[i],r[i]);if(e)return e}return ja(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===bu.mapValue&&t===bu.mapValue)return 0;if(e===bu.mapValue)return 1;if(t===bu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=ja(r[o],s[o]);if(0!==e)return e;const t=Cu(n[r[o]],i[s[o]]);if(0!==t)return t}return ja(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ea()}}function Tu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ja(e,t);const n=du(e),r=du(t),i=ja(n.seconds,r.seconds);return 0!==i?i:ja(n.nanos,r.nanos)}function xu(e){return Au(e)}function Au(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=du(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return pu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Wa.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Au(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Au(e.fields[i]));return n+"}"}(e.mapValue):Ea()}function ku(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Pu(e){return!!e&&"integerValue"in e}function Ru(e){return!!e&&"arrayValue"in e}function Nu(e){return!!e&&"nullValue"in e}function Du(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ou(e){return!!e&&"mapValue"in e}function Lu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return eu(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Lu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Lu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Fu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Mu(e){return"nullValue"in e?_u:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ku(wu.empty(),Wa.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ea()}function ju(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ku(wu.empty(),Wa.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?bu:Ea()}function Bu(e,t){const n=Cu(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Uu(e,t){const n=Cu(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Vu{constructor(e){this.value=e}static empty(){return new Vu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ou(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=Ka.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Lu(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ou(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Su(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ou(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){eu(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Vu(Lu(this.value))}}function zu(e){const t=[];return eu(e.fields,((e,n)=>{const r=new Ka([e]);if(Ou(n)){const e=zu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new lu(t)}class Gu{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Gu(e,0,za.min(),za.min(),za.min(),Vu.empty(),0)}static newFoundDocument(e,t,n,r){return new Gu(e,1,t,za.min(),n,r,0)}static newNoDocument(e,t){return new Gu(e,2,t,za.min(),za.min(),Vu.empty(),0)}static newUnknownDocument(e,t){return new Gu(e,3,t,za.min(),za.min(),Vu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(za.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=za.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class qu{constructor(e,t){this.position=e,this.inclusive=t}}function Hu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Wa.comparator(Wa.fromName(o.referenceValue),n.key):Cu(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ku(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Su(e.position[n],t.position[n]))return!1;return!0}class Wu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Qu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ju{}class Yu extends Ju{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new oc(e,t,n):"array-contains"===t?new cc(e,n):"in"===t?new hc(e,n):"not-in"===t?new dc(e,n):"array-contains-any"===t?new fc(e,n):new Yu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ac(e,n):new lc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Cu(t,this.value)):null!==t&&Eu(this.value)===Eu(t)&&this.matchesComparison(Cu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ea()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $u extends Ju{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new $u(e,t)}matches(e){return Xu(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xu(e){return"and"===e.op}function Zu(e){return"or"===e.op}function ec(e){return tc(e)&&Xu(e)}function tc(e){for(const t of e.filters)if(t instanceof $u)return!1;return!0}function nc(e){if(e instanceof Yu)return e.field.canonicalString()+e.op.toString()+xu(e.value);if(ec(e))return e.filters.map((e=>nc(e))).join(",");{const t=e.filters.map((e=>nc(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function rc(e,t){return e instanceof Yu?function(e,t){return t instanceof Yu&&e.op===t.op&&e.field.isEqual(t.field)&&Su(e.value,t.value)}(e,t):e instanceof $u?function(e,t){return t instanceof $u&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&rc(n,t.filters[r])),!0)}(e,t):void Ea()}function ic(e,t){const n=e.filters.concat(t);return $u.create(n,e.op)}function sc(e){return e instanceof Yu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(xu(e.value))}(e):e instanceof $u?function(e){return e.op.toString()+" {"+e.getFilters().map(sc).join(" ,")+"}"}(e):"Filter"}class oc extends Yu{constructor(e,t,n){super(e,t,n),this.key=Wa.fromName(n.referenceValue)}matches(e){const t=Wa.comparator(e.key,this.key);return this.matchesComparison(t)}}class ac extends Yu{constructor(e,t){super(e,"in",t),this.keys=uc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class lc extends Yu{constructor(e,t){super(e,"not-in",t),this.keys=uc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function uc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Wa.fromName(e.referenceValue)))}class cc extends Yu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ru(t)&&Iu(t.arrayValue,this.value)}}class hc extends Yu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Iu(this.value.arrayValue,t)}}class dc extends Yu{constructor(e,t){super(e,"not-in",t)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Iu(this.value.arrayValue,t)}}class fc extends Yu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ru(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Iu(this.value.arrayValue,e)))}}class pc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function mc(e){return new pc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function gc(e){const t=Ia(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>nc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),bl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>xu(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>xu(e))).join(",")),t.ue=e}return t.ue}function vc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Qu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ku(e.startAt,t.startAt)&&Ku(e.endAt,t.endAt)}function yc(e){return Wa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function wc(e,t){return e.filters.filter((e=>e instanceof Yu&&e.field.isEqual(t)))}function bc(e,t,n){let r=_u,i=!0;for(const s of wc(e,t)){let e=_u,t=!0;switch(s.op){case"<":case"<=":e=Mu(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=_u}Bu({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Bu({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function _c(e,t,n){let r=bu,i=!0;for(const s of wc(e,t)){let e=bu,t=!0;switch(s.op){case">=":case">":e=ju(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=bu}Uu({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Uu({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Ec{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Sc(e,t,n,r,i,s,o,a){return new Ec(e,t,n,r,i,s,o,a)}function Ic(e){return new Ec(e)}function Cc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Tc(e){return null!==e.collectionGroup}function xc(e){const t=Ia(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new su(Ka.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Wu(r,n))})),e.has(Ka.keyField().canonicalString())||t.ce.push(new Wu(Ka.keyField(),n))}return t.ce}function Ac(e){const t=Ia(e);return t.le||(t.le=kc(t,xc(e))),t.le}function kc(e,t){if("F"===e.limitType)return mc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Wu(e.field,t)}));const n=e.endAt?new qu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new qu(e.startAt.position,e.startAt.inclusive):null;return mc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Pc(e,t){const n=e.filters.concat([t]);return new Ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Rc(e,t,n){return new Ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nc(e,t){return vc(Ac(e),Ac(t))&&e.limitType===t.limitType}function Dc(e){return"".concat(gc(Ac(e)),"|lt:").concat(e.limitType)}function Oc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>sc(e))).join(", "),"]")),bl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>xu(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>xu(e))).join(",")),"Target(".concat(t,")")}(Ac(e)),"; limitType=").concat(e.limitType,")")}function Lc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of xc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Hu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xc(e),t))&&!(e.endAt&&!function(e,t,n){const r=Hu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xc(e),t))}(e,t)}function Fc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Mc(e){return(t,n)=>{let r=!1;for(const i of xc(e)){const e=jc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function jc(e,t,n){const r=e.field.isKeyField()?Wa.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cu(r,i):Ea()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ea()}}class Bc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){eu(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return tu(this.inner)}size(){return this.innerSize}}const Uc=new nu(Wa.comparator);function Vc(){return Uc}const zc=new nu(Wa.comparator);function Gc(){let e=zc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function qc(e){let t=zc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Hc(){return Wc()}function Kc(){return Wc()}function Wc(){return new Bc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Qc=new nu(Wa.comparator),Jc=new su(Wa.comparator);function Yc(){let e=Jc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const $c=new su(ja);function Xc(){return $c}function Zc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_l(t)?"-0":t}}function eh(e){return{integerValue:""+e}}function th(e,t){return El(t)?eh(t):Zc(e,t)}class nh{constructor(){this._=void 0}}function rh(e,t,n){return e instanceof oh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&mu(t)&&(t=gu(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ah?lh(e,t):e instanceof uh?ch(e,t):function(e,t){const n=sh(e,t),r=dh(n)+dh(e.Pe);return Pu(n)&&Pu(e.Pe)?eh(r):Zc(e.serializer,r)}(e,t)}function ih(e,t,n){return e instanceof ah?lh(e,t):e instanceof uh?ch(e,t):n}function sh(e,t){return e instanceof hh?function(e){return Pu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class oh extends nh{}class ah extends nh{constructor(e){super(),this.elements=e}}function lh(e,t){const n=fh(t);for(const r of e.elements)n.some((e=>Su(e,r)))||n.push(r);return{arrayValue:{values:n}}}class uh extends nh{constructor(e){super(),this.elements=e}}function ch(e,t){let n=fh(t);for(const r of e.elements)n=n.filter((e=>!Su(e,r)));return{arrayValue:{values:n}}}class hh extends nh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function dh(e){return fu(e.integerValue||e.doubleValue)}function fh(e){return Ru(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ph{constructor(e,t){this.field=e,this.transform=t}}class mh{constructor(e,t){this.version=e,this.transformResults=t}}class gh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gh}static exists(e){return new gh(void 0,e)}static updateTime(e){return new gh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class yh{}function wh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kh(e.key,gh.none()):new Ih(e.key,e.data,gh.none());{const n=e.data,r=Vu.empty();let i=new su(Ka.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ch(e.key,r,new lu(i.toArray()),gh.none())}}function bh(e,t,n){e instanceof Ih?function(e,t,n){const r=e.value.clone(),i=xh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ch?function(e,t,n){if(!vh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=xh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Th(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _h(e,t,n,r){return e instanceof Ih?function(e,t,n,r){if(!vh(e.precondition,t))return n;const i=e.value.clone(),s=Ah(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ch?function(e,t,n,r){if(!vh(e.precondition,t))return n;const i=Ah(e.fieldTransforms,r,t),s=t.data;return s.setAll(Th(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return vh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Eh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=sh(r.transform,e||null);null!=i&&(null===n&&(n=Vu.empty()),n.set(r.field,i))}return n||null}function Sh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ba(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ah&&t instanceof ah||e instanceof uh&&t instanceof uh?Ba(e.elements,t.elements,Su):e instanceof hh&&t instanceof hh?Su(e.Pe,t.Pe):e instanceof oh&&t instanceof oh}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ih extends yh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ch extends yh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Th(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function xh(e,t,n){const r=new Map;Sa(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,ih(o,a,n[i]))}return r}function Ah(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,rh(e,s,t))}return r}class kh extends yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ph extends yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&bh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=_h(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=_h(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Kc();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=wh(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(za.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Yc())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,((e,t)=>Sh(e,t)))&&Ba(this.baseMutations,e.baseMutations,((e,t)=>Sh(e,t)))}}class Nh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Sa(e.mutations.length===n.length);let r=Qc;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Nh(e,t,n,r)}}class Dh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Oh{constructor(e,t){this.count=e,this.unchangedNames=t}}var Lh,Fh;function Mh(e){switch(e){default:return Ea();case Ca.CANCELLED:case Ca.UNKNOWN:case Ca.DEADLINE_EXCEEDED:case Ca.RESOURCE_EXHAUSTED:case Ca.INTERNAL:case Ca.UNAVAILABLE:case Ca.UNAUTHENTICATED:return!1;case Ca.INVALID_ARGUMENT:case Ca.NOT_FOUND:case Ca.ALREADY_EXISTS:case Ca.PERMISSION_DENIED:case Ca.FAILED_PRECONDITION:case Ca.ABORTED:case Ca.OUT_OF_RANGE:case Ca.UNIMPLEMENTED:case Ca.DATA_LOSS:return!0}}function jh(e){if(void 0===e)return wa("GRPC error has no .code"),Ca.UNKNOWN;switch(e){case Lh.OK:return Ca.OK;case Lh.CANCELLED:return Ca.CANCELLED;case Lh.UNKNOWN:return Ca.UNKNOWN;case Lh.DEADLINE_EXCEEDED:return Ca.DEADLINE_EXCEEDED;case Lh.RESOURCE_EXHAUSTED:return Ca.RESOURCE_EXHAUSTED;case Lh.INTERNAL:return Ca.INTERNAL;case Lh.UNAVAILABLE:return Ca.UNAVAILABLE;case Lh.UNAUTHENTICATED:return Ca.UNAUTHENTICATED;case Lh.INVALID_ARGUMENT:return Ca.INVALID_ARGUMENT;case Lh.NOT_FOUND:return Ca.NOT_FOUND;case Lh.ALREADY_EXISTS:return Ca.ALREADY_EXISTS;case Lh.PERMISSION_DENIED:return Ca.PERMISSION_DENIED;case Lh.FAILED_PRECONDITION:return Ca.FAILED_PRECONDITION;case Lh.ABORTED:return Ca.ABORTED;case Lh.OUT_OF_RANGE:return Ca.OUT_OF_RANGE;case Lh.UNIMPLEMENTED:return Ca.UNIMPLEMENTED;case Lh.DATA_LOSS:return Ca.DATA_LOSS;default:return Ea()}}(Fh=Lh||(Lh={}))[Fh.OK=0]="OK",Fh[Fh.CANCELLED=1]="CANCELLED",Fh[Fh.UNKNOWN=2]="UNKNOWN",Fh[Fh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fh[Fh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fh[Fh.NOT_FOUND=5]="NOT_FOUND",Fh[Fh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fh[Fh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fh[Fh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fh[Fh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fh[Fh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fh[Fh.ABORTED=10]="ABORTED",Fh[Fh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fh[Fh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fh[Fh.INTERNAL=13]="INTERNAL",Fh[Fh.UNAVAILABLE=14]="UNAVAILABLE",Fh[Fh.DATA_LOSS=15]="DATA_LOSS";let Bh=null;function Uh(){return new TextEncoder}const Vh=new Xo([4294967295,4294967295],0);function zh(e){const t=Uh().encode(e),n=new Zo;return n.update(t),new Uint8Array(n.digest())}function Gh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,s],0)]}class qh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Hh("Invalid padding: ".concat(t));if(n<0)throw new Hh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Hh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Hh("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Xo.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Xo.fromNumber(n)));return 1===r.compare(Vh)&&(r=new Xo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=zh(e),[n,r]=Gh(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new qh(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=zh(e),[n,r]=Gh(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Wh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Kh(za.min(),r,new nu(ja),Vc(),Yc())}}class Wh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Wh(n,t,Yc(),Yc(),Yc())}}class Qh{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Jh{constructor(e,t){this.targetId=e,this.me=t}}class Yh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class $h{constructor(){this.fe=0,this.ge=ed(),this.pe=cu.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Yc(),t=Yc(),n=Yc();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ea()}})),new Wh(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=ed()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Sa(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Xh{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vc(),this.qe=Zh(),this.Qe=new nu(ja)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Ea()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(yc(i))if(0===n){const e=new Wa(i.path);this.Ue(t,e,Gu.newNoDocument(e,za.min()))}else Sa(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Bh||Bh.et(function(e,t,n,r,i){var s,o,a,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=pu(n).toUint8Array()}catch(e){if(e instanceof uu)return ba("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new qh(s,r,i)}catch(e){return ba(e instanceof Hh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&yc(i.target)){const t=new Wa(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Gu.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=Yc();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Kh(e,t,this.Qe,this.ke,n);return this.ke=Vc(),this.qe=Zh(),this.Qe=new nu(ja),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new $h,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new su(ja),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||ya("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $h),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Zh(){return new nu(Wa.comparator)}function ed(){return new nu(Wa.comparator)}const td={asc:"ASCENDING",desc:"DESCENDING"},nd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rd={and:"AND",or:"OR"};class id{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sd(e,t){return e.useProto3Json||bl(t)?t:{value:t}}function od(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ad(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ld(e,t){return od(e,t.toTimestamp())}function ud(e){return Sa(!!e),za.fromTimestamp(function(e){const t=du(e);return new Va(t.seconds,t.nanos)}(e))}function cd(e,t){return hd(e,t).canonicalString()}function hd(e,t){const n=function(e){return new qa(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function dd(e){const t=qa.fromString(e);return Sa(Od(t)),t}function fd(e,t){return cd(e.databaseId,t.path)}function pd(e,t){const n=dd(t);if(n.get(1)!==e.databaseId.projectId)throw new Ta(Ca.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ta(Ca.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wa(yd(n))}function md(e,t){return cd(e.databaseId,t)}function gd(e){const t=dd(e);return 4===t.length?qa.emptyPath():yd(t)}function vd(e){return new qa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yd(e){return Sa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function wd(e,t,n){return{name:fd(e,t),fields:n.value.mapValue.fields}}function bd(e,t,n){const r=pd(e,t.name),i=ud(t.updateTime),s=t.createTime?ud(t.createTime):za.min(),o=new Vu({mapValue:{fields:t.fields}}),a=Gu.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function _d(e,t){let n;if(t instanceof Ih)n={update:wd(e,t.key,t.value)};else if(t instanceof kh)n={delete:fd(e,t.key)};else if(t instanceof Ch)n={update:wd(e,t.key,t.data),updateMask:Dd(t.fieldMask)};else{if(!(t instanceof Ph))return Ea();n={verify:fd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof oh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ah)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof uh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hh)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Ea()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ld(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ea()}(e,t.precondition)),n}function Ed(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?gh.updateTime(ud(e.updateTime)):void 0!==e.exists?gh.exists(e.exists):gh.none()}(t.currentDocument):gh.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Sa("REQUEST_TIME"===t.setToServerValue),n=new oh;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new ah(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new uh(e)}else"increment"in t?n=new hh(e,t.increment):Ea();const r=Ka.fromServerFormat(t.fieldPath);return new ph(r,n)}(e,t))):[];if(t.update){t.update.name;const i=pd(e,t.update.name),s=new Vu({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new lu(t.map((e=>Ka.fromServerFormat(e))))}(t.updateMask);return new Ch(i,s,e,n,r)}return new Ih(i,s,n,r)}if(t.delete){const r=pd(e,t.delete);return new kh(r,n)}if(t.verify){const r=pd(e,t.verify);return new Ph(r,n)}return Ea()}function Sd(e,t){return{documents:[md(e,t.path)]}}function Id(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=md(e,i);const s=function(e){if(0!==e.length)return Nd($u.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Pd(e.field),direction:xd(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sd(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Cd(e){let t=gd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Sa(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Td(e);return t instanceof $u&&ec(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Wu(Rd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,bl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new qu(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new qu(n,t)}(n.endAt)),Sc(t,i,o,s,a,"F",l,u)}function Td(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rd(e.unaryFilter.field);return Yu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Rd(e.unaryFilter.field);return Yu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rd(e.unaryFilter.field);return Yu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Rd(e.unaryFilter.field);return Yu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ea()}}(e):void 0!==e.fieldFilter?function(e){return Yu.create(Rd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ea()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $u.create(e.compositeFilter.filters.map((e=>Td(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ea()}}(e.compositeFilter.op))}(e):Ea()}function xd(e){return td[e]}function Ad(e){return nd[e]}function kd(e){return rd[e]}function Pd(e){return{fieldPath:e.canonicalString()}}function Rd(e){return Ka.fromServerFormat(e.fieldPath)}function Nd(e){return e instanceof Yu?function(e){if("=="===e.op){if(Du(e.value))return{unaryFilter:{field:Pd(e.field),op:"IS_NAN"}};if(Nu(e.value))return{unaryFilter:{field:Pd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Du(e.value))return{unaryFilter:{field:Pd(e.field),op:"IS_NOT_NAN"}};if(Nu(e.value))return{unaryFilter:{field:Pd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pd(e.field),op:Ad(e.op),value:e.value}}}(e):e instanceof $u?function(e){const t=e.getFilters().map((e=>Nd(e)));return 1===t.length?t[0]:{compositeFilter:{op:kd(e.op),filters:t}}}(e):Ea()}function Dd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Od(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ld{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:za.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:za.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:cu.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Ld(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ld(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fd{constructor(e){this.ct=e}}function Md(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jd(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:fd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:od(e,t.version.toTimestamp()),createTime:od(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Bd(t.version)};else{if(!t.isUnknownDocument())return Ea();r.unknownDocument={path:n.path.toArray(),version:Bd(t.version)}}return r}function jd(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Bd(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ud(e){const t=new Va(e.seconds,e.nanoseconds);return za.fromTimestamp(t)}function Vd(e,t){const n=(t.baseMutations||[]).map((t=>Ed(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Ed(e.ct,t))),i=Va.fromMillis(t.localWriteTimeMs);return new Rh(t.batchId,i,n,r)}function zd(e){const t=Ud(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ud(e.lastLimboFreeSnapshotVersion):za.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Sa(1===e.documents.length),Ac(Ic(gd(e.documents[0])))}(e.query):function(e){return Ac(Cd(e))}(e.query),new Ld(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,cu.fromBase64String(e.resumeToken))}function Gd(e,t){const n=Bd(t.snapshotVersion),r=Bd(t.lastLimboFreeSnapshotVersion);let i;i=yc(t.target)?Sd(e.ct,t.target):Id(e.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:gc(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function qd(e){const t=Cd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Rc(t,t.limit,"L"):t}function Hd(e,t){return new Dh(t.largestBatchId,Ed(e.ct,t.overlayMutation))}function Kd(e,t){const n=t.path.lastSegment();return[e,Sl(t.path.popLast()),n]}function Wd(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Bd(r.readTime),documentKey:Sl(r.documentKey.path),largestBatchId:r.largestBatchId}}class Qd{getBundleMetadata(e,t){return Jd(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Ud(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Jd(e).put(function(e){return{bundleId:e.id,createTime:Bd(ud(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Yd(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:qd(e.bundledQuery),readTime:Ud(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Yd(e).put(function(e){return{name:e.name,readTime:Bd(ud(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Jd(e){return Xl(e,"bundles")}function Yd(e){return Xl(e,"namedQueries")}class $d{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new $d(e,n)}getOverlay(e,t){return Xd(e).get(Kd(this.userId,t)).next((e=>e?Hd(this.serializer,e):null))}getOverlays(e,t){const n=Hc();return ol.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Dh(t,i);r.push(this.ht(e,s))})),ol.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Sl(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Xd(e).j("collectionPathOverlayIndex",r))})),ol.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Hc(),i=Sl(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Xd(e).U("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Hd(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Hc();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xd(e).J({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Hd(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Xd(e).put(function(e,t,n){const[r,i,s]=Kd(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:_d(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Xd(e){return Xl(e,"documentOverlays")}class Zd{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(fu(e.integerValue));else if("doubleValue"in e){const n=fu(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),_l(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=du(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(pu(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Fu(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Ea()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Wa.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function ef(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function tf(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=ef(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Zd.bt=new Zd;class nf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=tf(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=tf(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class rf{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class sf{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class of{constructor(){this.Gt=new nf,this.zt=new rf(this.Gt),this.jt=new sf(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class af{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new af(this.indexId,this.documentKey,this.arrayValue,n)}}function lf(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=uf(e.arrayValue,t.arrayValue),0!==n?n:(n=uf(e.directionalValue,t.directionalValue),0!==n?n:Wa.comparator(e.documentKey,t.documentKey)))}function uf(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class cf{constructor(e){this.Yt=new su(((e,t)=>Ka.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(Sa(e.collectionGroup===this.collectionId),this.en)return!1;const t=Ja(e);if(void 0!==t&&!this.nn(t))return!1;const n=Ya(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new su(Ka.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new $a(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new $a(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new $a(n.field,"asc"===n.dir?0:1)));return new Qa(Qa.UNKNOWN_ID,this.collectionId,t,Xa.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function hf(e){var t,n;if(Sa(e instanceof Yu||e instanceof $u),e instanceof Yu){if(e instanceof hc){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Yu.create(e.field,"==",t))))||[];return $u.create(r,"or")}return e}const r=e.filters.map((e=>hf(e)));return $u.create(r,e.op)}function df(e){if(0===e.getFilters().length)return[];const t=gf(hf(e));return Sa(mf(t)),ff(t)||pf(t)?[t]:t.getFilters()}function ff(e){return e instanceof Yu}function pf(e){return e instanceof $u&&ec(e)}function mf(e){return ff(e)||pf(e)||function(e){if(e instanceof $u&&Zu(e)){for(const t of e.getFilters())if(!ff(t)&&!pf(t))return!1;return!0}return!1}(e)}function gf(e){if(Sa(e instanceof Yu||e instanceof $u),e instanceof Yu)return e;if(1===e.filters.length)return gf(e.filters[0]);const t=e.filters.map((e=>gf(e)));let n=$u.create(t,e.op);return n=wf(n),mf(n)?n:(Sa(n instanceof $u),Sa(Xu(n)),Sa(n.filters.length>1),n.filters.reduce(((e,t)=>vf(e,t))))}function vf(e,t){let n;return Sa(e instanceof Yu||e instanceof $u),Sa(t instanceof Yu||t instanceof $u),n=e instanceof Yu?t instanceof Yu?function(e,t){return $u.create([e,t],"and")}(e,t):yf(e,t):t instanceof Yu?yf(t,e):function(e,t){if(Sa(e.filters.length>0&&t.filters.length>0),Xu(e)&&Xu(t))return ic(e,t.getFilters());const n=Zu(e)?e:t,r=Zu(e)?t:e,i=n.filters.map((e=>vf(e,r)));return $u.create(i,"or")}(e,t),wf(n)}function yf(e,t){if(Xu(t))return ic(t,e.getFilters());{const n=t.filters.map((t=>vf(e,t)));return $u.create(n,"or")}}function wf(e){if(Sa(e instanceof Yu||e instanceof $u),e instanceof Yu)return e;const t=e.getFilters();if(1===t.length)return wf(t[0]);if(tc(e))return e;const n=t.map((e=>wf(e))),r=[];return n.forEach((t=>{t instanceof Yu?r.push(t):t instanceof $u&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:$u.create(r,e.op)}class bf{constructor(){this._n=new _f}addToCollectionParentIndex(e,t){return this._n.add(t),ol.resolve()}getCollectionParents(e,t){return ol.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return ol.resolve()}deleteFieldIndex(e,t){return ol.resolve()}deleteAllFieldIndexes(e){return ol.resolve()}createTargetIndexes(e,t){return ol.resolve()}getDocumentsMatchingTarget(e,t){return ol.resolve(null)}getIndexType(e,t){return ol.resolve(0)}getFieldIndexes(e,t){return ol.resolve([])}getNextCollectionGroupToUpdate(e){return ol.resolve(null)}getMinOffset(e,t){return ol.resolve(tl.min())}getMinOffsetFromCollectionGroup(e,t){return ol.resolve(tl.min())}updateCollectionGroup(e,t,n){return ol.resolve()}updateIndexEntries(e,t){return ol.resolve()}}class _f{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new su(qa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new su(qa.comparator)).toArray()}}const Ef=new Uint8Array(0);class Sf{constructor(e,t){this.databaseId=t,this.an=new _f,this.un=new Bc((e=>gc(e)),((e,t)=>vc(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Sl(r)};return If(e).put(i)}return ol.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ua(t),""],!1,!0);return If(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Tl(r.parent))}return n}))}addFieldIndex(e,t){const n=Tf(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=xf(e);return i.next((e=>{n.put(Wd(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Tf(e),r=xf(e),i=Cf(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Tf(e),n=Cf(e),r=xf(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return ol.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new cf(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Cf(e);let r=!0;const i=new Map;return ol.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Yc();const r=[];return ol.forEach(i,((i,s)=>{ya("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(gc(t)));const o=function(e,t){const n=Ja(t);if(void 0===n)return null;for(const r of wc(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of Ya(t))for(const t of wc(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Ya(t)){const t=0===i.kind?bc(e,i.fieldPath,e.startAt):_c(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new qu(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of Ya(t)){const t=0===i.kind?_c(e,i.fieldPath,e.endAt):bc(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new qu(n,r)}(s,i),c=this.hn(i,s,l),h=this.hn(i,s,u),d=this.Pn(i,s,a),f=this.In(i.indexId,o,c,l.inclusive,h,u.inclusive,d);return ol.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=Wa.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return ol.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:df($u.create(e.filters,"and")).map((t=>mc(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.Tn(t[c/l]):Ef,h=this.En(e,a,n[c%l],r),d=this.dn(e,a,i[c%l],s),f=o.map((t=>this.En(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}En(e,t,n,r){const i=new af(e,Wa.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new af(e,Wa.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new cf(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return ol.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new su(Ka.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new of;for(const r of Ya(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);Zd.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new of;return Zd.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new of;return Zd.bt.Pt(ku(this.databaseId,t),n.Ht(function(e){const t=Ya(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new of);let i=0;for(const s of Ya(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&Ru(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);Zd.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new of;n.seed(e.Wt()),Zd.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Yu&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Tf(e),r=xf(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return ol.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Xa(t.sequenceNumber,new tl(Ud(t.readTime),new Wa(Tl(t.documentKey)),t.largestBatchId)):Xa.empty(),r=e.fields.map((e=>{let[t,n]=e;return new $a(Ka.fromServerFormat(t),n)}));return new Qa(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ja(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Tf(e),i=xf(e);return this.gn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>ol.forEach(t,(t=>i.put(Wd(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return ol.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?ol.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),ol.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?ol.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Cf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Cf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Cf(e);let i=new su(lf);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new af(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new su(lf);const r=this.An(t,e);if(null==r)return n;const i=Ja(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Ru(s))for(const i of s.arrayValue.values||[])n=n.add(new af(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new af(t.indexId,e.key,Ef,r));return n}wn(e,t,n,r,i){ya("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=au(s),l=au(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=au(o)):t?(i(a),a=au(s)):(a=au(s),l=au(o))}}(r,i,lf,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),ol.waitFor(s)}gn(e){let t=1;return xf(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>lf(e,t))).filter(((e,t,n)=>!t||0!==lf(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=lf(s,e),i=lf(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Ef,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Ef,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return lf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Af)}getMinOffset(e,t){return ol.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Ea())))).next(Af)}}function If(e){return Xl(e,"collectionParents")}function Cf(e){return Xl(e,"indexEntries")}function Tf(e){return Xl(e,"indexConfiguration")}function xf(e){return Xl(e,"indexState")}function Af(e){Sa(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;nl(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new tl(t.readTime,t.documentKey,n)}const kf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Pf(e,Pf.DEFAULT_COLLECTION_PERCENTILE,Pf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Rf(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Sa(1===a)})));const u=[];for(const c of n.mutations){const e=kl(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return ol.waitFor(s).next((()=>u))}function Nf(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ea();t=e.noDocument}return JSON.stringify(t).length}Pf.DEFAULT_COLLECTION_PERCENTILE=10,Pf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pf.DEFAULT=new Pf(41943040,Pf.DEFAULT_COLLECTION_PERCENTILE,Pf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pf.DISABLED=new Pf(-1,0,0);class Df{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){Sa(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Df(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lf(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Ff(e),s=Lf(e);return s.add({}).next((o=>{Sa("number"==typeof o);const a=new Rh(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>_d(e.ct,t))),i=n.mutations.map((t=>_d(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new su(((e,t)=>ja(e.canonicalString(),t.canonicalString())));for(const e of r){const t=kl(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,Pl))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),ol.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Lf(e).get(t).next((e=>e?(Sa(e.userId===this.userId),Vd(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?ol.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Lf(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Sa(t.batchId>=n),i=Vd(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Lf(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lf(e).U("userMutationsIndex",t).next((e=>e.map((e=>Vd(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Al(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Ff(e).J({range:r},((n,r,s)=>{const[o,a,l]=n,u=Tl(a);if(o===this.userId&&t.path.isEqual(u))return Lf(e).get(l).next((e=>{if(!e)throw Ea();Sa(e.userId===this.userId),i.push(Vd(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new su(ja);const r=[];return t.forEach((t=>{const i=Al(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Ff(e).J({range:s},((e,r,i)=>{const[s,o,a]=e,l=Tl(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),ol.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Al(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new su(ja);return Ff(e).J({range:s},((e,t,i)=>{const[s,a,l]=e,u=Tl(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Lf(e).get(t).next((e=>{if(null===e)throw Ea();Sa(e.userId===this.userId),n.push(Vd(this.serializer,e))})))})),ol.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Rf(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),ol.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ol.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Ff(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Tl(e[1]);r.push(t)}else n.done()})).next((()=>{Sa(0===r.length)}))}))}containsKey(e,t){return Of(e,this.userId,t)}xn(e){return Mf(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Of(e,t,n){const r=Al(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ff(e).J({range:s,H:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Lf(e){return Xl(e,"mutations")}function Ff(e){return Xl(e,"documentMutations")}function Mf(e){return Xl(e,"mutationQueues")}class jf{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new jf(0)}static Ln(){return new jf(-1)}}class Bf{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new jf(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>za.fromTimestamp(new Va(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Uf(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(Sa(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Uf(e).J(((s,o)=>{const a=zd(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>ol.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Uf(e).J(((e,n)=>{const r=zd(n);t(r)}))}Bn(e){return Vf(e).get("targetGlobalKey").next((e=>(Sa(null!==e),e)))}kn(e,t){return Vf(e).put("targetGlobalKey",t)}qn(e,t){return Uf(e).put(Gd(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=gc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Uf(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=zd(n);vc(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=zf(e);return t.forEach((t=>{const s=Sl(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),ol.waitFor(r)}removeMatchingKeys(e,t,n){const r=zf(e);return ol.forEach(t,(t=>{const i=Sl(t.path);return ol.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=zf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zf(e);let i=Yc();return r.J({range:n,H:!0},((e,t,n)=>{const r=Tl(e[1]),s=new Wa(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Sl(t.path),r=IDBKeyRange.bound([n],[Ua(n)],!1,!0);let i=0;return zf(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return Uf(e).get(t).next((e=>e?zd(e):null))}}function Uf(e){return Xl(e,"targets")}function Vf(e){return Xl(e,"targetGlobal")}function zf(e){return Xl(e,"targetDocuments")}function Gf(e,t){let[n,r]=e,[i,s]=t;const o=ja(n,i);return 0===o?ja(r,s):o}class qf{constructor(e){this.Kn=e,this.buffer=new su(Gf),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Gf(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hf{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){ya("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){dl(e)?ya("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await sl(e)}await this.zn(3e5)}))}}class Kf{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ol.resolve(wl.oe);const n=new qf(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ya("LruGarbageCollector","Garbage collection skipped; disabled"),ol.resolve(kf)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ya("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),kf):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ya("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),va()<=hs.DEBUG&&ya("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-u,"ms")),ol.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Wf(e,t){return new Kf(e,t)}class Qf{constructor(e,t){this.db=e,this.garbageCollector=Wf(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Jf(e,n)}removeReference(e,t,n){return Jf(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Jf(e,t)}er(e,t){return function(e,t){let n=!1;return Mf(e).Y((r=>Of(e,r,t).next((e=>(e&&(n=!0),ol.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,za.min()),zf(e).delete(function(e){return[0,Sl(e.path)]}(s)))))}));r.push(t)}})).next((()=>ol.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Jf(e,t)}Xn(e,t){const n=zf(e);let r,i=wl.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==wl.oe&&t(new Wa(Tl(r)),i),i=l,r=a):i=wl.oe})).next((()=>{i!==wl.oe&&t(new Wa(Tl(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jf(e,t){return zf(e).put(function(e,t){return{targetId:0,path:Sl(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Yf{constructor(){this.changes=new Bc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ol.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $f{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return tp(e).put(n)}removeEntry(e,t,n){return tp(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],jd(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Gu.newInvalidDocument(t);return tp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(np(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Gu.newInvalidDocument(t)};return tp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(np(t))},((e,r)=>{n={document:this.nr(t,r),size:Nf(r)}})).next((()=>n))}getEntries(e,t){let n=Vc();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=Vc(),r=new nu(Wa.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Nf(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return ol.resolve();let r=new su(ip);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(np(r.first()),np(r.last())),s=r.getIterator();let o=s.getNext();return tp(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Wa.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&ip(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.$(np(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),jd(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tp(e).U(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Vc();for(const i of e){const e=this.nr(Wa.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Lc(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Vc();const s=rp(t,n),o=rp(t,tl.max());return tp(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(Wa.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Zf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return ep(e).get("remoteDocumentGlobalKey").next((e=>(Sa(!!e),e)))}tr(e,t){return ep(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=bd(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Wa.fromSegments(t.noDocument.path),r=Ud(t.noDocument.readTime);n=Gu.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ea();{const e=Wa.fromSegments(t.unknownDocument.path),r=Ud(t.unknownDocument.version);n=Gu.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Va(e[0],e[1]);return za.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(za.min()))return e}return Gu.newInvalidDocument(e)}}function Xf(e){return new $f(e)}class Zf extends Yf{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Bc((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new su(((e,t)=>ja(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Md(this.ar.serializer,s);r=r.add(i.path.popLast());const l=Nf(a);n+=l-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Md(this.ar.serializer,s.convertToNoDocument(za.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),ol.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function ep(e){return Xl(e,"remoteDocumentGlobal")}function tp(e){return Xl(e,"remoteDocumentsV14")}function np(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function rp(e,t){const n=t.documentKey.path.toArray();return[e,jd(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ip(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ja(n[s],r[s]),i)return i;return i=ja(n.length,r.length),i||(i=ja(n[n.length-2],r[r.length-2]),i||ja(n[n.length-1],r[r.length-1]))}class sp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class op{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&_h(n.mutation,e,lu.empty(),Va.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Yc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yc();const r=Hc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Gc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Hc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Yc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Vc();const s=Wc(),o=Wc();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ch)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),_h(o.mutation,t,o.mutation.getFieldMask(),Va.now())):s.set(t.key,lu.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new sp(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Wc();let r=new nu(((e,t)=>e-t)),i=Yc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||lu.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Yc()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Kc();l.forEach((e=>{if(!i.has(e)){const r=wh(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return ol.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Wa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ol.resolve(Hc());let o=-1,a=i;return s.next((t=>ol.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ol.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Yc()))).next((e=>({batchId:o,changes:qc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Wa(t)).next((e=>{let t=Gc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Gc();return this.indexManager.getCollectionParents(e,i).next((o=>ol.forEach(o,(o=>{const a=function(e,t){return new Ec(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Gu.newInvalidDocument(r)))}));let n=Gc();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&_h(s.mutation,r,lu.empty(),Va.now()),Lc(t,r)&&(n=n.insert(e,r))})),n}))}}class ap{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return ol.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ud(e.createTime)}}(t)),ol.resolve()}getNamedQuery(e,t){return ol.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:qd(e.bundledQuery),readTime:ud(e.readTime)}}(t)),ol.resolve()}}class lp{constructor(){this.overlays=new nu(Wa.comparator),this.hr=new Map}getOverlay(e,t){return ol.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Hc();return ol.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),ol.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),ol.resolve()}getOverlaysForCollection(e,t,n){const r=Hc(),i=t.length+1,s=new Wa(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ol.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new nu(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Hc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Hc(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return ol.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Dh(t,n));let i=this.hr.get(t);void 0===i&&(i=Yc(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class up{constructor(){this.Pr=new su(cp.Ir),this.Tr=new su(cp.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new cp(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new cp(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Wa(new qa([])),n=new cp(t,e),r=new cp(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Wa(new qa([])),n=new cp(t,e),r=new cp(t,e+1);let i=Yc();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new cp(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class cp{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Wa.comparator(e.key,t.key)||ja(e.pr,t.pr)}static Er(e,t){return ja(e.pr,t.pr)||Wa.comparator(e.key,t.key)}}class hp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new su(cp.Ir)}checkEmpty(e){return ol.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Rh(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new cp(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ol.resolve(s)}lookupMutationBatch(e,t){return ol.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return ol.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ol.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ol.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new cp(t,0),r=new cp(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),ol.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new su(ja);return t.forEach((e=>{const t=new cp(e,0),r=new cp(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),ol.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Wa.isDocumentKey(i)||(i=i.child(""));const s=new cp(new Wa(i),0);let o=new su(ja);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),ol.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Sa(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return ol.forEach(t.mutations,(r=>{const i=new cp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new cp(t,0),r=this.wr.firstAfterOrEqual(n);return ol.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ol.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dp{constructor(e){this.vr=e,this.docs=new nu(Wa.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ol.resolve(n?n.document.mutableCopy():Gu.newInvalidDocument(t))}getEntries(e,t){let n=Vc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Gu.newInvalidDocument(e))})),ol.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Vc();const s=t.path,o=new Wa(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||nl(el(o),n)<=0||(r.has(o.key)||Lc(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ol.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ea()}Fr(e,t){return ol.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new fp(this)}getSize(e){return ol.resolve(this.size)}}class fp extends Yf{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),ol.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class pp{constructor(e){this.persistence=e,this.Mr=new Bc((e=>gc(e)),vc),this.lastRemoteSnapshotVersion=za.min(),this.highestTargetId=0,this.Or=0,this.Nr=new up,this.targetCount=0,this.Lr=jf.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),ol.resolve()}getLastRemoteSnapshotVersion(e){return ol.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ol.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ol.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),ol.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new jf(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,ol.resolve()}updateTargetData(e,t){return this.qn(t),ol.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,ol.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),ol.waitFor(i).next((()=>r))}getTargetCount(e){return ol.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return ol.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),ol.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ol.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),ol.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return ol.resolve(n)}containsKey(e,t){return ol.resolve(this.Nr.containsKey(t))}}class mp{constructor(e,t){this.Br={},this.overlays={},this.kr=new wl(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new pp(this),this.indexManager=new bf,this.remoteDocumentCache=function(e){return new dp(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Fd(t),this.$r=new ap(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new hp(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){ya("MemoryPersistence","Starting transaction:",e);const r=new gp(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return ol.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class gp extends il{constructor(e){super(),this.currentSequenceNumber=e}}class vp{constructor(e){this.persistence=e,this.zr=new up,this.jr=null}static Hr(e){return new vp(e)}get Jr(){if(this.jr)return this.jr;throw Ea()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),ol.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),ol.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),ol.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ol.forEach(this.Jr,(n=>{const r=Wa.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,za.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return ol.or([()=>ol.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class yp{constructor(e){this.serializer=e}O(e,t,n,r){const i=new al("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xl,{unique:!0}),e.createObjectStore("documentMutations")}(e),wp(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=ol.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),wp(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:za.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xl,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return ol.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:zl});t.createIndex("collectionPathOverlayIndex",Gl,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ql,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Rl});t.createIndex("documentKeyIndex",Nl),t.createIndex("collectionGroupIndex",Dl)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:jl}).createIndex("sequenceNumberIndex",Bl,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ul}).createIndex("documentKeyIndex",Vl,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),s}ei(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Nf(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>ol.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>ol.forEach(n,(n=>{Sa(n.userId===t.userId);const r=Vd(this.serializer,n);return Rf(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const s=new qa(n),o=function(e){return[0,Sl(e)]}(s);r.push(t.get(o).next((n=>n?ol.resolve():(n=>t.put({targetId:0,path:Sl(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>ol.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Ml});const n=t.store("collectionParents"),r=new _f,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Sl(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new qa(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,s]=e;const o=Tl(r);return i(o.popLast())}))))}ri(e){const t=e.store("targets");return t.J(((e,n)=>{const r=zd(n),i=Gd(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Wa(qa.fromString(e.document.name).popFirst(5)):e.noDocument?Wa.fromSegments(e.noDocument.path):e.unknownDocument?Wa.fromSegments(e.unknownDocument.path):Ea()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>ol.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Xf(this.serializer),i=new mp(vp.Hr,this.serializer.ct);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Yc();Vd(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),ol.forEach(n,((e,n)=>{const s=new pa(n),o=$d.lt(this.serializer,s),a=i.getIndexManager(s),l=Df.lt(s,this.serializer,a,i.referenceDelegate);return new op(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new $l(t,wl.oe),e).next()}))}))}}function wp(e){e.createObjectStore("targetDocuments",{keyPath:Ll}).createIndex("documentTargetsIndex",Fl,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ol,{unique:!0}),e.createObjectStore("targetGlobal")}const bp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _p{constructor(e,t,n,r,i,s,o,a,l,u){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=l,this.ai=u,this.ui=c,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!_p.D())throw new Ta(Ca.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qf(this,r),this.Ti=t+"main",this.serializer=new Fd(a),this.Ei=new ll(this.Ti,this.ui,new yp(this.serializer)),this.Qr=new Bf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Xf(this.serializer),this.$r=new Qd,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===u&&wa("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ta(Ca.FAILED_PRECONDITION,bp);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new wl(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Sp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(dl(e))return ya("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ya("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Ep(e).get("owner").next((e=>ol.resolve(this.Si(e))))}bi(e){return Sp(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Xl(e,"clientMetadata");return t.U().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return ol.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ol.resolve(!0):Ep(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Ta(Ca.FAILED_PRECONDITION,bp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sp(e).U().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&ya("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new $l(e,wl.oe);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Sp(e).U().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Df.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Sf(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return $d.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){ya("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?Yl:15===e?Jl:14===e?Ql:13===e?Wl:12===e?Kl:11===e?Hl:void Ea()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new $l(r,this.kr?this.kr.next():wl.oe),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw wa("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new Ta(Ca.FAILED_PRECONDITION,rl);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return Ep(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ta(Ca.FAILED_PRECONDITION,bp)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ep(e).put("owner",t)}static D(){return ll.D()}yi(e){const t=Ep(e);return t.get("owner").next((e=>this.Si(e)?(ya("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ol.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(wa("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;qi()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return ya("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return wa("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(vS){wa("Failed to set zombie client id.",vS)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(vS){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Ep(e){return Xl(e,"owner")}function Sp(e){return Xl(e,"clientMetadata")}function Ip(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Cp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Yc(),r=Yc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Cp(e,t.fromCache,n,r)}}class Tp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xp{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=qi()?8:ul(zi())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Tp;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(va()<=hs.DEBUG&&ya("QueryEngine","SDK will not create cache indexes for query:",Oc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ol.resolve()):(va()<=hs.DEBUG&&ya("QueryEngine","Query:",Oc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(va()<=hs.DEBUG&&ya("QueryEngine","The SDK decides to create cache indexes for query:",Oc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ac(t))):ol.resolve())}ji(e,t){if(Cc(t))return ol.resolve(null);let n=Ac(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Rc(t,null,"F"),n=Ac(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Yc(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Rc(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Cc(t)||r.isEqual(za.min())?ol.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?ol.resolve(null):(va()<=hs.DEBUG&&ya("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Oc(t)),this.es(e,s,t,Za(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new su(Mc(e));return t.forEach(((t,r)=>{Lc(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return va()<=hs.DEBUG&&ya("QueryEngine","Using full collection scan to execute query:",Oc(t)),this.zi.getDocumentsMatchingQuery(e,t,tl.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ap{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new nu(ja),this.rs=new Bc((e=>gc(e)),vc),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new op(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function kp(e,t,n,r){return new Ap(e,t,n,r)}async function Pp(e,t){const n=Ia(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Yc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Rp(e){const t=Ia(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Np(e,t,n){let r=Yc(),i=Yc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Vc();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(za.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ya("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Dp(e,t){const n=Ia(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Op(e,t){const n=Ia(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,ol.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Ld(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Lp(e,t,n){const r=Ia(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!dl(e))throw e;ya("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Fp(e,t,n){const r=Ia(e);let i=za.min(),s=Yc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ia(e),i=r.rs.get(n);return void 0!==i?ol.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Ac(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:za.min(),n?s:Yc()))).next((e=>(Bp(r,Fc(t),e),{documents:e,hs:s})))))}function Mp(e,t){const n=Ia(e),r=Ia(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function jp(e,t){const n=Ia(e),r=n.ss.get(t)||za.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Za(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Bp(n,t,e),e)))}function Bp(e,t,n){let r=e.ss.get(t)||za.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Up(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yc();const r=await Op(e,Ac(qd(t.bundledQuery))),i=Ia(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=ud(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(cu.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Vp(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function zp(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Gp(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class qp{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Ta(r.error.code,r.error.message))),s?new qp(e,t,r.state,i):(wa("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hp{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Ta(n.error.code,n.error.message))),i?new Hp(e,n.state,r):(wa("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Xc();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=El(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Kp(e,i):(wa("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Wp{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Wp(t.clientId,t.onlineState):(wa("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Qp{constructor(){this.activeTargetIds=Xc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jp{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new nu(ja),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Vp(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Qp),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Vp(this.persistenceKey,n));if(e){const t=Kp.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Gp(this.persistenceKey,e));if(n){const r=Hp.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Gp(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ya("SharedClientState","READ",e,t),t}setItem(e,t){ya("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ya("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(ya("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void wa("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=wl.oe;if(null!=e)try{const n=JSON.parse(e);Sa("number"==typeof n),t=n}catch(e){wa("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==wl.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new qp(this.currentUser,e,t,n),i=zp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=zp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Gp(this.persistenceKey,e),i=new Hp(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Kp.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return qp.Es(new pa(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Hp.Es(r,t)}xs(e){return Wp.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);ya("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Xc();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Yp{constructor(){this.no=new Qp,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Qp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $p{io(e){}shutdown(){}}class Xp{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ya("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ya("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zp=null;function em(){return null===Zp?Zp=268435456+Math.round(2147483648*Math.random()):Zp++,"0x"+Zp.toString(16)}const tm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nm{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const rm="WebChannelConnection";class im extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So="projects/".concat(n,"/databases/").concat(r),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Do(){return!1}Co(e,t,n,r,i){const s=em(),o=this.vo(e,t.toUriEncodedString());ya("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(e,o,a,n).then((t=>(ya("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw ba("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}xo(e,t,n,r,i,s){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ma,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=tm[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=em();return new Promise(((s,o)=>{const a=new na;a.setWithCredentials(!0),a.listenOnce(sa.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case oa.NO_ERROR:const t=a.getResponseJson();ya(rm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case oa.TIMEOUT:ya(rm,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Ta(Ca.DEADLINE_EXCEEDED,"Request time out"));break;case oa.HTTP_ERROR:const n=a.getStatus();if(ya(rm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ca).indexOf(t)>=0?t:Ca.UNKNOWN}(t.status);o(new Ta(e,t.message))}else o(new Ta(Ca.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ta(Ca.UNAVAILABLE,"Connection failed."));break;default:Ea()}}finally{ya(rm,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ya(rm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Oo(e,t,n){const r=em(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ca(),o=ua(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new ra({})),this.Fo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");ya(rm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new nm({lo:t=>{d?ya(rm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ya(rm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),ya(rm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ho:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,ia.EventType.OPEN,(()=>{d||(ya(rm,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.mo())})),p(c,ia.EventType.CLOSE,(()=>{d||(d=!0,ya(rm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.po())})),p(c,ia.EventType.ERROR,(t=>{d||(d=!0,ba(rm,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.po(new Ta(Ca.UNAVAILABLE,"The operation could not be completed")))})),p(c,ia.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Sa(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){ya(rm,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Lh[e];if(void 0!==t)return jh(t)}(t),i=o.message;void 0===n&&(n=Ca.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.po(new Ta(n,i)),c.close()}else ya(rm,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.yo(i)}})),p(o,la.STAT_EVENT,(t=>{t.stat===aa.PROXY?ya(rm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===aa.NOPROXY&&ya(rm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function sm(){return"undefined"!=typeof window?window:null}function om(){return"undefined"!=typeof document?document:null}function am(e){return new id(e,!0)}class lm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&ya("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class um{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new lm(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===Ca.RESOURCE_EXHAUSTED?(wa(t.toString()),wa("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===Ca.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.jo===t&&this.u_(n,r)}),(t=>{e((()=>{const e=new Ta(Ca.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return ya("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(ya("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cm extends um{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ea()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Sa(void 0===t||"string"==typeof t),cu.fromBase64String(t||"")):(Sa(void 0===t||t instanceof Buffer||t instanceof Uint8Array),cu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ca.UNKNOWN:jh(e.code);return new Ta(t,e.message||"")}(o);n=new Yh(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=pd(e,r.document.name),s=ud(r.document.updateTime),o=r.document.createTime?ud(r.document.createTime):za.min(),a=new Vu({mapValue:{fields:r.document.fields}}),l=Gu.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Qh(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=pd(e,r.document),s=r.readTime?ud(r.readTime):za.min(),o=Gu.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qh([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=pd(e,r.document),s=r.removedTargetIds||[];n=new Qh([],s,i,null)}else{if(!("filter"in t))return Ea();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Oh(r,i),o=e.targetId;n=new Jh(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return za.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?za.min():t.readTime?ud(t.readTime):za.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=vd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=yc(r)?{documents:Sd(e,r)}:{query:Id(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ad(e,t.resumeToken);const r=sd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(za.min())>0){n.readTime=od(e,t.snapshotVersion.toTimestamp());const r=sd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ea()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=vd(this.serializer),t.removeTarget=e,this.i_(t)}}class hm extends um{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(Sa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(Sa(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ud(e.updateTime):ud(t);return n.isEqual(za.min())&&(n=ud(t)),new mh(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ud(e.commitTime);return this.listener.A_(n,t)}return Sa(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=vd(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>_d(this.serializer,e)))};this.i_(t)}}class dm extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Ta(Ca.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,hd(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ca.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ta(Ca.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.xo(e,hd(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ca.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ta(Ca.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class fm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(wa(t),this.y_=!1):ya("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class pm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{Sm(this)&&(ya("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ia(e);t.M_.add(4),await gm(t),t.N_.set("Unknown"),t.M_.delete(4),await mm(t)}(this))}))})),this.N_=new fm(n,r)}}async function mm(e){if(Sm(e))for(const t of e.x_)await t(!0)}async function gm(e){for(const t of e.x_)await t(!1)}function vm(e,t){const n=Ia(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Em(n)?_m(n):zm(n).Xo()&&wm(n,t))}function ym(e,t){const n=Ia(e),r=zm(n);n.F_.delete(t),r.Xo()&&bm(n,t),0===n.F_.size&&(r.Xo()?r.n_():Sm(n)&&n.N_.set("Unknown"))}function wm(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(za.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zm(e).P_(t)}function bm(e,t){e.L_.xe(t),zm(e).I_(t)}function _m(e){e.L_=new Xh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),zm(e).start(),e.N_.w_()}function Em(e){return Sm(e)&&!zm(e).Zo()&&e.F_.size>0}function Sm(e){return 0===Ia(e).M_.size}function Im(e){e.L_=void 0}async function Cm(e){e.N_.set("Online")}async function Tm(e){e.F_.forEach(((t,n)=>{wm(e,t)}))}async function xm(e,t){Im(e),Em(e)?(e.N_.D_(t),_m(e)):e.N_.set("Unknown")}async function Am(e,t,n){if(e.N_.set("Online"),t instanceof Yh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){ya("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await km(e,n)}else if(t instanceof Qh?e.L_.Ke(t):t instanceof Jh?e.L_.He(t):e.L_.We(t),!n.isEqual(za.min()))try{const t=await Rp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(cu.EMPTY_BYTE_STRING,r.snapshotVersion)),bm(e,t);const i=new Ld(r.target,t,n,r.sequenceNumber);wm(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ya("RemoteStore","Failed to raise snapshot:",t),await km(e,t)}}async function km(e,t,n){if(!dl(t))throw t;e.M_.add(1),await gm(e),e.N_.set("Offline"),n||(n=()=>Rp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ya("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await mm(e)}))}function Pm(e,t){return t().catch((n=>km(e,n,t)))}async function Rm(e){const t=Ia(e),n=Gm(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Nm(t);)try{const e=await Dp(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,Dm(t,e)}catch(e){await km(t,e)}Om(t)&&Lm(t)}function Nm(e){return Sm(e)&&e.v_.length<10}function Dm(e,t){e.v_.push(t);const n=Gm(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function Om(e){return Sm(e)&&!Gm(e).Zo()&&e.v_.length>0}function Lm(e){Gm(e).start()}async function Fm(e){Gm(e).V_()}async function Mm(e){const t=Gm(e);for(const n of e.v_)t.d_(n.mutations)}async function jm(e,t,n){const r=e.v_.shift(),i=Nh.from(r,t,n);await Pm(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Rm(e)}async function Bm(e,t){t&&Gm(e).E_&&await async function(e,t){if(function(e){return Mh(e)&&e!==Ca.ABORTED}(t.code)){const n=e.v_.shift();Gm(e).t_(),await Pm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Rm(e)}}(e,t),Om(e)&&Lm(e)}async function Um(e,t){const n=Ia(e);n.asyncQueue.verifyOperationInProgress(),ya("RemoteStore","RemoteStore received new credentials");const r=Sm(n);n.M_.add(3),await gm(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await mm(n)}async function Vm(e,t){const n=Ia(e);t?(n.M_.delete(2),await mm(n)):t||(n.M_.add(2),await gm(n),n.N_.set("Unknown"))}function zm(e){return e.B_||(e.B_=function(e,t,n){const r=Ia(e);return r.f_(),new cm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Cm.bind(null,e),To:Tm.bind(null,e),Ao:xm.bind(null,e),h_:Am.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),Em(e)?_m(e):e.N_.set("Unknown")):(await e.B_.stop(),Im(e))}))),e.B_}function Gm(e){return e.k_||(e.k_=function(e,t,n){const r=Ia(e);return r.f_(),new hm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:Fm.bind(null,e),Ao:Bm.bind(null,e),R_:Mm.bind(null,e),A_:jm.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await Rm(e)):(await e.k_.stop(),e.v_.length>0&&(ya("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class qm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new qm(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ta(Ca.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(e,t){if(wa("AsyncQueue","".concat(t,": ").concat(e)),dl(e))return new Ta(Ca.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Km{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Wa.comparator(t.key,n.key):(e,t)=>Wa.comparator(e.key,t.key),this.keyedMap=Gc(),this.sortedSet=new nu(this.comparator)}static emptySet(e){return new Km(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Km))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Km;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wm{constructor(){this.q_=new nu(Wa.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Ea():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Qm{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Qm(e,t,Km.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Jm{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class Ym{constructor(){this.queries=new Bc((e=>Dc(e)),Nc),this.onlineState="Unknown",this.z_=new Set}}async function $m(e,t){const n=Ia(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new Jm,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Hm(e,"Initialization of query '".concat(Oc(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&tg(n)}async function Xm(e,t){const n=Ia(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Zm(e,t){const n=Ia(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&tg(n)}function eg(e,t,n){const r=Ia(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function tg(e){e.z_.forEach((e=>{e.next()}))}var ng,rg;(rg=ng||(ng={})).J_="default",rg.Cache="cache";class ig{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Qm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=Qm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ng.Cache}}class sg{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class og{constructor(e){this.serializer=e}Ps(e){return pd(this.serializer,e)}Is(e){return e.metadata.exists?bd(this.serializer,e.document,!1):Gu.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ud(e)}}class ag{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lg(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=qa.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new og(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Yc()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Ia(e);let s=Yc(),o=Vc();for(const u of n){const e=t.Ps(u.metadata.name);u.document&&(s=s.add(e));const n=t.Is(u);n.setReadTime(t.Ts(u.metadata.readTime)),o=o.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await Op(i,function(e){return Ac(Ic(qa.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Np(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new og(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const n of this.queries)await Up(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function lg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ug{constructor(e){this.key=e}}class cg{constructor(e){this.key=e}}class hg{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Yc(),this.mutatedKeys=Yc(),this.Ia=Mc(e),this.Ta=new Km(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new Wm,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Lc(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Ra(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Ia(c,a)>0||l&&this.Ia(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Xi:o,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ea()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const o=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==s.length||l?{snapshot:new Qm(this.query,e.Ta,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Wm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Yc(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new cg(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new ug(n))})),t}pa(e){this.la=e.hs,this.Pa=Yc();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Qm.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class dg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class fg{constructor(e){this.key=e,this.wa=!1}}class pg{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Bc((e=>Dc(e)),Nc),this.Da=new Map,this.Ca=new Set,this.va=new nu(Wa.comparator),this.Fa=new Map,this.Ma=new up,this.xa={},this.Oa=new Map,this.Na=jf.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function mg(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=qg(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await vg(r,t,n,!0),i}async function gg(e,t){const n=qg(e);await vg(n,t,!0,!1)}async function vg(e,t,n,r){const i=await Op(e.localStore,Ac(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await yg(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&vm(e.remoteStore,i),a}async function yg(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await Fp(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Pg(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const s=await Fp(e.localStore,t,!0),o=new hg(t,s.hs),a=o.da(s.documents),l=Wh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);Pg(e,n,u.fa);const c=new dg(t,n,o);return e.ba.set(t,c),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),u.snapshot}async function wg(e,t,n){const r=Ia(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!Nc(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Lp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ym(r.remoteStore,i.targetId),Ag(r,i.targetId)})).catch(sl)):(Ag(r,i.targetId),await Lp(r.localStore,i.targetId,!0))}async function bg(e,t){const n=Ia(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ym(n.remoteStore,r.targetId))}async function _g(e,t){const n=Ia(e);try{const e=await function(e,t){const n=Ia(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(cu.EMPTY_BYTE_STRING,za.min()).withLastLimboFreeSnapshotVersion(za.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Qr.updateTargetData(e,u))}));let a=Vc(),l=Yc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Np(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(za.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return ol.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(Sa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?Sa(r.wa):e.removedDocuments.size>0&&(Sa(r.wa),r.wa=!1))})),await Dg(n,e,t)}catch(e){await sl(e)}}function Eg(e,t,n){const r=Ia(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ia(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&tg(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Sg(e,t,n){const r=Ia(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new nu(Wa.comparator);e=e.insert(s,Gu.newNoDocument(s,za.min()));const n=Yc().add(s),i=new Kh(za.min(),new Map,new nu(ja),e,n);await _g(r,i),r.va=r.va.remove(s),r.Fa.delete(t),Ng(r)}else await Lp(r.localStore,t,!1).then((()=>Ag(r,t,n))).catch(sl)}async function Ig(e,t){const n=Ia(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ia(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=ol.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Sa(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Yc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);xg(n,r,null),Tg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dg(n,e)}catch(e){await sl(e)}}async function Cg(e,t,n){const r=Ia(e);try{const e=await function(e,t){const n=Ia(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Sa(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);xg(r,t,n),Tg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Dg(r,e)}catch(n){await sl(n)}}function Tg(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function xg(e,t,n){const r=Ia(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Ag(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||kg(e,t)}))}function kg(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(ym(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),Ng(e))}function Pg(e,t,n){for(const r of n)r instanceof ug?(e.Ma.addReference(r.key,t),Rg(e,r)):r instanceof cg?(ya("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||kg(e,r.key)):Ea()}function Rg(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(ya("SyncEngine","New document in limbo: "+n),e.Ca.add(r),Ng(e))}function Ng(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new Wa(qa.fromString(t)),r=e.Na.next();e.Fa.set(r,new fg(n)),e.va=e.va.insert(n,r),vm(e.remoteStore,new Ld(Ac(Ic(n.path)),r,"TargetPurposeLimboResolution",wl.oe))}}async function Dg(e,t,n){const r=Ia(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{o.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){const t=e&&!e.fromCache;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}if(e){i.push(e);const t=Cp.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Sa.h_(i),await async function(e,t){const n=Ia(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ol.forEach(t,(t=>ol.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ol.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!dl(e))throw e;ya("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function Og(e,t){const n=Ia(e);if(!n.currentUser.isEqual(t)){ya("SyncEngine","User change. New user:",t.toKey());const e=await Pp(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new Ta(Ca.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Dg(n,e.us)}}function Lg(e,t){const n=Ia(e),r=n.Fa.get(t);if(r&&r.wa)return Yc().add(r.key);{let e=Yc();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}async function Fg(e,t){const n=Ia(e),r=await Fp(n.localStore,t.query,!0),i=t.view.pa(r);return n.isPrimaryClient&&Pg(n,t.targetId,i.fa),i}async function Mg(e,t){const n=Ia(e);return jp(n.localStore,t).then((e=>Dg(n,e)))}async function jg(e,t,n,r){const i=Ia(e),s=await function(e,t){const n=Ia(e),r=Ia(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):ol.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Rm(i.remoteStore):"acknowledged"===n||"rejected"===n?(xg(i,t,r||null),Tg(i,t),function(e,t){Ia(Ia(e).mutationQueue).Mn(t)}(i.localStore,t)):Ea(),await Dg(i,s)):ya("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Bg(e,t,n){const r=Ia(e),i=[],s=[];for(const o of t){let e;const t=r.Da.get(o);if(t&&0!==t.length){e=await Op(r.localStore,Ac(t[0]));for(const e of t){const t=r.ba.get(e),n=await Fg(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Mp(r.localStore,o);e=await Op(r.localStore,t),await yg(r,Ug(t),o,!1,e.resumeToken)}i.push(e)}return r.Sa.h_(s),i}function Ug(e){return Sc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Vg(e){return function(e){return Ia(Ia(e).persistence).Bi()}(Ia(e).localStore)}async function zg(e,t,n,r){const i=Ia(e);if(i.La)return void ya("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await jp(i.localStore,Fc(s[0])),r=Kh.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,cu.EMPTY_BYTE_STRING);await Dg(i,e,r);break}case"rejected":await Lp(i.localStore,t,!0),Ag(i,t,r);break;default:Ea()}}async function Gg(e,t,n){const r=qg(e);if(r.La){for(const e of t){if(r.Da.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){ya("SyncEngine","Adding an already active target "+e);continue}const t=await Mp(r.localStore,e),n=await Op(r.localStore,t);await yg(r,Ug(t),n.targetId,!1,n.resumeToken),vm(r.remoteStore,n)}for(const e of n)r.Da.has(e)&&await Lp(r.localStore,e,!1).then((()=>{ym(r.remoteStore,e),Ag(r,e)})).catch(sl)}}function qg(e){const t=Ia(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_g.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sg.bind(null,t),t.Sa.h_=Zm.bind(null,t.eventManager),t.Sa.ka=eg.bind(null,t.eventManager),t}function Hg(e){const t=Ia(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ig.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cg.bind(null,t),t}class Kg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return kp(this.persistence,new xp,e.initialUser,this.serializer)}createPersistence(e){return new mp(vp.Hr,this.serializer)}createSharedClientState(e){return new Yp}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Wg extends Kg{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await Hg(this.Qa.syncEngine),await Rm(this.Qa.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return kp(this.persistence,new xp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Hf(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new yl(t,this.persistence);return new vl(e.asyncQueue,n)}createPersistence(e){const t=Ip(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Pf.withCacheSize(this.cacheSizeBytes):Pf.DEFAULT;return new _p(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,sm(),om(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Yp}}class Qg extends Wg{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof Jp&&(this.sharedClientState.syncEngine={Zs:jg.bind(null,t),Xs:zg.bind(null,t),eo:Gg.bind(null,t),Bi:Vg.bind(null,t),Ys:Mg.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=Ia(e);if(qg(n),Hg(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Bg(n,e.toArray());n.La=!0,await Vm(n.remoteStore,!0);for(const r of t)vm(n.remoteStore,r)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Ag(n,i),Lp(n.localStore,i,!0)))),ym(n.remoteStore,i)})),await t,await Bg(n,e),function(e){const t=Ia(e);t.Fa.forEach(((e,n)=>{ym(t.remoteStore,n)})),t.Ma.mr(),t.Fa=new Map,t.va=new nu(Wa.comparator)}(n),n.La=!1,await Vm(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=sm();if(!Jp.D(t))throw new Ta(Ca.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Ip(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Jg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Eg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Og.bind(null,this.syncEngine),await Vm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ym}createDatastore(e){const t=am(e.databaseInfo.databaseId),n=function(e){return new im(e)}(e.databaseInfo);return function(e,t,n,r){return new dm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new pm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Eg(this.syncEngine,e,0)),Xp.D()?new Xp:new $p)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new pg(e,t,n,r,i,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Ia(e);ya("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await gm(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function Yg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class $g{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):wa("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Xg{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new xa,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ia))))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja("length string (".concat(t,") is not valid number"));const r=await this.Ha(n);return new sg(JSON.parse(r),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Zg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ta(Ca.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Ia(e),r={documents:t.map((e=>fd(n.serializer,e)))},i=await n.xo("BatchGetDocuments",n.serializer.databaseId,qa.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Sa(!!t.found),t.found.name,t.found.updateTime;const n=pd(e,t.found.name),r=ud(t.found.updateTime),i=t.found.createTime?ud(t.found.createTime):za.min(),s=new Vu({mapValue:{fields:t.found.fields}});return Gu.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Sa(!!t.missing),Sa(!!t.readTime);const n=pd(e,t.missing),r=ud(t.readTime);return Gu.newNoDocument(n,r)}(e,t):Ea()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());Sa(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new kh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Wa.fromPath(t);this.mutations.push(new Ph(n,this.precondition(n)))})),await async function(e,t){const n=Ia(e),r={writes:t.map((e=>_d(n.serializer,e)))};await n.Co("Commit",n.serializer.databaseId,qa.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ea();t=za.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ta(Ca.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(za.min())?gh.exists(!1):gh.updateTime(t):gh.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(za.min()))throw new Ta(Ca.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gh.updateTime(t)}return gh.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ev{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Za=n.maxAttempts,this.Yo=new lm(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o((async()=>{const e=new Zg(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!bl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Mh(t)}return!1}}class tv{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=pa.UNAUTHENTICATED,this.clientId=Ma.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ya("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ya("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ta(Ca.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Hm(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function nv(e,t){e.asyncQueue.verifyOperationInProgress(),ya("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Pp(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function rv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await sv(e);ya("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Um(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Um(t.remoteStore,n))),e._onlineComponents=t}function iv(e){return"FirebaseError"===e.name?e.code===Ca.FAILED_PRECONDITION||e.code===Ca.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function sv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ya("FirestoreClient","Using user provided OfflineComponentProvider");try{await nv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!iv(n))throw n;ba("Error using user provided cache. Falling back to memory cache: "+n),await nv(e,new Kg)}}else ya("FirestoreClient","Using default OfflineComponentProvider"),await nv(e,new Kg);return e._offlineComponents}async function ov(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ya("FirestoreClient","Using user provided OnlineComponentProvider"),await rv(e,e._uninitializedComponentsProvider._online)):(ya("FirestoreClient","Using default OnlineComponentProvider"),await rv(e,new Jg))),e._onlineComponents}function av(e){return sv(e).then((e=>e.persistence))}function lv(e){return sv(e).then((e=>e.localStore))}function uv(e){return ov(e).then((e=>e.remoteStore))}function cv(e){return ov(e).then((e=>e.syncEngine))}function hv(e){return ov(e).then((e=>e.datastore))}async function dv(e){const t=await ov(e),n=t.eventManager;return n.onListen=mg.bind(null,t.syncEngine),n.onUnlisten=wg.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=gg.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bg.bind(null,t.syncEngine),n}function fv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new $g({next:s=>{t.enqueueAndForget((()=>Xm(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ta(Ca.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ta(Ca.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new ig(Ic(n.path),s,{includeMetadataChanges:!0,ra:!0});return $m(e,o)}(await dv(e),e.asyncQueue,t,n,r))),r.promise}function pv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new $g({next:n=>{t.enqueueAndForget((()=>Xm(e,o))),n.fromCache&&"server"===r.source?i.reject(new Ta(Ca.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new ig(n,s,{includeMetadataChanges:!0,ra:!0});return $m(e,o)}(await dv(e),e.asyncQueue,t,n,r))),r.promise}function mv(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Uh().encode(e):e,function(e,t){return new Xg(e,t)}(function(e,t){if(e instanceof Uint8Array)return Yg(e,t);if(e instanceof ArrayBuffer)return Yg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,am(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Ia(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Ia(e),r=ud(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(lg(r));const i=new ag(r,e.localStore,t.serializer);let s=await t.qa();for(;s;){const e=await i._a(s);e&&n._updateProgress(e),s=await t.qa()}const o=await i.complete();return await Dg(e,o.ca,void 0),await function(e,t){const n=Ia(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.ua)}catch(e){return ba("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await cv(e),i,r)}))}function gv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const vv=new Map;function yv(e,t,n){if(!n)throw new Ta(Ca.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function wv(e,t,n,r){if(!0===t&&!0===r)throw new Ta(Ca.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function bv(e){if(!Wa.isDocumentKey(e))throw new Ta(Ca.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _v(e){if(Wa.isDocumentKey(e))throw new Ta(Ca.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ev(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ea()}function Sv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ta(Ca.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ev(e);throw new Ta(Ca.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Iv(e,t){if(t<=0)throw new Ta(Ca.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Cv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ta(Ca.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ta(Ca.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ta(Ca.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ta(Ca.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ta(Ca.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ta(Ca.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ta(Ca.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ka;switch(e.type){case"firstParty":return new Da(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ta(Ca.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vv.get(e);t&&(ya("ComponentProvider","Removing Datastore"),vv.delete(e),t.terminate())}(this),Promise.resolve()}}function xv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Sv(e,Tv))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=pa.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Di(JSON.stringify({alg:"none",type:"JWT"})),Di(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ta(Ca.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new pa(s)}e._authCredentials=new Pa(new Aa(t,n))}}class Av{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Av(this.firestore,e,this._query)}}class kv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kv(this.firestore,e,this._key)}}class Pv extends Av{constructor(e,t,n){super(e,t,Ic(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kv(this.firestore,null,new Wa(e))}withConverter(e){return new Pv(this.firestore,e,this._path)}}function Rv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=is(e),yv("collection","path",t),e instanceof Tv){const n=qa.fromString(t,...r);return _v(n),new Pv(e,null,n)}{if(!(e instanceof kv||e instanceof Pv))throw new Ta(Ca.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qa.fromString(t,...r));return _v(n),new Pv(e.firestore,null,n)}}function Nv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=is(e),1===arguments.length&&(t=Ma.newId()),yv("doc","path",t),e instanceof Tv){const n=qa.fromString(t,...r);return bv(n),new kv(e,null,new Wa(n))}{if(!(e instanceof kv||e instanceof Pv))throw new Ta(Ca.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qa.fromString(t,...r));return bv(n),new kv(e.firestore,e instanceof Pv?e.converter:null,new Wa(n))}}function Dv(e,t){return e=is(e),t=is(t),(e instanceof kv||e instanceof Pv)&&(t instanceof kv||t instanceof Pv)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ov(e,t){return e=is(e),t=is(t),e instanceof Av&&t instanceof Av&&e.firestore===t.firestore&&Nc(e._query,t._query)&&e.converter===t.converter}class Lv{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new lm(this,"async_queue_retry"),this.hu=()=>{const e=om();e&&ya("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=om();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=om();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new xa;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(vS){if(!dl(vS))throw vS;ya("AsyncQueue","Operation failed with retryable error: "+vS)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw wa("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=qm.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&Ea()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function Fv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Mv{constructor(){this._progressObserver={},this._taskCompletionResolver=new xa,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class jv extends Tv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Lv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Uv(this),this._firestoreClient.terminate()}}function Bv(e){return e._firestoreClient||Uv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Uv(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new yu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,gv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new tv(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Vv(e,t,n){const r=new xa;return e.asyncQueue.enqueue((async()=>{try{await nv(e,n),await rv(e,t),r.resolve()}catch(e){const n=e;if(!iv(n))throw n;ba("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function zv(e){return function(e){const t=new xa;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Ia(e);Sm(n.remoteStore)||ya("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ia(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Oa.get(e)||[];r.push(t),n.Oa.set(e,r)}catch(e){const n=Hm(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await cv(e),t))),t.promise}(Bv(e=Sv(e,jv)))}function Gv(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await av(e),n=await uv(e);return t.setNetworkEnabled(!0),function(e){const t=Ia(e);return t.M_.delete(0),mm(t)}(n)}))}(Bv(e=Sv(e,jv)))}function qv(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await av(e),n=await uv(e);return t.setNetworkEnabled(!1),async function(e){const t=Ia(e);t.M_.add(0),await gm(t),t.N_.set("Offline")}(n)}))}(Bv(e=Sv(e,jv)))}function Hv(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Ia(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await lv(e),t)))}(Bv(e=Sv(e,jv)),t).then((t=>t?new Av(e,null,t.query):null))}function Kv(e){if(e._initialized||e._terminated)throw new Ta(Ca.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wv(cu.fromBase64String(e))}catch(e){throw new Ta(Ca.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Wv(cu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ta(Ca.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ka(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jv{constructor(e){this._methodName=e}}class Yv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ta(Ca.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ta(Ca.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ja(this._lat,e._lat)||ja(this._long,e._long)}}const $v=/^__.*__$/;class Xv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ch(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ih(e,this.data,t,this.fieldTransforms)}}class Zv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ch(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ey(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ea()}}class ty{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return _y(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(ey(this.fu)&&$v.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class ny{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||am(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ty({fu:e,methodName:t,vu:n,path:Ka.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ry(e){const t=e._freezeSettings(),n=am(e._databaseId);return new ny(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iy(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);vy("Data must be an object, but it was:",o,r);const a=my(r,o);let l,u;if(s.merge)l=new lu(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=yy(t,r,n);if(!o.contains(i))throw new Ta(Ca.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ey(e,i)||e.push(i)}l=new lu(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new Xv(new Vu(a),l,u)}class sy extends Jv{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sy}}function oy(e,t,n){return new ty({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ay extends Jv{_toFieldTransform(e){return new ph(e.path,new oh)}isEqual(e){return e instanceof ay}}class ly extends Jv{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=oy(this,e,!0),n=this.Mu.map((e=>py(e,t))),r=new ah(n);return new ph(e.path,r)}isEqual(e){return e instanceof ly&&Yi(this.Mu,e.Mu)}}class uy extends Jv{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=oy(this,e,!0),n=this.Mu.map((e=>py(e,t))),r=new uh(n);return new ph(e.path,r)}isEqual(e){return e instanceof uy&&Yi(this.Mu,e.Mu)}}class cy extends Jv{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new hh(e.serializer,th(e.serializer,this.xu));return new ph(e.path,t)}isEqual(e){return e instanceof cy&&this.xu===e.xu}}function hy(e,t,n,r){const i=e.Fu(1,t,n);vy("Data must be an object, but it was:",i,r);const s=[],o=Vu.empty();eu(r,((e,r)=>{const a=by(t,e,n);r=is(r);const l=i.Su(a);if(r instanceof sy)s.push(a);else{const e=py(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new lu(s);return new Zv(o,a,i.fieldTransforms)}function dy(e,t,n,r,i,s){const o=e.Fu(1,t,n),a=[yy(t,r,n)],l=[i];if(s.length%2!=0)throw new Ta(Ca.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(yy(t,s[d])),l.push(s[d+1]);const u=[],c=Vu.empty();for(let d=a.length-1;d>=0;--d)if(!Ey(u,a[d])){const e=a[d];let t=l[d];t=is(t);const n=o.Su(e);if(t instanceof sy)u.push(e);else{const r=py(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new lu(u);return new Zv(c,h,o.fieldTransforms)}function fy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return py(n,e.Fu(r?4:3,t))}function py(e,t){if(gy(e=is(e)))return vy("Unsupported field value:",t,e),my(e,t);if(e instanceof Jv)return function(e,t){if(!ey(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=py(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=is(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return th(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Va.fromDate(e);return{timestampValue:od(t.serializer,n)}}if(e instanceof Va){const n=new Va(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:od(t.serializer,n)}}if(e instanceof Yv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wv)return{bytesValue:ad(t.serializer,e._byteString)};if(e instanceof kv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:cd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(Ev(e)))}(e,t)}function my(e,t){const n={};return tu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eu(e,((e,r)=>{const i=py(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function gy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Va||e instanceof Yv||e instanceof Wv||e instanceof kv||e instanceof Jv)}function vy(e,t,n){if(!gy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ev(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function yy(e,t,n){if((t=is(t))instanceof Qv)return t._internalPath;if("string"==typeof t)return by(e,t);throw _y("Field path arguments must be of type string or ",e,!1,void 0,n)}const wy=new RegExp("[~\\*/\\[\\]]");function by(e,t,n){if(t.search(wy)>=0)throw _y("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Qv(...t.split("."))._internalPath}catch(r){throw _y("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _y(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Ta(Ca.INVALID_ARGUMENT,a+e+l)}function Ey(e,t){return e.some((e=>e.isEqual(t)))}class Sy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Iy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Iy extends Sy{data(){return super.data()}}function Cy(e,t){return"string"==typeof t?by(e,t):t instanceof Qv?t._internalPath:t._delegate._internalPath}function Ty(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ta(Ca.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xy{}class Ay extends xy{}function ky(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof xy&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Ry)).length,n=e.filter((e=>e instanceof Py)).length;if(t>1||t>0&&n>0)throw new Ta(Ca.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Py extends Ay{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Py(e,t,n)}_apply(e){const t=this._parse(e);return By(e._query,t),new Av(e.firestore,e.converter,Pc(e._query,t))}_parse(e){const t=ry(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ta(Ca.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){jy(o,s);const t=[];for(const n of o)t.push(My(r,e,n));a={arrayValue:{values:t}}}else a=My(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||jy(o,s),a=fy(n,t,o,"in"===s||"not-in"===s);return Yu.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Ry extends xy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ry(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:$u.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)By(n,i),n=Pc(n,i)}(e._query,t),new Av(e.firestore,e.converter,Pc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ny extends Ay{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ny(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ta(Ca.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ta(Ca.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wu(t,n)}(e._query,this._field,this._direction);return new Av(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ec(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Dy extends Ay{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Dy(e,t,n)}_apply(e){return new Av(e.firestore,e.converter,Rc(e._query,this._limit,this._limitType))}}class Oy extends Ay{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Oy(e,t,n)}_apply(e){const t=Fy(e,this.type,this._docOrFields,this._inclusive);return new Av(e.firestore,e.converter,function(e,t){return new Ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Ly extends Ay{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Ly(e,t,n)}_apply(e){const t=Fy(e,this.type,this._docOrFields,this._inclusive);return new Av(e.firestore,e.converter,function(e,t){return new Ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Fy(e,t,n,r){if(n[0]=is(n[0]),n[0]instanceof Sy)return function(e,t,n,r,i){if(!r)throw new Ta(Ca.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of xc(e))if(o.field.isKeyField())s.push(ku(t,r.key));else{const e=r.data.field(o.field);if(mu(e))throw new Ta(Ca.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Ta(Ca.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new qu(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=ry(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Ta(Ca.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Ta(Ca.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Tc(e)&&-1!==s.indexOf("/"))throw new Ta(Ca.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(qa.fromString(s));if(!Wa.isDocumentKey(n))throw new Ta(Ca.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Wa(n);a.push(ku(t,i))}else{const e=fy(n,r,s);a.push(e)}}return new qu(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function My(e,t,n){if("string"==typeof(n=is(n))){if(""===n)throw new Ta(Ca.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tc(t)&&-1!==n.indexOf("/"))throw new Ta(Ca.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(qa.fromString(n));if(!Wa.isDocumentKey(r))throw new Ta(Ca.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ku(e,new Wa(r))}if(n instanceof kv)return ku(e,n._key);throw new Ta(Ca.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ev(n),"."))}function jy(e,t){if(!Array.isArray(e)||0===e.length)throw new Ta(Ca.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function By(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ta(Ca.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ta(Ca.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Uy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Eu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ea()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return eu(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Yv(fu(e.latitude),fu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=gu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const t=du(e);return new Va(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=qa.fromString(e);Sa(Od(n));const r=new wu(n.get(1),n.get(3)),i=new Wa(n.popFirst(5));return r.isEqual(t)||wa("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Vy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class zy extends Uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kv(this.firestore,null,t)}}class Gy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qy extends Sy{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Hy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Cy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Hy extends qy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ky{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Gy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Hy(this._firestore,this._userDataWriter,n.key,n,new Gy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ta(Ca.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Hy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Gy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Hy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Wy(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Wy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ea()}}function Qy(e,t){return e instanceof qy&&t instanceof qy?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ky&&t instanceof Ky&&e._firestore===t._firestore&&Ov(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Jy extends Uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kv(this.firestore,null,t)}}function Yy(e){e=Sv(e,kv);const t=Sv(e.firestore,jv),n=Bv(t),r=new Jy(t);return function(e,t){const n=new xa;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Ia(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Ta(Ca.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Hm(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await lv(e),t,n))),n.promise}(n,e._key).then((n=>new qy(t,r,e._key,n,new Gy(null!==n&&n.hasLocalMutations,!0),e.converter)))}function $y(e){e=Sv(e,Av);const t=Sv(e.firestore,jv),n=Bv(t),r=new Jy(t);return function(e,t){const n=new xa;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Fp(e,t,!0),i=new hg(t,r.hs),s=i.da(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Hm(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await lv(e),t,n))),n.promise}(n,e._query).then((n=>new Ky(t,r,e,n)))}function Xy(e,t,n){e=Sv(e,kv);const r=Sv(e.firestore,jv),i=Vy(e.converter,t,n);return nw(r,[iy(ry(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,gh.none())])}function Zy(e,t,n){e=Sv(e,kv);const r=Sv(e.firestore,jv),i=ry(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=is(t))||t instanceof Qv?dy(i,"updateDoc",e._key,t,n,a):hy(i,"updateDoc",e._key,t),nw(r,[s.toMutation(e._key,gh.exists(!0))])}function ew(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=is(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Fv(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Fv(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,h,d;if(e instanceof kv)h=Sv(e.firestore,jv),d=Ic(e._key.path),c={next:t=>{n[l]&&n[l](rw(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Sv(e,Av);h=Sv(t.firestore,jv),d=t._query;const r=new Jy(h);c={next:e=>{n[l]&&n[l](new Ky(h,r,t,e))},error:n[l+1],complete:n[l+2]},Ty(e._query)}return function(e,t,n,r){const i=new $g(r),s=new ig(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>$m(await dv(e),s))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>Xm(await dv(e),s)))}}(Bv(h),d,u,c)}function tw(e,t){return function(e,t){const n=new $g(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ia(e).z_.add(t),t.next()}(await dv(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ia(e).z_.delete(t)}(await dv(e),n)))}}(Bv(e=Sv(e,jv)),Fv(t)?t:{next:t})}function nw(e,t){return function(e,t){const n=new xa;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Hg(e);try{const e=await function(e,t){const n=Ia(e),r=Va.now(),i=t.reduce(((e,t)=>e.add(t.key)),Yc());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Vc(),l=Yc();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Eh(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Ch(e.key,t,zu(t.value.mapValue),gh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:qc(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new nu(ja)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Dg(r,e.changes),await Rm(r.remoteStore)}catch(e){const t=Hm(e,"Failed to persist write");n.reject(t)}}(await cv(e),t,n))),n.promise}(Bv(e),t)}function rw(e,t,n){const r=n.docs.get(t._key),i=new Jy(e);return new qy(e,i,t._key,r,new Gy(n.hasPendingWrites,n.fromCache),t.converter)}const iw={maxAttempts:5};class sw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ry(e)}set(e,t,n){this._verifyNotCommitted();const r=ow(e,this._firestore),i=Vy(r.converter,t,n),s=iy(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,gh.none())),this}update(e,t,n){this._verifyNotCommitted();const r=ow(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=is(t))||t instanceof Qv?dy(this._dataReader,"WriteBatch.update",r._key,t,n,o):hy(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,gh.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ow(e,this._firestore);return this._mutations=this._mutations.concat(new kh(t._key,gh.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ta(Ca.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ow(e,t){if((e=is(e)).firestore!==t)throw new Ta(Ca.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class aw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ry(e)}get(e){const t=ow(e,this._firestore),n=new zy(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Ea();const r=e[0];if(r.isFoundDocument())return new Sy(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Sy(this._firestore,n,t._key,null,t.converter);throw Ea()}))}set(e,t,n){const r=ow(e,this._firestore),i=Vy(r.converter,t,n),s=iy(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=ow(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=is(t))||t instanceof Qv?dy(this._dataReader,"Transaction.update",r._key,t,n,o):hy(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=ow(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ow(e,this._firestore),n=new Jy(this._firestore);return super.get(e).then((e=>new qy(this._firestore,n,t._key,e._document,new Gy(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ma=e}(To),vo(new ss("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new jv(new Ra(e.getProvider("auth-internal")),new La(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ta(Ca.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),No(fa,"4.6.3",e),No(fa,"4.6.3","esm2017")}();function lw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ta("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function uw(){if("undefined"===typeof Uint8Array)throw new Ta("unimplemented","Uint8Arrays are not available in this environment.")}function cw(){if("undefined"==typeof atob)throw new Ta("unimplemented","Blobs are unavailable in Firestore in this environment.")}class hw{constructor(e){this._delegate=e}static fromBase64String(e){return cw(),new hw(Wv.fromBase64String(e))}static fromUint8Array(e){return uw(),new hw(Wv.fromUint8Array(e))}toBase64(){return cw(),this._delegate.toBase64()}toUint8Array(){return uw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class fw{enableIndexedDbPersistence(e,t){return function(e,t){Kv(e=Sv(e,jv));const n=Bv(e);if(n._uninitializedComponentsProvider)throw new Ta(Ca.FAILED_PRECONDITION,"SDK cache is already specified.");ba("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Jg;return Vv(n,i,new Wg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Kv(e=Sv(e,jv));const t=Bv(e);if(t._uninitializedComponentsProvider)throw new Ta(Ca.FAILED_PRECONDITION,"SDK cache is already specified.");ba("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Jg;return Vv(t,r,new Qg(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Ta(Ca.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new xa;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!ll.D())return Promise.resolve();const t=e+"main";await ll.delete(t)}(Ip(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class pw{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof wu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ba("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};xv(this._delegate,e,t,n)}enableNetwork(){return Gv(this._delegate)}disableNetwork(){return qv(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,wv("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return zv(this._delegate)}onSnapshotsInSync(e){return tw(this._delegate,e)}get app(){if(!this._appCompat)throw new Ta("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Aw(this,Rv(this._delegate,e))}catch(vS){throw bw(vS,"collection()","Firestore.collection()")}}doc(e){try{return new ww(this,Nv(this._delegate,e))}catch(vS){throw bw(vS,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cw(this,function(e,t){if(e=Sv(e,Tv),yv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ta(Ca.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Av(e,null,function(e){return new Ec(qa.emptyPath(),e)}(t))}(this._delegate,e))}catch(vS){throw bw(vS,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Sv(e,jv);const r=Object.assign(Object.assign({},iw),n);return function(e){if(e.maxAttempts<1)throw new Ta(Ca.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new xa;return e.asyncQueue.enqueueAndForget((async()=>{const i=await hv(e);new ev(e.asyncQueue,i,n,t,r).Xa()})),r.promise}(Bv(e),(n=>t(new aw(e,n))),r)}(this._delegate,(t=>e(new gw(this,t))))}batch(){return Bv(this._delegate),new vw(new sw(this._delegate,(e=>nw(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Bv(e=Sv(e,jv)),r=new Mv;return mv(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return Hv(this._delegate,e).then((e=>e?new Cw(this,e):null))}}class mw extends Uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new hw(new Wv(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ww.forKey(t,this.firestore,null)}}class gw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mw(e)}get(e){const t=kw(e);return this._delegate.get(t).then((e=>new Sw(this._firestore,new qy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=kw(e);return n?(lw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=kw(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=kw(e);return this._delegate.delete(t),this}}class vw{constructor(e){this._delegate=e}set(e,t,n){const r=kw(e);return n?(lw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=kw(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=kw(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yw{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Hy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Iw(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=yw.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new yw(e,new mw(e),t),r.set(t,i)),i}}yw.INSTANCES=new WeakMap;class ww{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mw(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Ta("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new ww(t,new kv(t._delegate,n,new Wa(e)))}static forKey(e,t,n){return new ww(t,new kv(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Aw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Aw(this.firestore,Rv(this._delegate,e))}catch(vS){throw bw(vS,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=is(e))instanceof kv&&Dv(this._delegate,e)}set(e,t){t=lw("DocumentReference.set",t);try{return t?Xy(this._delegate,e,t):Xy(this._delegate,e)}catch(vS){throw bw(vS,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Zy(this._delegate,e):Zy(this._delegate,e,t,...r)}catch(vS){throw bw(vS,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return nw(Sv(e.firestore,jv),[new kh(e._key,gh.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=_w(t),i=Ew(t,(e=>new Sw(this.firestore,new qy(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return ew(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Yy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Sv(e,kv);const t=Sv(e.firestore,jv);return fv(Bv(t),e._key,{source:"server"}).then((n=>rw(t,e,n)))}(this._delegate):function(e){e=Sv(e,kv);const t=Sv(e.firestore,jv);return fv(Bv(t),e._key).then((n=>rw(t,e,n)))}(this._delegate),t.then((e=>new Sw(this.firestore,new qy(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new ww(this.firestore,e?this._delegate.withConverter(yw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function bw(e,t,n){return e.message=e.message.replace(t,n),e}function _w(e){for(const t of e)if("object"===typeof t&&!dw(t))return t;return{}}function Ew(e,t){var n,r;let i;return i=dw(e[0])?e[0]:dw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Sw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ww(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qy(this._delegate,e._delegate)}}class Iw extends Sw{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e,t){e||Ea()}(void 0!==t),t}}class Cw{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mw(e)}where(e,t,n){try{return new Cw(this.firestore,ky(this._delegate,function(e,t,n){const r=t,i=Cy("where",e);return Py._create(i,r,n)}(e,t,n)))}catch(vS){throw bw(vS,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cw(this.firestore,ky(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Cy("orderBy",e);return Ny._create(n,t)}(e,t)))}catch(vS){throw bw(vS,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cw(this.firestore,ky(this._delegate,function(e){return Iv("limit",e),Dy._create("limit",e,"F")}(e)))}catch(vS){throw bw(vS,"limit()","Query.limit()")}}limitToLast(e){try{return new Cw(this.firestore,ky(this._delegate,function(e){return Iv("limitToLast",e),Dy._create("limitToLast",e,"L")}(e)))}catch(vS){throw bw(vS,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new Cw(this.firestore,ky(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Oy._create("startAt",t,!0)}(...arguments)))}catch(vS){throw bw(vS,"startAt()","Query.startAt()")}}startAfter(){try{return new Cw(this.firestore,ky(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Oy._create("startAfter",t,!1)}(...arguments)))}catch(vS){throw bw(vS,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Cw(this.firestore,ky(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ly._create("endBefore",t,!1)}(...arguments)))}catch(vS){throw bw(vS,"endBefore()","Query.endBefore()")}}endAt(){try{return new Cw(this.firestore,ky(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ly._create("endAt",t,!0)}(...arguments)))}catch(vS){throw bw(vS,"endAt()","Query.endAt()")}}isEqual(e){return Ov(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?$y(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Sv(e,Av);const t=Sv(e.firestore,jv),n=Bv(t),r=new Jy(t);return pv(n,e._query,{source:"server"}).then((n=>new Ky(t,r,e,n)))}(this._delegate):function(e){e=Sv(e,Av);const t=Sv(e.firestore,jv),n=Bv(t),r=new Jy(t);return Ty(e._query),pv(n,e._query).then((n=>new Ky(t,r,e,n)))}(this._delegate),t.then((e=>new xw(this.firestore,new Ky(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=_w(t),i=Ew(t,(e=>new xw(this.firestore,new Ky(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return ew(this._delegate,r,i)}withConverter(e){return new Cw(this.firestore,e?this._delegate.withConverter(yw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Tw{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Iw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cw(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Iw(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Tw(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Iw(this._firestore,n))}))}isEqual(e){return Qy(this._delegate,e._delegate)}}class Aw extends Cw{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ww(this.firestore,e):null}doc(e){try{return new ww(this.firestore,void 0===e?Nv(this._delegate):Nv(this._delegate,e))}catch(vS){throw bw(vS,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Sv(e.firestore,jv),r=Nv(e),i=Vy(e.converter,t);return nw(n,[iy(ry(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,gh.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new ww(this.firestore,e)))}isEqual(e){return Dv(this._delegate,e._delegate)}withConverter(e){return new Aw(this.firestore,e?this._delegate.withConverter(yw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function kw(e){return Sv(e,kv)}class Pw{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Qv(...t)}static documentId(){return new Pw(Ka.keyField().canonicalString())}isEqual(e){return(e=is(e))instanceof Qv&&this._delegate._internalPath.isEqual(e._internalPath)}}class Rw{constructor(e){this._delegate=e}static serverTimestamp(){const e=new ay("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Rw(e)}static delete(){const e=new sy("deleteField");return e._methodName="FieldValue.delete",new Rw(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ly("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new Rw(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uy("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new Rw(e)}static increment(e){const t=function(e){return new cy("increment",e)}(e);return t._methodName="FieldValue.increment",new Rw(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Nw={Firestore:pw,GeoPoint:Yv,Timestamp:Va,Blob:hw,Transaction:gw,WriteBatch:vw,DocumentReference:ww,DocumentSnapshot:Sw,Query:Cw,QueryDocumentSnapshot:Iw,QuerySnapshot:xw,CollectionReference:Aw,FieldPath:Pw,FieldValue:Rw,setLogLevel:function(e){!function(e){ga.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var Dw;(function(e,t){e.INTERNAL.registerComponent(new ss("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Nw)))})(Dw=$o,((e,t)=>new pw(e,t,new fw))),Dw.registerVersion("@firebase/firestore-compat","0.3.32");function Ow(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lw=Ow,Fw=new Wi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mw=new gs("@firebase/auth");function jw(e){if(Mw.logLevel<=hs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mw.error("Auth (".concat(To,"): ").concat(e),...n)}}function Bw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Gw(e,...n)}function Uw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Gw(e,...n)}function Vw(e,t,n){const r=Object.assign(Object.assign({},Lw()),{[t]:n});return new Wi("auth","Firebase",r).create(t,{appName:e.name})}function zw(e){return Vw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Fw.create(e,...n)}function qw(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Gw(t,...r)}}function Hw(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jw(t),new Error(t)}function Kw(e,t){e||Hw(t)}function Ww(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Qw(){return"http:"===Jw()||"https:"===Jw()}function Jw(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Yw(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Qw()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class $w{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kw(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zi())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Yw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xw(e,t){Kw(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Zw{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Hw("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Hw("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Hw("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},tb=new $w(3e4,6e4);function nb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function rb(e,t,n,r){return ib(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Xi(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Zw.fetch()(ob(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function ib(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},eb),t);try{const t=new lb(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw ub(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ub(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ub(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw ub(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Vw(e,a,o);Bw(e,a)}}catch(vS){if(vS instanceof Ki)throw vS;Bw(e,"network-request-failed",{message:String(vS)})}}async function sb(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await rb(e,t,n,r,i);return"mfaPendingCredential"in s&&Bw(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ob(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Xw(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function ab(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Uw(this.auth,"network-request-failed"))),tb.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ub(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Uw(e,t,r);return i.customData._tokenResponse=n,i}function cb(e){return void 0!==e&&void 0!==e.enterprise}class hb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ab(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function db(e,t){return rb(e,"GET","/v2/recaptchaConfig",nb(e,t))}async function fb(e,t){return rb(e,"POST","/v1/accounts:lookup",t)}function pb(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(vS){}}function mb(e){return 1e3*Number(e)}function gb(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return jw("JWT malformed, contained fewer than 3 sections"),null;try{const e=Oi(n);return e?JSON.parse(e):(jw("Failed to decode base64 JWT payload"),null)}catch(vS){return jw("Caught error parsing JWT payload as JSON",null===vS||void 0===vS?void 0:vS.toString()),null}}function vb(e){const t=gb(e);return qw(t,"internal-error"),qw("undefined"!==typeof t.exp,"internal-error"),qw("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function yb(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(vS){throw vS instanceof Ki&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(vS)&&e.auth.currentUser===e&&await e.auth.signOut(),vS}}class wb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(vS){return void((null===vS||void 0===vS?void 0:vS.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class bb{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pb(this.lastLoginAt),this.creationTime=pb(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _b(e){var t;const n=e.auth,r=await e.getIdToken(),i=await yb(e,fb(n,{idToken:r}));qw(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Eb(s.providerUserInfo):[],a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new bb(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Eb(e){return e.map((e=>{var{providerId:t}=e,n=gt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Sb{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qw(e.idToken,"internal-error"),qw("undefined"!==typeof e.idToken,"internal-error"),qw("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qw(0!==e.length,"internal-error");const t=vb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(qw(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ib(e,{},(async()=>{const n=Xi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ob(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Zw.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Sb;return n&&(qw("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(qw("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(qw("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sb,this.toJSON())}_performRefresh(){return Hw("not implemented")}}function Ib(e,t){qw("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Cb{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=gt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new bb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await yb(this,this.stsTokenManager.getToken(this.auth,e));return qw(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=is(e),r=await n.getIdToken(t),i=gb(r);qw(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pb(mb(i.auth_time)),issuedAtTime:pb(mb(i.iat)),expirationTime:pb(mb(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=is(e);await _b(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(qw(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cb(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qw(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await _b(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_o(this.auth.app))return Promise.reject(zw(this.auth));const e=await this.getIdToken();return await yb(this,async function(e,t){return rb(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;qw(y&&E,e,"internal-error");const S=Sb.fromJSON(this.name,E);qw("string"===typeof y,e,"internal-error"),Ib(c,e.name),Ib(h,e.name),qw("boolean"===typeof w,e,"internal-error"),qw("boolean"===typeof b,e,"internal-error"),Ib(d,e.name),Ib(f,e.name),Ib(p,e.name),Ib(m,e.name),Ib(g,e.name),Ib(v,e.name);const I=new Cb({uid:y,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Sb;r.updateFromServerResponse(t);const i=new Cb({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await _b(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];qw(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Eb(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Sb;o.updateFromIdToken(n);const a=new Cb({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new bb(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const Tb=new Map;function xb(e){Kw(e instanceof Function,"Expected a class definition");let t=Tb.get(e);return t?(Kw(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Tb.set(e,t),t)}class Ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ab.type="NONE";const kb=Ab;function Pb(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Rb{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Pb(this.userKey,r.apiKey,i),this.fullPersistenceKey=Pb("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cb._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Rb(xb(kb),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||xb(kb);const s=Pb(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=Cb._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Rb(i,e,n)):new Rb(i,e,n)}}function Nb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Db(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jb(t))return"Blackberry";if(Bb(t))return"Webos";if(Ob(t))return"Safari";if((t.includes("chrome/")||Lb(t))&&!t.includes("edge/"))return"Chrome";if(Mb(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Db(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi();return/firefox\//i.test(e)}function Ob(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi();return/crios\//i.test(e)}function Fb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi();return/iemobile/i.test(e)}function Mb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi();return/android/i.test(e)}function jb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi();return/blackberry/i.test(e)}function Bb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi();return/webos/i.test(e)}function Ub(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Vb(){return function(){const e=zi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function zb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi();return Ub(e)||Mb(e)||Bb(e)||jb(e)||/windows phone/i.test(e)||Fb(e)}function Gb(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Nb(zi());break;case"Worker":t="".concat(Nb(zi()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(To,"/").concat(r)}class qb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(vS){r(vS)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(vS){t.reverse();for(const n of t)try{n()}catch(kn){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===vS||void 0===vS?void 0:vS.message})}}}class Hb{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Kb{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qb(this),this.idTokenSubscription=new Qb(this),this.beforeStateQueue=new qb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xb(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Rb.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(vS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await fb(this,{idToken:e}),n=await Cb._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_o(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(vS){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(vS)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qw(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(vS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _b(e)}catch(vS){if((null===vS||void 0===vS?void 0:vS.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_o(this.app))return Promise.reject(zw(this));const t=e?is(e):null;return t&&qw(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&qw(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return _o(this.app)?Promise.reject(zw(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _o(this.app)?Promise.reject(zw(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(xb(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return rb(e,"GET","/v2/passwordPolicy",nb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Hb(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wi("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return rb(e,"POST","/v2/accounts:revokeToken",nb(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xb(e)||this._popupRedirectResolver;qw(t,this,"argument-error"),this.redirectPersistenceManager=await Rb.create(this,[xb(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(qw(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qw(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Mw.logLevel<=hs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mw.warn("Auth (".concat(To,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Wb(e){return is(e)}class Qb{constructor(e){this.auth=e,this.observer=null,this.addObserver=ts((e=>this.observer=e))}get next(){return qw(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yb(e){return Jb.loadJS(e)}function $b(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Xb{constructor(e){this.type="recaptcha-enterprise",this.auth=Wb(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;cb(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{db(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new hb(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&cb(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Jb.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Yb(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Zb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Xb(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function e_(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Zb(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Zb(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function t_(e,t,n){const r=Wb(e);qw(r._canInitEmulator,r,"emulator-config-failed"),qw(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=n_(t),{host:o,port:a}=function(e){const t=n_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:r_(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:r_(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function n_(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function r_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class i_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hw("not implemented")}_getIdTokenResponse(e){return Hw("not implemented")}_linkToIdToken(e,t){return Hw("not implemented")}_getReauthenticationResolver(e){return Hw("not implemented")}}async function s_(e,t){return rb(e,"POST","/v1/accounts:signUp",t)}async function o_(e,t){return sb(e,"POST","/v1/accounts:signInWithPassword",nb(e,t))}class a_ extends i_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new a_(e,t,"password")}static _fromEmailAndCode(e,t){return new a_(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return e_(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",o_);case"emailLink":return async function(e,t){return sb(e,"POST","/v1/accounts:signInWithEmailLink",nb(e,t))}(e,{email:this._email,oobCode:this._password});default:Bw(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return e_(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s_);case"emailLink":return async function(e,t){return sb(e,"POST","/v1/accounts:signInWithEmailLink",nb(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Bw(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function l_(e,t){return sb(e,"POST","/v1/accounts:signInWithIdp",nb(e,t))}class u_ extends i_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new u_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bw("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=gt(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new u_(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return l_(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,l_(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,l_(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xi(t)}return e}}const c_={USER_NOT_FOUND:"user-not-found"};class h_ extends i_{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new h_({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new h_({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return sb(e,"POST","/v1/accounts:signInWithPhoneNumber",nb(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await sb(e,"POST","/v1/accounts:signInWithPhoneNumber",nb(e,t));if(n.temporaryProof)throw ub(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return sb(e,"POST","/v1/accounts:signInWithPhoneNumber",nb(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),c_)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new h_({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class d_{constructor(e){var t,n,r,i,s,o;const a=Zi(es(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);qw(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Zi(es(e)).link,n=t?Zi(es(t)).deep_link_id:null,r=Zi(es(e)).deep_link_id;return(r?Zi(es(r)).link:null)||r||n||t||e}(e);try{return new d_(t)}catch(n){return null}}}class f_{constructor(){this.providerId=f_.PROVIDER_ID}static credential(e,t){return a_._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=d_.parseLink(t);return qw(n,"argument-error"),a_._fromEmailAndCode(e,n.code,n.tenantId)}}f_.PROVIDER_ID="password",f_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class p_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class m_ extends p_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class g_ extends m_{constructor(){super("facebook.com")}static credential(e){return u_._fromParams({providerId:g_.PROVIDER_ID,signInMethod:g_.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return g_.credentialFromTaggedObject(e)}static credentialFromError(e){return g_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return g_.credential(t.oauthAccessToken)}catch(n){return null}}}g_.FACEBOOK_SIGN_IN_METHOD="facebook.com",g_.PROVIDER_ID="facebook.com";class v_ extends m_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return u_._fromParams({providerId:v_.PROVIDER_ID,signInMethod:v_.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return v_.credentialFromTaggedObject(e)}static credentialFromError(e){return v_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return v_.credential(n,r)}catch(i){return null}}}v_.GOOGLE_SIGN_IN_METHOD="google.com",v_.PROVIDER_ID="google.com";class y_ extends m_{constructor(){super("github.com")}static credential(e){return u_._fromParams({providerId:y_.PROVIDER_ID,signInMethod:y_.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return y_.credentialFromTaggedObject(e)}static credentialFromError(e){return y_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return y_.credential(t.oauthAccessToken)}catch(n){return null}}}y_.GITHUB_SIGN_IN_METHOD="github.com",y_.PROVIDER_ID="github.com";class w_ extends m_{constructor(){super("twitter.com")}static credential(e,t){return u_._fromParams({providerId:w_.PROVIDER_ID,signInMethod:w_.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return w_.credentialFromTaggedObject(e)}static credentialFromError(e){return w_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return w_.credential(n,r)}catch(i){return null}}}w_.TWITTER_SIGN_IN_METHOD="twitter.com",w_.PROVIDER_ID="twitter.com";class b_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Cb._fromIdTokenResponse(e,n,r),s=__(n);return new b_({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=__(n);return new b_({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function __(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class E_ extends Ki{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,E_.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new E_(e,t,n,r)}}function S_(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw E_._fromErrorAndOperation(e,n,t,r);throw n}))}async function I_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await yb(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return b_._forOperation(e,"link",r)}async function C_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(_o(r.app))return Promise.reject(zw(r));const i="reauthenticate";try{const s=await yb(e,S_(r,i,t,e),n);qw(s.idToken,r,"internal-error");const o=gb(s.idToken);qw(o,r,"internal-error");const{sub:a}=o;return qw(e.uid===a,r,"user-mismatch"),b_._forOperation(e,i,s)}catch(vS){throw(null===vS||void 0===vS?void 0:vS.code)==="auth/".concat("user-not-found")&&Bw(r,"user-mismatch"),vS}}async function T_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_o(e.app))return Promise.reject(zw(e));const r="signIn",i=await S_(e,r,t),s=await b_._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function x_(e,t){return T_(Wb(e),t)}async function A_(e){const t=Wb(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const k_="__sak";class P_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(k_,"1"),this.storage.removeItem(k_),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class R_ extends P_{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=zi();return Ob(e)||Ub(e)}()&&function(){try{return!(!window||window===window.top)}catch(vS){return!1}}(),this.fallbackToPolling=zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Vb()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}R_.type="LOCAL";const N_=R_;class D_ extends P_{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}D_.type="SESSION";const O_=D_;class L_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new L_(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function F_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}L_.receivers=[];class M_{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=F_("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function j_(){return window}function B_(){return"undefined"!==typeof j_().WorkerGlobalScope&&"function"===typeof j_().importScripts}const U_="firebaseLocalStorageDb",V_="firebaseLocalStorage",z_="fbase_key";class G_{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function q_(e,t){return e.transaction([V_],t?"readwrite":"readonly").objectStore(V_)}function H_(){const e=indexedDB.open(U_,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(V_,{keyPath:z_})}catch(vS){n(vS)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(V_)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(U_);return new G_(e).toPromise()}(),t(await H_()))}))}))}async function K_(e,t,n){const r=q_(e,!0).put({[z_]:t,value:n});return new G_(r).toPromise()}function W_(e,t){const n=q_(e,!0).delete(t);return new G_(n).toPromise()}class Q_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await H_()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(vS){if(t++>3)throw vS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=L_._getInstance(B_()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new M_(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await H_();return await K_(e,k_,"1"),await W_(e,k_),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>K_(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=q_(e,!1).get(t),r=await new G_(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>W_(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=q_(e,!1).getAll();return new G_(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Q_.type="LOCAL";const J_=Q_;$b("rcb"),new $w(3e4,6e4);const Y_="recaptcha";async function $_(e,t,n){var r;const i=await n.verify();try{let s;if(qw("string"===typeof i,e,"argument-error"),qw(n.type===Y_,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){qw("enroll"===t.type,e,"internal-error");const n=await function(e,t){return rb(e,"POST","/v2/accounts/mfaEnrollment:start",nb(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{qw("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;qw(n,e,"missing-multi-factor-info");const o=await function(e,t){return rb(e,"POST","/v2/accounts/mfaSignIn:start",nb(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return rb(e,"POST","/v1/accounts:sendVerificationCode",nb(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class X_{constructor(e){this.providerId=X_.PROVIDER_ID,this.auth=Wb(e)}verifyPhoneNumber(e,t){return $_(this.auth,e,is(t))}static credential(e,t){return h_._fromVerification(e,t)}static credentialFromResult(e){const t=e;return X_.credentialFromTaggedObject(t)}static credentialFromError(e){return X_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?h_._fromTokenResponse(n,r):null}}function Z_(e,t){return t?xb(t):(qw(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}X_.PROVIDER_ID="phone",X_.PHONE_SIGN_IN_METHOD="phone";class eE extends i_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return l_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return l_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return l_(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tE(e){return T_(e.auth,new eE(e),e.bypassAuthState)}function nE(e){const{auth:t,user:n}=e;return qw(n,t,"internal-error"),C_(n,new eE(e),e.bypassAuthState)}async function rE(e){const{auth:t,user:n}=e;return qw(n,t,"internal-error"),I_(n,new eE(e),e.bypassAuthState)}class iE{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(vS){this.reject(vS)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(vS){this.reject(vS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tE;case"linkViaPopup":case"linkViaRedirect":return rE;case"reauthViaPopup":case"reauthViaRedirect":return nE;default:Bw(this.auth,"internal-error")}}resolve(e){Kw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sE=new $w(2e3,1e4);class oE extends iE{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,oE.currentPopupAction&&oE.currentPopupAction.cancel(),oE.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qw(e,this.auth,"internal-error"),e}async onExecution(){Kw(1===this.filter.length,"Popup operations only handle one event");const e=F_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Uw(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Uw(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oE.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Uw(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,sE.get())};e()}}oE.currentPopupAction=null;const aE="pendingRedirect",lE=new Map;class uE extends iE{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=lE.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=dE(t),r=hE(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(vS){e=()=>Promise.reject(vS)}lE.set(this.auth._key(),e)}return this.bypassAuthState||lE.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function cE(e,t){lE.set(e._key(),t)}function hE(e){return xb(e._redirectPersistence)}function dE(e){return Pb(aE,e.config.apiKey,e.name)}async function fE(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_o(e.app))return Promise.reject(zw(e));const r=Wb(e),i=Z_(r,t),s=new uE(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class pE{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!gE(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Uw(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(e))}saveEventToCache(e){this.cachedEventUids.add(mE(e)),this.lastProcessedEventTime=Date.now()}}function mE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function gE(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const vE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yE=/^https?/;async function wE(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return rb(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(bE(r))return}catch(n){}Bw(e,"unauthorized-domain")}function bE(e){const t=Ww(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!yE.test(n))return!1;if(vE.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _E=new $w(3e4,6e4);function EE(){const e=j_().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function SE(e){return new Promise(((t,n)=>{var r,i,s;function o(){EE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{EE(),n(Uw(e,"network-request-failed"))},timeout:_E.get()})}if(null===(i=null===(r=j_().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=j_().gapi)||void 0===s?void 0:s.load)){const t=$b("iframefcb");return j_()[t]=()=>{gapi.load?o():n(Uw(e,"network-request-failed"))},Yb("".concat(Jb.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw IE=null,e}))}let IE=null;const CE=new $w(5e3,15e3),TE="__/auth/iframe",xE="emulator/auth/iframe",AE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PE(e){const t=e.config;qw(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Xw(t,xE):"https://".concat(e.config.authDomain,"/").concat(TE),r={apiKey:t.apiKey,appName:e.name,v:To},i=kE.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Xi(r).slice(1))}async function RE(e){const t=await function(e){return IE=IE||SE(e),IE}(e),n=j_().gapi;return qw(n,e,"internal-error"),t.open({where:document.body,url:PE(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AE,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Uw(e,"network-request-failed"),s=j_().setTimeout((()=>{r(i)}),CE.get());function o(){j_().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const NE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class DE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(vS){}}}function OE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},NE),{width:r.toString(),height:i.toString(),top:s,left:o}),u=zi().toLowerCase();n&&(a=Lb(u)?"_blank":n),Db(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Ub(arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new DE(null);const h=window.open(t||"",a,c);qw(h,e,"popup-blocked");try{h.focus()}catch(vS){}return new DE(h)}const LE="__/auth/handler",FE="emulator/auth/handler",ME=encodeURIComponent("fac");async function jE(e,t,n,r,i,s){qw(e.config.authDomain,e,"auth-domain-config-required"),qw(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:To,eventId:i};if(t instanceof p_){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof m_){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?"#".concat(ME,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(LE);return Xw(t,FE)}(e),"?").concat(Xi(a).slice(1)).concat(u)}const BE="webStorageSupport";const UE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O_,this._completeRedirectFn=fE,this._overrideRedirectResult=cE}async _openPopup(e,t,n,r){var i;Kw(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return OE(e,await jE(e,t,n,Ww(),r),F_())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){j_().location.href=e}(await jE(e,t,n,Ww(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Kw(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await RE(e),n=new pE(e);return t.register("authEvent",(t=>{qw(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(BE,{type:BE},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[BE];void 0!==i&&t(!!i),Bw(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wE(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zb()||Ob()||Ub()}};var VE="@firebase/auth",zE="1.7.4";class GE{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qw(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qE=Ui("authIdTokenMaxAge")||300;let HE=null;var KE;Jb={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Uw("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},KE="Browser",vo(new ss("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;qw(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:KE,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gb(KE)},u=new Kb(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xb);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),vo(new ss("auth-internal",(e=>(e=>new GE(e))(Wb(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),No(VE,zE,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(KE)),No(VE,zE,"esm2017");const WE={apiKey:"AIzaSyCusVrGlq0Yp92xdWUXdqIdDb1NNvko19I",authDomain:"guestdb-1d6cf.firebaseapp.com",projectId:"guestdb-1d6cf",storageBucket:"guestdb-1d6cf.appspot.com",messagingSenderId:"1002338442648",appId:"1:1002338442648:web:9f4c71cbaba4b4948adfed",measurementId:"G-JYPREP289P"};let QE;0===$o.apps.length&&(QE=$o.initializeApp(WE));const JE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko();const t=yo(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=yo(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Yi(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Bw(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:UE,persistence:[J_,N_,O_]}),r=Ui("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>qE)return;const r=null===t||void 0===t?void 0:t.token;HE!==r&&(HE=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){is(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){is(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=ji("auth");return s&&t_(n,"http://".concat(s)),n}(QE);let YE="guestList";const $E=$o,XE=e=>{let{Guest:t}=e;const[n,i]=(0,r.useState)(t),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)((()=>{return""==(e=t).menu||"string"!=typeof e.menu?(sessionStorage.setItem("menu",""),"Selectionner un menu"):(sessionStorage.setItem("menu",e.menu),e.menu);var e}));return(0,Ne.jsxs)("div",{className:"dropdown",children:[(0,Ne.jsx)("button",{className:"dropdown-toggle",onClick:()=>{o(!s)},children:a}),s&&(0,Ne.jsx)("div",{className:"dropdown-menu",children:[{id:1,label:"Selectionner menu"},{id:2,label:"Adulte"},{id:3,label:"Enfant"}].map((e=>(0,Ne.jsx)("div",{className:"dropdown-item",onClick:()=>(e=>{l(e.label),sessionStorage.setItem("menu",e.label),o(!1)})(e),children:e.label},e.id)))})]})},ZE=e=>{let{Guest:t}=e;const[n,i]=(0,r.useState)(t),[s,o]=(0,r.useState)((()=>y(t,0))),[a,l]=(0,r.useState)((()=>y(t,1))),[u,c]=(0,r.useState)((()=>y(t,2))),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)((()=>{return""==(e=t).invitation||"repas"==e.invitation;var e})),[m,g]=(0,r.useState)("");function v(e,t){e(!1),t(!1)}function y(e,t){switch(t){case 0:return(""==e.presence||"attente"==e.presence)&&(sessionStorage.setItem("presence","attente"),!0);case 1:return"present"==e.presence&&(sessionStorage.setItem("presence","present"),!0);case 2:return"absent"==e.presence&&(sessionStorage.setItem("presence","absent"),!0)}}return(0,Ne.jsxs)("div",{className:"infoDispo-wrapper",children:[(0,Ne.jsxs)("div",{className:"box-dispo",children:[(0,Ne.jsx)("div",{className:"round-checkbox-containerWait",children:(0,Ne.jsxs)("label",{className:"round-checkbox-label",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:s,onChange:e=>{o(e.target.checked),e.target.checked?v(l,c):d(!1),g("attente"),sessionStorage.setItem("presence","attente")},className:"round-checkbox-input"}),(0,Ne.jsx)("span",{className:"round-checkbox-custom"}),"En attente"]})}),(0,Ne.jsx)("div",{className:"round-checkbox-containerOk",children:(0,Ne.jsxs)("label",{className:"round-checkbox-label",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:a,onChange:e=>{l(e.target.checked),e.target.checked?v(o,c):d(!1),g("present"),sessionStorage.setItem("presence","present")},className:"round-checkbox-input"}),(0,Ne.jsx)("span",{className:"round-checkbox-custom"}),"Present"]})}),(0,Ne.jsx)("div",{className:"round-checkbox-containerNo",children:(0,Ne.jsxs)("label",{className:"round-checkbox-label",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:u,onChange:e=>{c(e.target.checked),e.target.checked?v(o,l):d(!1),g("absent"),sessionStorage.setItem("presence","absent")},className:"round-checkbox-input"}),(0,Ne.jsx)("span",{className:"round-checkbox-custom"}),"Absent"]})})]}),f&&(0,Ne.jsxs)("div",{className:"menu-wrapper",children:[(0,Ne.jsx)("h3",{children:"Type de Menu : "}),(0,Ne.jsx)(XE,{Guest:n})]})]})},eS=e=>{let{Guest:t,setSubmitted:n}=e;const[i,s]=(0,r.useState)(t),[o,a]=(0,r.useState)([]),[l,u]=(0,r.useState)(""),[c,h]=(0,r.useState)(!1),d=$E.firestore().collection(YE);(0,r.useEffect)((()=>{n(c)}),[c]);const[f,p]=(0,r.useState)((()=>function(e){if(""==e.commentaires||"string"!=typeof e.commentaires){let e="Ajoutez un commentaire...";return sessionStorage.setItem("commentaires",""),e}return sessionStorage.setItem("commentaires",e.commentaires),e.commentaires}(t)));return(0,Ne.jsxs)("div",{className:"comment-box",children:[(0,Ne.jsx)("h2",{children:"Commentaires"}),(0,Ne.jsxs)("form",{className:"commentaire-form",onSubmit:e=>{e.preventDefault(),l.trim()&&(a([...o,l]),sessionStorage.setItem("commentaires",l),u("")),function(){const e=Object.keys(t);let n={};for(let r=0;r<e.length;r++)null!=sessionStorage.getItem(e[r])?n[e[r]]=sessionStorage.getItem(e[r]):n[e[r]]=t[e[r]];0!=Object.keys(n).length&&(d.doc(n.id).set(n).catch((e=>{console.error(e)})),h(!0))}()},children:[(0,Ne.jsx)("textarea",{value:l,onChange:e=>{u(e.target.value)},placeholder:f,rows:"4",cols:"50"}),(0,Ne.jsx)("button",{className:"commentaire-button",type:"submit",children:"Enregistrer les informations"})]})]})},tS=e=>{let{Guest:t,setSubmitted:n}=e;const[i,s]=(0,r.useState)(t),[o,a]=(0,r.useState)((()=>_(t,0))),[l,u]=(0,r.useState)((()=>_(t,1))),[c,h]=(0,r.useState)((()=>_(t,2))),[d,f]=(0,r.useState)((()=>_(t,3))),[p,m]=(0,r.useState)((()=>_(t,4))),[g,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)(!1);(0,r.useEffect)((()=>{n(g)}),[g]);function b(e,t,n,r){e(!1),t(!1),n(!1),r(!1)}function _(e,t){switch(t){case 0:return("aucun"==e.regime||""==e.regime)&&(sessionStorage.setItem("regime","aucun"),!0);case 1:return"vegetarien"==e.regime&&(sessionStorage.setItem("regime","vegetarien"),!0);case 2:return"vegetalien"==e.regime&&(sessionStorage.setItem("regime","vegetalien"),!0);case 3:return"allergie"==e.regime&&(sessionStorage.setItem("regime","allergie"),!0);case 4:return"autre"==e.regime&&(sessionStorage.setItem("regime","autre"),!0)}}return(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h2",{children:"Regime alimentaire"}),(0,Ne.jsxs)("div",{className:"regime-alimentaire",children:[(0,Ne.jsx)("div",{className:"regime-aucun",children:(0,Ne.jsx)("div",{className:"round-checkbox-container",children:(0,Ne.jsxs)("label",{className:"round-checkbox-label",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:o,onChange:e=>{a(e.target.checked),sessionStorage.setItem("regime","aucun"),e.target.checked?b(u,h,f,m):w(!1)},className:"round-checkbox-input"}),(0,Ne.jsx)("span",{className:"round-checkbox-custom"}),"Aucun"]})})}),(0,Ne.jsx)("div",{className:"regime-v\xe9g\xe9tarien",children:(0,Ne.jsx)("div",{className:"round-checkbox-container",children:(0,Ne.jsxs)("label",{className:"round-checkbox-label",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:l,onChange:e=>{u(e.target.checked),sessionStorage.setItem("regime","vegetarien"),e.target.checked?b(a,h,f,m):w(!1)},className:"round-checkbox-input"}),(0,Ne.jsx)("span",{className:"round-checkbox-custom"}),"V\xe9g\xe9tarien"]})})}),(0,Ne.jsx)("div",{className:"regime-v\xe9g\xe9talien",children:(0,Ne.jsx)("div",{className:"round-checkbox-container",children:(0,Ne.jsxs)("label",{className:"round-checkbox-label",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:c,onChange:e=>{h(e.target.checked),sessionStorage.setItem("regime","vegetalien"),e.target.checked?b(a,u,f,m):w(!1)},className:"round-checkbox-input"}),(0,Ne.jsx)("span",{className:"round-checkbox-custom"}),"V\xe9g\xe9talien"]})})}),(0,Ne.jsxs)("div",{className:"regime-alergie",children:[(0,Ne.jsx)("div",{className:"round-checkbox-container",children:(0,Ne.jsxs)("label",{className:"round-checkbox-label",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:d,onChange:e=>{f(e.target.checked),sessionStorage.setItem("regime","allergie"),e.target.checked?b(a,u,h,m):w(!1)},className:"round-checkbox-input"}),(0,Ne.jsx)("span",{className:"round-checkbox-custom"}),"Allergies"]})}),d&&(0,Ne.jsx)("div",{className:"description-allergie",children:(0,Ne.jsx)("p",{children:"D\xe9crit ton allergie dans les commentaires"})})]}),(0,Ne.jsx)("div",{className:"regime-autre",children:(0,Ne.jsx)("div",{className:"round-checkbox-container",children:(0,Ne.jsxs)("label",{className:"round-checkbox-label",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:p,onChange:e=>{m(e.target.checked),sessionStorage.setItem("regime","autre"),e.target.checked?b(a,u,h,f):w(!1)},className:"round-checkbox-input"}),(0,Ne.jsx)("span",{className:"round-checkbox-custom"}),"Autre"]})})})]}),(0,Ne.jsx)(eS,{Guest:i,setSubmitted:v})]})},nS=e=>{let{Guest:t,setSubmitted:n}=e;const[i,s]=(0,r.useState)(t),[o,a]=(0,r.useState)(""),[l,u]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{s(t)}),[t]),(0,r.useEffect)((()=>{n(l)}),[l]),(0,Ne.jsxs)("div",{className:"GuestInfo-container",children:[(0,Ne.jsxs)("div",{className:"rectangle-guest-info",children:[(0,Ne.jsxs)("div",{className:"name-box",children:[(0,Ne.jsxs)("p",{children:["Nom: ",(0,Ne.jsx)("b",{children:i.nom})]}),(0,Ne.jsxs)("p",{children:["Pr\xe9nom: ",(0,Ne.jsx)("b",{children:i.prenom})]})]}),(0,Ne.jsx)("div",{className:"dispo-box",children:(0,Ne.jsx)(ZE,{Guest:i})})]}),(0,Ne.jsx)("div",{className:"regime-alim",children:(0,Ne.jsx)(tS,{Guest:i,setSubmitted:u})})]})},rS=e=>{let{Guest:t,setSubmitted:n}=e;const[i,s]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1),[l,u]=(0,r.useState)(t),[c,h]=(0,r.useState)(t.prenom+" "+t.nom),[d,f]=(0,r.useState)(!1);(0,r.useEffect)((()=>{u(t),h(t.prenom+" "+t.nom)}),[t]);const p=e=>{s(e.target.checked),e.target.checked||a(!1)},m=()=>{a(!0)};return(0,r.useEffect)((()=>{n(d)}),[d]),o?(0,Ne.jsx)("div",{className:"checkBox-container",children:o&&(0,Ne.jsx)(nS,{Guest:l,setSubmitted:f})}):(0,Ne.jsx)("div",{className:"GuestBox-container",children:(0,Ne.jsxs)("div",{className:"round-checkbox-container",children:[(0,Ne.jsxs)("label",{className:"round-checkbox-label-init",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:i,onChange:p,className:"round-checkbox-input"}),(0,Ne.jsx)("span",{className:"round-checkbox-custom"}),c]}),i&&(0,Ne.jsx)("button",{className:"round-checkbox-button",onClick:m,children:"Continuer"})]})})},iS=e=>{let{Guest:t,setSubmitted:n}=e;const[i,s]=(0,r.useState)(t),[o,a]=(0,r.useState)(!1);if((0,r.useEffect)((()=>{s(t)}),[t]),(0,r.useEffect)((()=>{n(o)}),[o]),void 0!=i)return(0,Ne.jsx)("div",{className:"result-firebase-success",children:(0,Ne.jsx)(rS,{Guest:i,setSubmitted:a})})},sS=e=>{let{Search:t,Data:n,resetSearch:i}=e;const[s,o]=(0,r.useState)(t),[a,l]=(0,r.useState)(n),[u,c]=(0,r.useState)([]),[h,d]=(0,r.useState)([]),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[w,b]=(0,r.useState)({}),[_,E]=(0,r.useState)({}),[S,I]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),[x,A]=(0,r.useState)(!1),[k,P]=(0,r.useState)(!1),R=$E.firestore().collection(YE);return(0,r.useEffect)((()=>{o(t)}),[t]),(0,r.useEffect)((()=>{l(n)}),[n]),(0,r.useEffect)((()=>{s&&(p(!0),R.get().then((e=>{const t=e.docs.map((e=>e.data())),n=e.docs.map((e=>e.id));c(t),d(n),p(!1)})).catch((e=>{console.log(e),I(!0),console.log(S)})))}),[s,a]),(0,r.useEffect)((()=>{!function(){if(u.length>0&&void 0!=n.prenom&&void 0!=n.nom)for(let e=0;e<u.length;e++)0!=Object.keys(u[e]).length?"string"==typeof u[e].prenom&&"string"==typeof u[e].nom&&(" "==n.prenom.substr(-1)&&(n.prenom=n.prenom.substring(0,n.prenom.length-1))," "==n.nom.substr(-1)&&(n.nom=n.nom.substring(0,n.nom.length-1)),0==u[e].prenom.localeCompare(n.prenom,"en",{sensitivity:"base"})&&0==u[e].nom.localeCompare(n.nom,"en",{sensitivity:"base"})?(y(!0),b(u[e]),E(h[e]),sessionStorage.setItem("id",h[e])):T(!0)):T(!0)}()}),[u]),(0,r.useEffect)((()=>{x&&(T(!1),g(!1),o(!1),A(!1),p(!1),P(!0),i(!1))}),[x]),(0,r.useEffect)((()=>{v&&(g(!0),sessionStorage.setItem("prenom",w.prenom),sessionStorage.setItem("nom",w.nom),T(!1))}),[w]),f?(0,Ne.jsx)("div",{className:"loading-message",children:(0,Ne.jsx)("h1",{children:" Loading ... "})}):m?(0,Ne.jsx)(iS,{Guest:w,setSubmitted:A}):S?(0,Ne.jsx)("div",{className:"loading-message",children:(0,Ne.jsx)("h1",{children:" Une erreur s'est produite veuillez nous contacter "})}):C?(0,Ne.jsx)("div",{className:"loading-message",children:(0,Ne.jsx)("h1",{children:" Invit\xe9 introuvale "})}):k?(0,Ne.jsx)("div",{className:"loading-message",children:(0,Ne.jsx)("h1",{children:" Merci d'avoir enregistr\xe9 votre r\xe9ponse "})}):void 0},oS=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)({prenom:"",nom:""}),[a,l]=(0,r.useState)(s),[u,c]=(0,r.useState)(!1),h=e=>{const{name:t,value:n}=e.target;o({...s,[t]:n})};return(0,Ne.jsxs)("div",{className:"presence-wrapper",children:[(0,Ne.jsxs)("section",{id:"presence",children:[(0,Ne.jsxs)("form",{className:"form-presence",onSubmit:e=>{e.preventDefault(),l(s),i(!0),o({prenom:"",nom:""})},children:[(0,Ne.jsxs)("div",{className:"information-form",children:[(0,Ne.jsxs)("div",{className:"prenom-form",children:[(0,Ne.jsx)("label",{className:"input-presence",htmlFor:"prenom",children:"Prenom :"}),(0,Ne.jsx)("input",{type:"text",id:"prenom",name:"prenom",value:s.prenom,onChange:h})]}),(0,Ne.jsxs)("div",{className:"nom-form",children:[(0,Ne.jsx)("label",{htmlFor:"name",children:"Nom :"}),(0,Ne.jsx)("input",{type:"text",id:"nom",name:"nom",value:s.nom,onChange:h})]})]}),(0,Ne.jsx)("div",{className:"button-form-wrapper",children:(0,Ne.jsx)("button",{className:"button-form",type:"submit",children:"Rechercher"})})]}),(0,Ne.jsx)(sS,{Search:n,Data:a,resetSearch:i})]}),(0,Ne.jsx)("div",{className:"presence-deco"})]})},aS=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),s=ee();return(0,Ne.jsx)("div",{className:"LoginPage-wrapper",children:(0,Ne.jsxs)("div",{className:"Login-text-wrapper",children:[(0,Ne.jsx)("div",{className:"firstPage-save-the-date",children:(0,Ne.jsx)("h1",{children:" SAVE THE DATE "})}),(0,Ne.jsx)("div",{className:"firstPage-name",children:(0,Ne.jsx)("h2",{children:" Emeline & Vincent "})}),(0,Ne.jsx)("div",{className:"button-wrapper",children:(0,Ne.jsx)("button",{className:"button-enter-page",onClick:()=>{(function(e,t,n){return _o(e.app)?Promise.reject(zw(e)):x_(is(e),f_.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&A_(e),t}))})(JE,"vincent1.gautier@gmail.com","4F1I0fTJArPjtJ").then((e=>{e.user;sessionStorage.setItem("authenticated",!0),s("/Bienvenue")})).catch((e=>{const t=e.code,n=e.message;console.log(t,n)}))},children:"Entrer"})}),(0,Ne.jsx)("div",{className:"firstPage-date",children:(0,Ne.jsx)("h2",{children:" 03 Mai 2025 "})})]})})};n(713);const lS=e=>{let{data:t,doc:n}=e;const[i,s]=(0,r.useState)(t),[o,a]=(0,r.useState)(n);return(0,r.useEffect)((()=>{s(i)}),[t]),(0,r.useEffect)((()=>{a(n)}),[n]),(0,Ne.jsxs)("div",{className:"table-container",children:[(0,Ne.jsx)("h1",{className:"title-liste",children:"Liste d'invit\xe9"}),(0,Ne.jsxs)("table",{className:"data-table",children:[(0,Ne.jsx)("thead",{children:(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"ID"}),i.map((e=>(0,Ne.jsx)("th",{children:e},e)))]})}),(0,Ne.jsx)("tbody",{children:o.map((e=>(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{children:e.id}),i.map((t=>(0,Ne.jsx)("td",{children:void 0!==e[t]?JSON.stringify(e[t]):"N/A"},t)))]},e.id)))})]})]})},uS=e=>{let{data:t}=e;const[n,i]=(0,r.useState)(t),[s,o]=(0,r.useState)({name:"nombre d'invit\xe9",value:t.length}),[a,l]=(0,r.useState)({}),[u,c]=(0,r.useState)({}),[h,d]=(0,r.useState)({}),[f,p]=(0,r.useState)({}),[m,g]=(0,r.useState)({}),[v,y]=(0,r.useState)({}),[w,b]=(0,r.useState)({}),[_,E]=(0,r.useState)({}),[S,I]=(0,r.useState)({}),[C,T]=(0,r.useState)({}),[x,A]=(0,r.useState)({}),[k,P]=(0,r.useState)({}),[R,N]=(0,r.useState)({}),[D,O]=(0,r.useState)({}),[L,F]=(0,r.useState)({}),[M,j]=(0,r.useState)({}),[B,U]=(0,r.useState)({}),[V,z]=(0,r.useState)({}),[G,q]=(0,r.useState)({}),[H,K]=(0,r.useState)({}),[W,Q]=(0,r.useState)({}),[J,Y]=(0,r.useState)({name:"personne \xe0 relancer",value:[]}),[$,X]=(0,r.useState)({name:"personne en attente",value:[]});return(0,r.useEffect)((()=>{let e=0,t=0,r=0,i=0,s=0,o=0,a=0,u=0,h=0,f=0,m=0,v=0,w=0,_=0,S=0,C=0,x=0,k=0,R=0,D=0,L=[],M=[];for(let l=0;l<n.length;l++)"present"===n[l].presence?e+=1:"absent"===n[l].presence?t+=1:"attente"===n[l].presence&&(R+=1,M.push({prenom:n[l].prenom,nom:n[l].nom})),"allergie"===n[l].regime&&(i+=1),"Adulte"===n[l].menu?o+=1:"Enfant"===n[l].menu&&(D+=1),"vegetarien"===n[l].regime&&(s+=1),"ok"===n[l].fairePart&&(a+=1),"amis emeline"===n[l].lien&&(v+=1),"amis vincent"===n[l].lien&&(w+=1),"famille emeline"===n[l].lien&&(_+=1),"famille vincent"===n[l].lien&&(S+=1),"vin"===n[l].invitation&&(u+=1),"repas"===n[l].invitation&&(h+=1),"present"===n[l].presence&&"repas"===n[l].invitation&&(C+=1),"absent"===n[l].presence&&"repas"===n[l].invitation&&(x+=1),"number"!==typeof n[l].presence&&""!==n[l].presence&&("number"!==typeof n[l].menu&&""!==n[l].menu||"repas"!==n[l].invitation||"present"!==n[l].presence)||L.push({prenom:n[l].prenom,nom:n[l].nom}),m=_+S,f=v+w,r=e+t+R,k=t-x;l({name:"nb present",value:e}),c({name:"nb absent",value:t}),d({name:"nb en attente",value:R}),p({name:"nb de r\xe9ponse",value:r}),g({name:"nb allergie",value:i}),b({name:"Menu adulte",value:o}),E({name:"Menu enfant",value:D}),y({name:"Menu vege",value:s}),I({name:"Faire part donn\xe9s",value:a}),j({name:"Amis",value:f}),U({name:"Amis",value:m}),K({name:"Amis",value:_}),Q({name:"Amis",value:S}),z({name:"Amis emeline",value:v}),q({name:"Amis Vincent",value:w}),T({name:"Nombre d'invitaion vin d'honneur",value:u}),A({name:"Nombre d'invitaion repas",value:h}),P({name:"Pr\xe9sent au repas",value:C}),N({name:"Pr\xe9sent au vin d'honneur",value:e-C}),O({name:"Absent au repas",value:x}),F({name:"Absent au vin d'honneur",value:k}),Y({name:"personne \xe0 relancer",value:L}),X({name:"personne en Attente",value:M})}),[n]),null===n?(0,Ne.jsx)("div",{children:"Chargement..."}):(0,Ne.jsxs)("div",{className:"table-container",children:[(0,Ne.jsx)("div",{className:"stat-table-wrapper",children:(0,Ne.jsxs)("table",{className:"stat-table",children:[(0,Ne.jsx)("caption",{children:"Tableau invitation"}),(0,Ne.jsx)("thead",{}),(0,Ne.jsxs)("tbody",{children:[(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:s.name}),(0,Ne.jsx)("th",{children:s.value},s.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Faire part donn\xe9s"}),(0,Ne.jsx)("th",{children:S.value},S.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Amis"}),(0,Ne.jsx)("th",{children:M.value},M.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"famille"}),(0,Ne.jsx)("th",{children:B.value},B.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"famille emeline"}),(0,Ne.jsx)("th",{children:H.value},H.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"famille vincent"}),(0,Ne.jsx)("th",{children:W.value},W.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"amis vincent"}),(0,Ne.jsx)("th",{children:G.value},G.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"amis emeline"}),(0,Ne.jsx)("th",{children:V.value},V.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Invit\xe9s au vin d'honneur"}),(0,Ne.jsx)("th",{children:C.value},C.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Invit\xe9s au Repas"}),(0,Ne.jsx)("th",{children:x.value},x.name)]})]})]})}),(0,Ne.jsx)("div",{className:"stat-table-resp-wrapper",children:(0,Ne.jsxs)("table",{className:"stat-table-resp",children:[(0,Ne.jsx)("caption",{children:"Tableau des r\xe9ponses"}),(0,Ne.jsx)("thead",{}),(0,Ne.jsxs)("tbody",{children:[(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"present"}),(0,Ne.jsx)("th",{children:a.value},a.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"absent"}),(0,Ne.jsx)("th",{children:u.value},u.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:h.name}),(0,Ne.jsx)("th",{children:h.value},h.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"nbr r\xe9ponse"}),(0,Ne.jsx)("th",{children:f.value},f.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Pr\xe9sent au repas"}),(0,Ne.jsx)("th",{children:k.value},k.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Pr\xe9sent au vin d'honneur"}),(0,Ne.jsx)("th",{children:R.value},R.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Absent au repas"}),(0,Ne.jsx)("th",{children:D.value},D.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Absent au vin d'honneur"}),(0,Ne.jsx)("th",{children:L.value},L.name)]})]})]})}),(0,Ne.jsx)("div",{className:"stat-table-menu-wrapper",children:(0,Ne.jsxs)("table",{className:"stat-table-menu",children:[(0,Ne.jsx)("caption",{children:"Tableau des menus"}),(0,Ne.jsx)("thead",{}),(0,Ne.jsxs)("tbody",{children:[(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Menu adulte"}),(0,Ne.jsx)("th",{children:w.value},w.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Menu Enfant"}),(0,Ne.jsx)("th",{children:_.value},_.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Menu Vegetarien"}),(0,Ne.jsx)("th",{children:v.value},v.name)]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Allergie"}),(0,Ne.jsx)("th",{children:m.value},m.name)]})]})]})}),(0,Ne.jsx)("div",{className:"stat-table-relance-wrapper",children:(0,Ne.jsxs)("table",{className:"stat-table-relance",children:[(0,Ne.jsx)("caption",{children:"Tableau des relances"}),(0,Ne.jsx)("thead",{}),(0,Ne.jsx)("tbody",{children:J.value&&Array.isArray(J.value)?J.value.map(((e,t)=>(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{children:e.nom}),(0,Ne.jsx)("td",{children:e.prenom})]},t))):(0,Ne.jsx)("tr",{children:(0,Ne.jsx)("td",{colSpan:"2",children:"Aucune donn\xe9e disponible"})})})]})}),(0,Ne.jsx)("div",{className:"stat-table-attente-wrapper",children:(0,Ne.jsxs)("table",{className:"stat-table-attente",children:[(0,Ne.jsx)("caption",{children:"Tableau des attentes"}),(0,Ne.jsx)("thead",{}),(0,Ne.jsx)("tbody",{children:$.value&&Array.isArray($.value)?$.value.map(((e,t)=>(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{children:e.nom}),(0,Ne.jsx)("td",{children:e.prenom})]},t))):(0,Ne.jsx)("tr",{children:(0,Ne.jsx)("td",{colSpan:"2",children:"Aucune donn\xe9e disponible"})})})]})})]})},cS=n.p+"static/media/planTable.12917096f6199de00d64.jpg";const hS=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(cS),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(1),[u,c]=(0,r.useState)({x:0,y:0}),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),m=()=>{d(!1)};return(0,Ne.jsxs)("div",{className:"file-uploader-container",children:[(0,Ne.jsx)("h2",{children:"Chargez une image et visualisez-la"}),(0,Ne.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const n=e.target.files[0];if(n&&n.type.startsWith("image/")){t(n);const e=URL.createObjectURL(n);i(e)}else alert("Veuillez s\xe9lectionner un fichier image valide (jpg, png, gif, etc.).")}}),(0,Ne.jsx)("div",{className:"preview-zone",children:(0,Ne.jsx)("img",{src:n,alt:"Aper\xe7u",className:"image-preview",onClick:()=>{o(!0)}})}),(0,Ne.jsx)("a",{href:n,download:e?e.name:"default-image.jpg",className:"file-download-link",children:"T\xe9l\xe9charger l'image"}),e?(0,Ne.jsx)("p",{className:"placeholder-text",children:"Image t\xe9l\xe9charg\xe9e. Vous pouvez la t\xe9l\xe9charger ou la zoomer."}):(0,Ne.jsx)("p",{className:"placeholder-text",children:"Aucune image t\xe9l\xe9charg\xe9e. Image par d\xe9faut affich\xe9e."}),s&&(0,Ne.jsxs)("div",{className:"zoom-modal",onMouseDown:e=>{d(!0),p({x:e.clientX,y:e.clientY})},onMouseMove:e=>{if(h){const t=e.clientX-f.x,n=e.clientY-f.y;c((e=>({x:e.x+t,y:e.y+n}))),p({x:e.clientX,y:e.clientY})}},onMouseUp:m,onMouseLeave:m,onWheel:e=>{const t=e.deltaY>0?-.1:.1;l((e=>Math.min(Math.max(e+t,.5),3)))},onTouchStart:e=>{const t=e.touches[0];d(!0),p({x:t.clientX,y:t.clientY})},onTouchMove:e=>{if(h){const t=e.touches[0],n=t.clientX-f.x,r=t.clientY-f.y;c((e=>({x:e.x+n,y:e.y+r}))),p({x:t.clientX,y:t.clientY})}},onTouchEnd:()=>{d(!1)},children:[(0,Ne.jsx)("img",{src:n,alt:"Zoom",className:"zoomed-image",style:{transform:"translate(".concat(u.x,"px, ").concat(u.y,"px) scale(").concat(a,")")}}),(0,Ne.jsx)("button",{className:"close-modal",onClick:()=>{o(!1),l(1),c({x:0,y:0})},children:"Fermer"})]})]})},dS=e=>{let{navigator:t}=e;const[n,i]=(0,r.useState)(t),s=$E.firestore().collection(YE),[o,a]=(0,r.useState)([]),[l,u]=(0,r.useState)([]),[c,h]=(0,r.useState)([]),[d,f]=(0,r.useState)(!0),[p,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)(0);return(0,r.useEffect)((()=>{(async()=>{try{const e=await s.get();if(!e.empty){const t=e.docs.map((e=>({id:e.id,...e.data()})));u(t);const n=t.flatMap((e=>Object.keys(e)));h([...new Set(n)])}}catch(e){console.error("Error fetching documents: ",e)}})()}),[]),(0,r.useEffect)((()=>{switch(i(t),t){case 0:default:f(!0),m(!1),v(!1);break;case 1:f(!1),m(!0),v(!1);break;case 2:f(!1),m(!1),v(!0)}}),[t]),(0,r.useEffect)((()=>{w(l.length)}),[l]),0===c.length?(0,Ne.jsx)("div",{children:"Chargement..."}):(0,Ne.jsxs)("div",{children:[d&&(0,Ne.jsx)(lS,{data:c,doc:l}),p&&(0,Ne.jsx)(uS,{data:l}),g&&(0,Ne.jsx)(hS,{})]})},fS=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(0),[s,o]=(0,r.useState)(!1),a=e=>{t(e.target.value)},l=t=>{t.preventDefault(),e.trim()&&"1234"==e&&o(!0)};return(0,r.useEffect)((()=>{o(!1)}),[]),(0,r.useEffect)((()=>{}),[n]),s?(0,Ne.jsxs)("section",{id:"organisation",children:[(0,Ne.jsx)("nav",{className:"orga-navbar",children:(0,Ne.jsxs)("ul",{className:"array-orga",children:[(0,Ne.jsx)("li",{onClick:()=>i(0),children:"Liste "}),(0,Ne.jsx)("li",{onClick:()=>i(1),children:" Stats"}),(0,Ne.jsx)("li",{onClick:()=>i(2),children:" Plan de table"})]})}),(0,Ne.jsx)(dS,{navigator:n})]}):(0,Ne.jsx)("section",{id:"organisation",children:(0,Ne.jsx)("div",{className:"container-form",children:(0,Ne.jsx)("div",{className:"orga-form-wrapper",children:(0,Ne.jsxs)("form",{className:"organisation-form",onSubmit:l,children:[(0,Ne.jsxs)("label",{children:["Entrer le mot de passe:",(0,Ne.jsx)("input",{type:"text",value:e,onChange:a})]}),(0,Ne.jsx)("button",{className:"commentaire-button",type:"submit",children:"Entrer"})]})})})})},pS=()=>{const e=X(),t=(localStorage.getItem("authenticated"),["/"]);return(0,Ne.jsxs)("div",{children:[!t.includes(e.pathname)&&(0,Ne.jsx)(De,{}),(0,Ne.jsx)("div",{className:"container",children:(0,Ne.jsxs)(ge,{children:[(0,Ne.jsx)(pe,{path:"/",exact:!0,element:(0,Ne.jsx)(aS,{})}),(0,Ne.jsx)(pe,{path:"/Bienvenue",element:(0,Ne.jsx)(_i,{})}),(0,Ne.jsx)(pe,{path:"/Presence",element:(0,Ne.jsx)(oS,{})}),(0,Ne.jsx)(pe,{path:"/galerie",element:(0,Ne.jsx)(Ai,{})}),(0,Ne.jsx)(pe,{path:"/services",element:(0,Ne.jsx)(ki,{})}),(0,Ne.jsx)(pe,{path:"/infos",element:(0,Ne.jsx)(xi,{})}),(0,Ne.jsx)(pe,{path:"/organisation",element:(0,Ne.jsx)(fS,{})})]})}),!t.includes(e.pathname)&&(0,Ne.jsx)(Oe,{})]})},mS=()=>(0,Ne.jsx)(Ie,{basename:"/wedding-site",children:(0,Ne.jsx)(pS,{})}),gS=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};s.createRoot(document.getElementById("root")).render((0,Ne.jsx)(r.StrictMode,{children:(0,Ne.jsx)(mS,{})})),gS()})()})();
//# sourceMappingURL=main.e2e193e1.js.map